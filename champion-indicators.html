<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="View and Validate ESG Indicators">
    <title>Indicators | ESG Champions</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    
    <style>
        .indicator-card {
            background: white;
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-4);
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: all var(--transition);
            border-left: 4px solid transparent;
        }
        .indicator-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateX(4px);
        }
        .indicator-card.active {
            border-left-color: var(--primary-500);
            background: var(--primary-50);
        }
        .indicator-detail {
            background: white;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }
        .indicator-header {
            padding: var(--space-6);
            border-bottom: 1px solid var(--gray-100);
        }
        .indicator-body {
            padding: var(--space-6);
        }
        .review-form {
            background: var(--gray-50);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-top: var(--space-6);
        }
        .rating-input {
            display: flex;
            gap: var(--space-2);
        }
        .rating-star {
            width: 32px;
            height: 32px;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--gray-300);
            transition: color var(--transition);
        }
        .rating-star.active,
        .rating-star:hover {
            color: var(--accent-400);
        }
        .review-item {
            border-bottom: 1px solid var(--gray-100);
            padding: var(--space-4) 0;
        }
        .review-item:last-child {
            border-bottom: none;
        }
        .methodology-section {
            background: var(--primary-50);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            margin-bottom: var(--space-4);
        }
        @media (max-width: 1024px) {
            .indicators-layout {
                flex-direction: column !important;
            }
            .indicators-sidebar {
                width: 100% !important;
                max-height: 300px;
                overflow-y: auto;
            }
        }
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-config.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-inner">
            <a href="/" class="logo">
                <img src="/assets/images/Stif logo 1.png" alt="STIF Logo" class="logo-img">
                <span class="logo-subtitle">Sustainability Technology and Innovation Forum</span>
            </a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="/" class="nav-link">Home</a></li>
                    <li><a href="/champion-dashboard.html" class="nav-link">Dashboard</a></li>
                    <li><a href="/champion-panels.html" class="nav-link active">Panels</a></li>
                    <li><a href="/ranking.html" class="nav-link">Rankings</a></li>
                </ul>
            </nav>
            <div class="nav-actions"></div>
            <button class="mobile-menu-toggle" aria-label="Toggle menu">
                <span></span><span></span><span></span>
            </button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <button class="mobile-menu-close">&times;</button>
        <ul class="mobile-nav-menu"></ul>
    </div>

    <!-- Main Content -->
    <main style="padding-top: 100px; min-height: 100vh; background: var(--gray-50);">
        <div class="container">
            <!-- Breadcrumb -->
            <nav class="mb-6" style="font-size: var(--text-sm);">
                <a href="/champion-panels.html" class="text-secondary">Panels</a>
                <span class="text-secondary"> / </span>
                <span id="breadcrumb-panel" class="font-semibold">Loading...</span>
            </nav>

            <!-- Loading State -->
            <div id="loading-state" class="flex-center" style="height: 400px;">
                <div class="loading-spinner"></div>
            </div>

            <!-- Content -->
            <div id="indicators-content" class="hidden">
                <!-- Panel Header -->
                <div class="widget mb-6" id="panel-header">
                    <div class="widget-body">
                        <div class="flex-between">
                            <div>
                                <span class="badge mb-2" id="panel-category-badge">Loading</span>
                                <h1 id="panel-name" style="font-size: var(--text-3xl); margin-bottom: var(--space-2);">Panel Name</h1>
                                <p class="text-secondary" id="panel-description">Panel description</p>
                            </div>
                            <div class="text-right">
                                <div class="stat-value text-gradient" id="indicator-count">0</div>
                                <div class="text-secondary">Indicators</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Layout -->
                <div class="indicators-layout flex" style="gap: var(--space-6);">
                    <!-- Indicators Sidebar -->
                    <div class="indicators-sidebar" style="width: 280px; flex-shrink: 0;">
                        <h3 class="mb-4">Indicators</h3>
                        <div id="indicators-list">
                            <!-- Populated by JS -->
                        </div>
                    </div>

                    <!-- Indicator Detail -->
                    <div style="flex: 1; min-width: 0;">
                        <div class="indicator-detail" id="indicator-detail" style="width: 100%;">
                            <div class="text-center p-8">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--gray-300)" stroke-width="2" style="margin: 0 auto var(--space-4);">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                                <p class="text-secondary">Select an indicator to view details and submit a review</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 STIF. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="supabase-service.js"></script>
    <script src="champion-auth-supabase.js"></script>
    <script src="champion-db-supabase.js"></script>
    <script src="dynamic-navigation.js"></script>
    <script src="mobile-menu.js"></script>
    <script src="logout.js"></script>
    <script src="champion-indicators.js"></script>
</body>
</html>

