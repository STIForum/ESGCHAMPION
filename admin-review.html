<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Admin Review Panel - STIF Sustainability Technology and Innovation Forum">
    <title>Admin Panel | STIF - Sustainability Technology and Innovation Forum</title>
    
    <!-- STIF Fonts: Roboto with Montserrat fallback -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    
    <style>
        .admin-tabs {
            display: flex;
            gap: var(--space-2);
            margin-bottom: var(--space-6);
            border-bottom: 2px solid var(--gray-200);
            padding-bottom: var(--space-2);
        }
        .admin-tab {
            padding: var(--space-3) var(--space-5);
            border-radius: var(--radius-lg) var(--radius-lg) 0 0;
            font-weight: 600;
            color: var(--gray-500);
            cursor: pointer;
            transition: all var(--transition);
            background: none;
            border: none;
        }
        .admin-tab:hover {
            color: var(--gray-700);
            background: var(--gray-50);
        }
        .admin-tab.active {
            color: var(--primary-700);
            background: var(--primary-50);
            border-bottom: 2px solid var(--primary-500);
            margin-bottom: -2px;
        }
        .review-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-bottom: var(--space-4);
            box-shadow: var(--shadow);
            transition: all var(--transition);
        }
        .review-card:hover {
            box-shadow: var(--shadow-lg);
        }
        .review-actions {
            display: flex;
            gap: var(--space-2);
            margin-top: var(--space-4);
            padding-top: var(--space-4);
            border-top: 1px solid var(--gray-100);
        }
        .panel-review-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-bottom: var(--space-4);
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: all var(--transition);
            border-left: 4px solid var(--warning);
        }
        .panel-review-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateX(4px);
        }
        .panel-review-card.approved {
            border-left-color: var(--success);
        }
        .panel-review-card.rejected {
            border-left-color: var(--error);
        }
        .indicator-review-item {
            background: var(--gray-50);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            margin-bottom: var(--space-3);
        }
        .indicator-review-item:last-child {
            margin-bottom: 0;
        }

        .metadata-label {
            font-size: var(--text-sm);
            color: var(--gray-500);
            margin-bottom: var(--space-1);
        }

        .metadata-value {
            font-weight: 600;
            color: var(--gray-800);
        }

        .methodology-section {
            background: var(--gray-50);
            border-radius: var(--radius-lg);
            padding: var(--space-3);
            border: 1px solid var(--gray-100);
        }

        .methodology-grid {
            display: grid;
            gap: var(--space-3);
        }
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-config.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-inner">
            <a href="/" class="logo">
                <img src="assets/images/logo1.png" alt="STIF Logo" class="logo-img">
                <span class="logo-text">Sustainability Technology and Innovation Forum</span>
            </a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="/" class="nav-link">Home</a></li>
                    <li><a href="/champion-dashboard.html" class="nav-link">Dashboard</a></li>
                    <li><a href="/champion-panels.html" class="nav-link">Panels</a></li>
                    <li><a href="/admin-review.html" class="nav-link active">Admin</a></li>
                </ul>
            </nav>
            <div class="nav-actions"></div>
            <button class="mobile-menu-toggle" aria-label="Toggle menu">
                <span></span><span></span><span></span>
            </button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <button class="mobile-menu-close">&times;</button>
        <ul class="mobile-nav-menu"></ul>
    </div>

    <!-- Main Content -->
    <main style="padding-top: 100px; min-height: 100vh; background: var(--gray-50);">
        <div class="container">
            <!-- Header -->
            <div class="flex-between mb-6">
                <div>
                    <h1>Admin Panel</h1>
                    <p class="text-secondary">Manage reviews, panels, and indicators</p>
                </div>
                <button class="btn btn-secondary" id="export-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    Export Data
                </button>
            </div>

            <!-- Admin Tabs -->
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="panel-reviews">
                    Panel Reviews
                    <span class="badge badge-warning" id="panel-pending-count" style="margin-left: var(--space-2);">0</span>
                </button>
                <button class="admin-tab" data-tab="frameworks">Frameworks</button>
                <button class="admin-tab" data-tab="panels">Panels</button>
                <button class="admin-tab" data-tab="indicators">Indicators</button>
                <button class="admin-tab" data-tab="champions">Champions</button>
            </div>

            <!-- Loading State -->
            <div id="loading-state" class="flex-center" style="height: 300px;">
                <div class="loading-spinner"></div>
            </div>

            <!-- Tab Content -->
            <div id="admin-content" class="hidden">
                <!-- Panel Reviews Tab -->
                <div id="tab-panel-reviews" class="tab-content">
                    <div id="panel-reviews-queue">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Frameworks Tab -->
                <div id="tab-frameworks" class="tab-content hidden">
                    <div class="flex-between mb-4">
                        <h3>Frameworks</h3>
                        <button class="btn btn-secondary" id="add-framework-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Framework
                        </button>
                    </div>
                    <div id="frameworks-list">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Panels Tab -->
                <div id="tab-panels" class="tab-content hidden">
                    <div class="flex-between mb-4">
                        <h3>ESG Panels</h3>
                        <button class="btn btn-primary" id="add-panel-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Panel
                        </button>
                    </div>
                    <div id="panels-list">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Indicators Tab -->
                <div id="tab-indicators" class="tab-content hidden">
                    <div class="flex-between mb-4">
                        <h3>ESG Indicators</h3>
                        <button class="btn btn-primary" id="add-indicator-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Indicator
                        </button>
                    </div>
                    <div id="indicators-list">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Champions Tab -->
                <div id="tab-champions" class="tab-content hidden">
                    <h3 class="mb-4">Champions</h3>
                    <div id="champions-list">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Panel Review Modal -->
    <div class="modal-backdrop" id="panel-review-modal-backdrop">
        <div class="modal" id="panel-review-modal" style="max-width: 700px; max-height: 80vh;">
            <div class="modal-header">
                <h3 class="modal-title" id="panel-review-modal-title">Panel Review Details</h3>
                <button class="modal-close" id="panel-review-modal-close">&times;</button>
            </div>
            <div class="modal-body" id="panel-review-modal-body" style="max-height: 60vh; overflow-y: auto;">
                <!-- Populated by JS -->
            </div>
            <div class="modal-footer" id="panel-review-modal-footer">
                <!-- Populated by JS -->
            </div>
        </div>
    </div>

    <!-- Add Panel Modal -->
    <div class="modal-backdrop" id="add-panel-modal-backdrop">
        <div class="modal" id="add-panel-modal" style="max-width: 700px; max-height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title">Add Panel</h3>
                <button class="modal-close" id="add-panel-modal-close">&times;</button>
            </div>
            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                <form id="add-panel-form">
                    <!-- Panel Title -->
                    <div class="form-group">
                        <label class="form-label">Panel Title <span style="color: var(--error);">*</span></label>
                        <input type="text" class="form-input" id="panel-title" name="title" placeholder="e.g., Climate & GHG Emissions Panel" required>
                        <span class="form-error" id="panel-title-error"></span>
                    </div>

                    <!-- Panel Category + Impact (two columns) -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4);">
                        <div class="form-group">
                            <label class="form-label">Panel Category <span style="color: var(--error);">*</span></label>
                            <select class="form-select" id="panel-category" name="category" required>
                                <option value="">Select category</option>
                                <option value="Energy & Resource Use">Energy & Resource Use</option>
                                <option value="Climate & GHG Emissions">Climate & GHG Emissions</option>
                                <option value="Water, Waste & Circularity">Water, Waste & Circularity</option>
                                <option value="Biodiversity & Land Use">Biodiversity & Land Use</option>
                                <option value="Pollution & Air Quality">Pollution & Air Quality</option>
                                <option value="Workforce & Labour Practices">Workforce & Labour Practices</option>
                                <option value="Diversity, Equity & Inclusion (DEI)">Diversity, Equity & Inclusion (DEI)</option>
                                <option value="Human Rights & Supply Chain">Human Rights & Supply Chain</option>
                                <option value="Community & Social Impact">Community & Social Impact</option>
                                <option value="Health & Safety">Health & Safety</option>
                                <option value="Ethics, Compliance & Anti-Corruption">Ethics, Compliance & Anti-Corruption</option>
                                <option value="Risk Management & Resilience">Risk Management & Resilience</option>
                                <option value="Data Privacy & Cybersecurity">Data Privacy & Cybersecurity</option>
                                <option value="Product Responsibility & Quality">Product Responsibility & Quality</option>
                                <option value="ESG Strategy, Materiality & Innovation">ESG Strategy, Materiality & Innovation</option>
                            </select>
                            <span class="form-error" id="panel-category-error"></span>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Impact <span style="color: var(--error);">*</span></label>
                            <select class="form-select" id="panel-impact" name="impact" required>
                                <option value="">Select impact level</option>
                                <option value="High">High</option>
                                <option value="Medium">Medium</option>
                                <option value="Foundational">Foundational</option>
                            </select>
                            <span class="form-error" id="panel-impact-error"></span>
                        </div>
                    </div>

                    <!-- Description -->
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-textarea" id="panel-description" name="description" placeholder="Short description of what this panel covers." rows="3"></textarea>
                    </div>

                    <!-- ESG Classification + Primary Framework (two columns) -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4);">
                        <div class="form-group">
                            <label class="form-label">ESG Classification <span style="color: var(--error);">*</span></label>
                            <select class="form-select" id="panel-esg-classification" name="esgClassification" required>
                                <option value="">Select classification</option>
                                <option value="Environment">Environment</option>
                                <option value="Social">Social</option>
                                <option value="Governance">Governance</option>
                            </select>
                            <span class="form-error" id="panel-esg-classification-error"></span>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Primary Framework <span style="color: var(--error);">*</span></label>
                            <select class="form-select" id="panel-framework" name="primaryFramework" required>
                                <option value="">Select framework</option>
                            </select>
                            <span class="form-error" id="panel-framework-error"></span>
                        </div>
                    </div>

                    <!-- Related SDGs -->
                    <div class="form-group">
                        <label class="form-label">Related SDGs</label>
                        <select class="form-select" id="panel-sdgs" name="relatedSdgs" multiple size="7" style="height: auto;">
                            <option value="SDG 1">SDG 1 â€“ No Poverty</option>
                            <option value="SDG 2">SDG 2 â€“ Zero Hunger</option>
                            <option value="SDG 3">SDG 3 â€“ Good Health and Well-Being</option>
                            <option value="SDG 4">SDG 4 â€“ Quality Education</option>
                            <option value="SDG 5">SDG 5 â€“ Gender Equality</option>
                            <option value="SDG 6">SDG 6 â€“ Clean Water and Sanitation</option>
                            <option value="SDG 7">SDG 7 â€“ Affordable and Clean Energy</option>
                            <option value="SDG 8">SDG 8 â€“ Decent Work and Economic Growth</option>
                            <option value="SDG 9">SDG 9 â€“ Industry, Innovation and Infrastructure</option>
                            <option value="SDG 10">SDG 10 â€“ Reduced Inequalities</option>
                            <option value="SDG 11">SDG 11 â€“ Sustainable Cities and Communities</option>
                            <option value="SDG 12">SDG 12 â€“ Responsible Consumption and Production</option>
                            <option value="SDG 13">SDG 13 â€“ Climate Action</option>
                            <option value="SDG 14">SDG 14 â€“ Life Below Water</option>
                            <option value="SDG 15">SDG 15 â€“ Life on Land</option>
                            <option value="SDG 16">SDG 16 â€“ Peace, Justice and Strong Institutions</option>
                            <option value="SDG 17">SDG 17 â€“ Partnerships for the Goals</option>
                        </select>
                        <p class="form-helper">Hold <strong>Cmd (Mac)</strong> or <strong>Ctrl (Windows)</strong> to select multiple SDGs.</p>
                    </div>

                    <!-- Purpose -->
                    <div class="form-group">
                        <label class="form-label">Purpose</label>
                        <textarea class="form-textarea" id="panel-purpose" name="purpose" placeholder="Panel purpose or intended use." rows="2"></textarea>
                    </div>

                    <!-- Unicode + Icon (two columns) -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4);">
                        <div class="form-group">
                            <label class="form-label">Unicode (optional)</label>
                            <input type="text" class="form-input" id="panel-unicode" name="unicode" placeholder="e.g., U+1F30D">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Icon (Emoji or Unicode)</label>
                            <input type="text" class="form-input" id="panel-icon" name="icon" placeholder="e.g., ðŸŒ">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="display: flex; justify-content: flex-start; gap: var(--space-3);">
                <button type="button" class="btn btn-primary" id="save-panel-btn">Save Panel</button>
                <button type="button" class="btn btn-secondary" id="cancel-panel-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add Framework Modal -->
    <div class="modal-backdrop" id="add-framework-modal-backdrop">
        <div class="modal" id="add-framework-modal" style="max-width: 640px; max-height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title">Add Framework</h3>
                <button class="modal-close" id="add-framework-modal-close">&times;</button>
            </div>
            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                <form id="add-framework-form">
                    <div class="form-group">
                        <label class="form-label">Framework Name <span style="color: var(--error);">*</span></label>
                        <input type="text" class="form-input" id="framework-name" placeholder="e.g., GRI Standards" required>
                        <span class="form-error" id="framework-name-error"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Framework Code <span style="color: var(--error);">*</span></label>
                        <input type="text" class="form-input" id="framework-code" placeholder="e.g., GRI, VSME, ISSB_S1" required>
                        <span class="form-error" id="framework-code-error"></span>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4);">
                        <div class="form-group">
                            <label class="form-label">Version / Edition <span style="color: var(--error);">*</span></label>
                            <input type="text" class="form-input" id="framework-version" placeholder="e.g., 2024, 1.1.1" required>
                            <span class="form-error" id="framework-version-error"></span>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Status <span style="color: var(--error);">*</span></label>
                            <select class="form-select" id="framework-status" required>
                                <option value="">Select status</option>
                                <option value="draft">Draft</option>
                                <option value="active">Active</option>
                                <option value="deprecated">Deprecated</option>
                            </select>
                            <span class="form-error" id="framework-status-error"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Owner / Publisher <span style="color: var(--error);">*</span></label>
                        <input type="text" class="form-input" id="framework-owner" placeholder="e.g., GRI, EFRAG, ISSB" required>
                        <span class="form-error" id="framework-owner-error"></span>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="display: flex; justify-content: flex-start; gap: var(--space-3);">
                <button type="button" class="btn btn-primary" id="save-framework-btn">Save Framework</button>
                <button type="button" class="btn btn-secondary" id="cancel-framework-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Edit Panel Modal -->
    <div class="modal-backdrop" id="edit-panel-modal-backdrop">
        <div class="modal" id="edit-panel-modal" style="max-width: 700px; max-height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title">Edit Panel</h3>
                <button class="modal-close" id="edit-panel-modal-close">&times;</button>
            </div>
            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                <form id="edit-panel-form">
                    <input type="hidden" id="edit-panel-id" name="id">
                    
                    <!-- Panel Title -->
                    <div class="form-group">
                        <label class="form-label">Panel Title <span style="color: var(--error);">*</span></label>
                        <input type="text" class="form-input" id="edit-panel-title" name="title" placeholder="e.g., Climate & GHG Emissions Panel" required>
                        <span class="form-error" id="edit-panel-title-error"></span>
                    </div>

                    <!-- Panel Category + Impact (two columns) -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4);">
                        <div class="form-group">
                            <label class="form-label">Panel Category <span style="color: var(--error);">*</span></label>
                            <select class="form-select" id="edit-panel-category" name="category" required>
                                <option value="">Select category</option>
                                <option value="Energy & Resource Use">Energy & Resource Use</option>
                                <option value="Climate & GHG Emissions">Climate & GHG Emissions</option>
                                <option value="Water, Waste & Circularity">Water, Waste & Circularity</option>
                                <option value="Biodiversity & Land Use">Biodiversity & Land Use</option>
                                <option value="Pollution & Air Quality">Pollution & Air Quality</option>
                                <option value="Workforce & Labour Practices">Workforce & Labour Practices</option>
                                <option value="Diversity, Equity & Inclusion (DEI)">Diversity, Equity & Inclusion (DEI)</option>
                                <option value="Human Rights & Supply Chain">Human Rights & Supply Chain</option>
                                <option value="Community & Social Impact">Community & Social Impact</option>
                                <option value="Health & Safety">Health & Safety</option>
                                <option value="Ethics, Compliance & Anti-Corruption">Ethics, Compliance & Anti-Corruption</option>
                                <option value="Risk Management & Resilience">Risk Management & Resilience</option>
                                <option value="Data Privacy & Cybersecurity">Data Privacy & Cybersecurity</option>
                                <option value="Product Responsibility & Quality">Product Responsibility & Quality</option>
                                <option value="ESG Strategy, Materiality & Innovation">ESG Strategy, Materiality & Innovation</option>
                                <!-- Legacy values -->
                                <option value="environmental">Environmental (Legacy)</option>
                                <option value="social">Social (Legacy)</option>
                                <option value="governance">Governance (Legacy)</option>
                            </select>
                            <span class="form-error" id="edit-panel-category-error"></span>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Impact <span style="color: var(--error);">*</span></label>
                            <select class="form-select" id="edit-panel-impact" name="impact" required>
                                <option value="">Select impact level</option>
                                <option value="High">High</option>
                                <option value="Medium">Medium</option>
                                <option value="Foundational">Foundational</option>
                            </select>
                            <span class="form-error" id="edit-panel-impact-error"></span>
                        </div>
                    </div>

                    <!-- Description -->
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-textarea" id="edit-panel-description" name="description" placeholder="Short description of what this panel covers." rows="3"></textarea>
                    </div>

                    <!-- ESG Classification + Primary Framework (two columns) -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4);">
                        <div class="form-group">
                            <label class="form-label">ESG Classification <span style="color: var(--error);">*</span></label>
                            <select class="form-select" id="edit-panel-esg-classification" name="esgClassification" required>
                                <option value="">Select classification</option>
                                <option value="Environment">Environment</option>
                                <option value="Social">Social</option>
                                <option value="Governance">Governance</option>
                            </select>
                            <span class="form-error" id="edit-panel-esg-classification-error"></span>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Primary Framework <span style="color: var(--error);">*</span></label>
                            <select class="form-select" id="edit-panel-framework" name="primaryFramework" required>
                                <option value="">Select framework</option>
                            </select>
                            <span class="form-error" id="edit-panel-framework-error"></span>
                        </div>
                    </div>

                    <!-- Related SDGs -->
                    <div class="form-group">
                        <label class="form-label">Related SDGs</label>
                        <select class="form-select" id="edit-panel-sdgs" name="relatedSdgs" multiple size="7" style="height: auto;">
                            <option value="SDG 1">SDG 1 â€“ No Poverty</option>
                            <option value="SDG 2">SDG 2 â€“ Zero Hunger</option>
                            <option value="SDG 3">SDG 3 â€“ Good Health and Well-Being</option>
                            <option value="SDG 4">SDG 4 â€“ Quality Education</option>
                            <option value="SDG 5">SDG 5 â€“ Gender Equality</option>
                            <option value="SDG 6">SDG 6 â€“ Clean Water and Sanitation</option>
                            <option value="SDG 7">SDG 7 â€“ Affordable and Clean Energy</option>
                            <option value="SDG 8">SDG 8 â€“ Decent Work and Economic Growth</option>
                            <option value="SDG 9">SDG 9 â€“ Industry, Innovation and Infrastructure</option>
                            <option value="SDG 10">SDG 10 â€“ Reduced Inequalities</option>
                            <option value="SDG 11">SDG 11 â€“ Sustainable Cities and Communities</option>
                            <option value="SDG 12">SDG 12 â€“ Responsible Consumption and Production</option>
                            <option value="SDG 13">SDG 13 â€“ Climate Action</option>
                            <option value="SDG 14">SDG 14 â€“ Life Below Water</option>
                            <option value="SDG 15">SDG 15 â€“ Life on Land</option>
                            <option value="SDG 16">SDG 16 â€“ Peace, Justice and Strong Institutions</option>
                            <option value="SDG 17">SDG 17 â€“ Partnerships for the Goals</option>
                        </select>
                        <p class="form-helper">Hold <strong>Cmd (Mac)</strong> or <strong>Ctrl (Windows)</strong> to select multiple SDGs.</p>
                    </div>

                    <!-- Purpose -->
                    <div class="form-group">
                        <label class="form-label">Purpose</label>
                        <textarea class="form-textarea" id="edit-panel-purpose" name="purpose" placeholder="Panel purpose or intended use." rows="2"></textarea>
                    </div>

                    <!-- Unicode + Icon (two columns) -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4);">
                        <div class="form-group">
                            <label class="form-label">Unicode (optional)</label>
                            <input type="text" class="form-input" id="edit-panel-unicode" name="unicode" placeholder="e.g., U+1F30D">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Icon (Emoji or Unicode)</label>
                            <input type="text" class="form-input" id="edit-panel-icon" name="icon" placeholder="e.g., ðŸŒ">
                        </div>
                    </div>

                    <!-- CSV Import Section for Panel Indicators -->
                    <div style="background: var(--gray-50); border-radius: var(--radius-lg); padding: var(--space-4); margin: var(--space-4) 0;">
                        <div style="display: flex; align-items: center; justify-content: space-between; gap: var(--space-4); margin-bottom: var(--space-3);">
                            <div>
                                <strong>Import Indicators to This Panel</strong>
                                <p class="text-muted" style="font-size: var(--text-sm); margin-top: var(--space-1);">Upload a CSV file to add multiple indicators to this panel.</p>
                            </div>
                            <div style="display: flex; gap: var(--space-2);">
                                <button type="button" class="btn btn-secondary btn-sm" id="edit-panel-download-csv-btn">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="7 10 12 15 17 10"></polyline>
                                        <line x1="12" y1="15" x2="12" y2="3"></line>
                                    </svg>
                                    Template
                                </button>
                                <label class="btn btn-primary btn-sm" style="cursor: pointer;">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="17 8 12 3 7 8"></polyline>
                                        <line x1="12" y1="3" x2="12" y2="15"></line>
                                    </svg>
                                    Import CSV
                                    <input type="file" id="edit-panel-csv-input" accept=".csv" style="display: none;">
                                </label>
                            </div>
                        </div>
                        <div id="edit-panel-csv-status" style="display: none; padding: var(--space-2); border-radius: var(--radius-md); font-size: var(--text-sm);"></div>
                        <p class="text-secondary" style="font-size: var(--text-xs); margin-top: var(--space-2);">
                            <strong>Current Panel Indicators:</strong> <span id="edit-panel-indicator-count">0</span>
                        </p>
                    </div>

                    <!-- Status -->
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <div style="display: flex; align-items: center; gap: var(--space-3);">
                            <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                <input type="checkbox" id="edit-panel-active" name="isActive" checked>
                                <span>Active</span>
                            </label>
                            <span class="text-secondary" style="font-size: var(--text-sm);">Inactive panels won't appear in the champion panels list</span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="display: flex; justify-content: space-between; gap: var(--space-3);">
                <div style="display: flex; gap: var(--space-2);">
                    <button type="button" class="btn btn-error" id="delete-panel-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                        Delete
                    </button>
                    <button type="button" class="btn" id="toggle-panel-visibility-btn" style="background: var(--gray-100); color: var(--gray-700);">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" id="visibility-icon">
                            <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                            <line x1="1" y1="1" x2="23" y2="23"></line>
                        </svg>
                        <span id="visibility-btn-text">Hide</span>
                    </button>
                </div>
                <div style="display: flex; gap: var(--space-3);">
                    <button type="button" class="btn btn-secondary" id="cancel-edit-panel-btn">Cancel</button>
                    <button type="button" class="btn btn-primary" id="update-panel-btn">Update Panel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Indicator Modal -->
    <div class="modal-backdrop" id="add-indicator-modal-backdrop">
        <div class="modal" id="add-indicator-modal" style="max-width: 700px; max-height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title">Add Indicator to Panel</h3>
                <button class="modal-close" id="add-indicator-modal-close">&times;</button>
            </div>
            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                <!-- CSV Import Section -->
                <div style="background: var(--gray-50); border-radius: var(--radius-lg); padding: var(--space-4); margin-bottom: var(--space-4);">
                    <div style="display: flex; align-items: center; justify-content: space-between; gap: var(--space-4);">
                        <div>
                            <strong>Import from CSV</strong>
                            <p class="text-muted" style="font-size: var(--text-sm); margin-top: var(--space-1);">Upload a CSV file to import multiple indicators at once.</p>
                        </div>
                        <div style="display: flex; gap: var(--space-2);">
                            <button type="button" class="btn btn-secondary btn-sm" id="download-csv-template-btn">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 4px;">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                Template
                            </button>
                            <label class="btn btn-primary btn-sm" style="cursor: pointer;">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 4px;">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                </svg>
                                Import CSV
                                <input type="file" id="csv-import-input" accept=".csv" style="display: none;">
                            </label>
                        </div>
                    </div>
                    <div id="csv-import-status" style="display: none; margin-top: var(--space-3);"></div>
                </div>

                <div style="text-align: center; color: var(--gray-400); margin-bottom: var(--space-4);">
                    <span style="display: inline-flex; align-items: center; gap: var(--space-2);">
                        <span style="width: 40px; height: 1px; background: var(--gray-200);"></span>
                        or add manually
                        <span style="width: 40px; height: 1px; background: var(--gray-200);"></span>
                    </span>
                </div>

                <form id="add-indicator-form">
                    <!-- Panel Selection (Required) -->
                    <div class="form-group">
                        <label class="form-label">Panel <span style="color: var(--error);">*</span></label>
                        <select class="form-select" id="indicator-panel" name="panelId" required>
                            <option value="">Select a panel for this indicator</option>
                        </select>
                        <span class="form-error" id="indicator-panel-error"></span>
                        <p class="form-helper">Indicators are specific to panels and cannot be shared across panels.</p>
                    </div>

                    <!-- Unit + Formula Required -->
                    <div style="display: grid; grid-template-columns: 1fr auto; gap: var(--space-4); align-items: end;">
                        <div class="form-group">
                            <label class="form-label">Unit</label>
                            <input type="text" class="form-input" id="indicator-unit" name="unit" placeholder="e.g., tCO2e, kWh">
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer; padding: var(--space-3) 0;">
                                <input type="checkbox" id="indicator-formula-required" name="formulaRequired">
                                <span>Formula Required</span>
                            </label>
                        </div>
                    </div>

                    <!-- Indicator Title -->
                    <div class="form-group">
                        <label class="form-label">Indicator Title <span style="color: var(--error);">*</span></label>
                        <input type="text" class="form-input" id="indicator-title" name="title" placeholder="e.g., Scope 1 GHG Emissions (Tonnes COâ‚‚e)" required>
                        <span class="form-error" id="indicator-title-error"></span>
                    </div>

                    <!-- Indicator Code -->
                    <div class="form-group">
                        <label class="form-label">Indicator Code</label>
                        <input type="text" class="form-input" id="indicator-code" name="code" placeholder="e.g., GRI 305-1, ESRS E1-1, SASB RT-CH-110a.1">
                    </div>

                    <!-- Primary Framework -->
                    <div class="form-group">
                        <label class="form-label">Primary Framework</label>
                        <select class="form-select" id="indicator-framework" name="primaryFramework">
                            <option value="">Select framework</option>
                            <option value="gri">GRI</option>
                            <option value="esrs">ESRS</option>
                            <option value="ifrs">IFRS</option>
                        </select>
                    </div>

                    <!-- Framework Version -->
                    <div class="form-group">
                        <label class="form-label">Framework Version</label>
                        <input type="text" class="form-input" id="indicator-framework-version" name="frameworkVersion" placeholder="e.g., 2021 Update">
                    </div>

                    <!-- Description -->
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-textarea" id="indicator-description" name="description" placeholder="Short description of what this indicator measures." rows="3"></textarea>
                    </div>

                    <!-- Why It Matters to SMEs -->
                    <div class="form-group">
                        <label class="form-label">Why It Matters to SMEs</label>
                        <textarea class="form-textarea" id="indicator-why-matters" name="whyItMatters" placeholder="Explain why this indicator is important for SMEs and how it supports their sustainability journey." rows="3"></textarea>
                    </div>

                    <!-- Impact Level -->
                    <div class="form-group">
                        <label class="form-label">Impact Level</label>
                        <select class="form-select" id="indicator-impact" name="impactLevel">
                            <option value="">Select impact level</option>
                            <option value="High">High</option>
                            <option value="Medium">Medium</option>
                            <option value="Foundational">Foundational</option>
                        </select>
                    </div>

                    <!-- Difficulty Level -->
                    <div class="form-group">
                        <label class="form-label">Difficulty Level</label>
                        <select class="form-select" id="indicator-difficulty" name="difficultyLevel">
                            <option value="">Select how difficult it is for SMEs to report on this indicator</option>
                            <option value="Easy">Easy</option>
                            <option value="Moderate">Moderate</option>
                            <option value="Complex">Complex</option>
                        </select>
                    </div>

                    <!-- Estimated Time to Validate -->
                    <div class="form-group">
                        <label class="form-label">Estimated Time to Validate</label>
                        <input type="text" class="form-input" id="indicator-estimated-time" name="estimatedTime" placeholder="e.g., 3â€“5 minutes">
                    </div>

                    <!-- ESG Class -->
                    <div class="form-group">
                        <label class="form-label">ESG Class</label>
                        <select class="form-select" id="indicator-esg-class" name="esgClass">
                            <option value="">Select ESG classification</option>
                            <option value="Environment">Environment</option>
                            <option value="Social">Social</option>
                            <option value="Governance">Governance</option>
                        </select>
                    </div>

                    <!-- Related SDGs -->
                    <div class="form-group">
                        <label class="form-label">Related SDG(s)</label>
                        <select class="form-select" id="indicator-sdgs" name="relatedSdgs" multiple size="6" style="height: auto;">
                            <option value="SDG 1">SDG 1 â€“ No Poverty</option>
                            <option value="SDG 2">SDG 2 â€“ Zero Hunger</option>
                            <option value="SDG 3">SDG 3 â€“ Good Health and Well-Being</option>
                            <option value="SDG 4">SDG 4 â€“ Quality Education</option>
                            <option value="SDG 5">SDG 5 â€“ Gender Equality</option>
                            <option value="SDG 6">SDG 6 â€“ Clean Water and Sanitation</option>
                            <option value="SDG 7">SDG 7 â€“ Affordable and Clean Energy</option>
                            <option value="SDG 8">SDG 8 â€“ Decent Work and Economic Growth</option>
                            <option value="SDG 9">SDG 9 â€“ Industry, Innovation and Infrastructure</option>
                            <option value="SDG 10">SDG 10 â€“ Reduced Inequalities</option>
                            <option value="SDG 11">SDG 11 â€“ Sustainable Cities and Communities</option>
                            <option value="SDG 12">SDG 12 â€“ Responsible Consumption and Production</option>
                            <option value="SDG 13">SDG 13 â€“ Climate Action</option>
                            <option value="SDG 14">SDG 14 â€“ Life Below Water</option>
                            <option value="SDG 15">SDG 15 â€“ Life on Land</option>
                            <option value="SDG 16">SDG 16 â€“ Peace, Justice and Strong Institutions</option>
                            <option value="SDG 17">SDG 17 â€“ Partnerships for the Goals</option>
                        </select>
                        <p class="form-helper">Hold <strong>Cmd (Mac)</strong> or <strong>Ctrl (Windows)</strong> to select multiple SDGs.</p>
                    </div>

                    <!-- Indicator Validation Question -->
                    <div class="form-group">
                        <label class="form-label">Indicator Validation Question</label>
                        <textarea class="form-textarea" id="indicator-validation-question" name="validationQuestion" placeholder="Enter the question the ESG Champion must answer to validate this indicator." rows="2"></textarea>
                    </div>

                    <!-- Response Type -->
                    <div class="form-group">
                        <label class="form-label">Response Type</label>
                        <select class="form-select" id="indicator-response-type" name="responseType">
                            <option value="">Choose the response format</option>
                            <option value="Multiple Choice">Multiple Choice</option>
                            <option value="Yes-No">Yesâ€“No</option>
                            <option value="Short Text">Short Text</option>
                            <option value="Long Text">Long Text</option>
                        </select>
                    </div>

                    <!-- Indicator Tags -->
                    <div class="form-group">
                        <label class="form-label">Indicator Tags (Optional)</label>
                        <input type="text" class="form-input" id="indicator-tags" name="tags" placeholder="e.g., emissions, water use, SME reporting, data availability...">
                    </div>

                    <!-- Icon / Unicode -->
                    <div class="form-group">
                        <label class="form-label">Icon / Unicode (Optional)</label>
                        <input type="text" class="form-input" id="indicator-icon" name="icon" placeholder="Select icon or enter Unicode character">
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="display: flex; justify-content: flex-start; gap: var(--space-3);">
                <button type="button" class="btn btn-primary" id="save-indicator-btn">Save Indicator</button>
                <button type="button" class="btn btn-secondary" id="cancel-indicator-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Edit Indicator Modal -->
    <div class="modal-backdrop" id="edit-indicator-modal-backdrop">
        <div class="modal" id="edit-indicator-modal" style="max-width: 700px; max-height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title">Edit Indicator</h3>
                <button class="modal-close" id="edit-indicator-modal-close">&times;</button>
            </div>
            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                <form id="edit-indicator-form">
                    <input type="hidden" id="edit-indicator-id" name="id">

                    <!-- Panel Selection -->
                    <div class="form-group">
                        <label class="form-label">Assign to Panel <span style="color: var(--error);">*</span></label>
                        <select class="form-select" id="edit-indicator-panel" name="panel_id" required>
                            <option value="">Select a panel...</option>
                        </select>
                        <span class="form-error" id="edit-indicator-panel-error"></span>
                        <p class="form-helper">The indicator will only appear in the selected panel.</p>
                    </div>

                    <!-- Unit + Formula Required -->
                    <div style="display: grid; grid-template-columns: 1fr auto; gap: var(--space-4); align-items: end;">
                        <div class="form-group">
                            <label class="form-label">Unit</label>
                            <input type="text" class="form-input" id="edit-indicator-unit" name="unit" placeholder="e.g., tCO2e, kWh">
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer; padding: var(--space-3) 0;">
                                <input type="checkbox" id="edit-indicator-formula-required" name="formulaRequired">
                                <span>Formula Required</span>
                            </label>
                        </div>
                    </div>

                    <!-- Indicator Title -->
                    <div class="form-group">
                        <label class="form-label">Indicator Title <span style="color: var(--error);">*</span></label>
                        <input type="text" class="form-input" id="edit-indicator-title" name="title" placeholder="e.g., Scope 1 GHG Emissions (Tonnes COâ‚‚e)" required>
                        <span class="form-error" id="edit-indicator-title-error"></span>
                    </div>

                    <!-- Indicator Code -->
                    <div class="form-group">
                        <label class="form-label">Indicator Code</label>
                        <input type="text" class="form-input" id="edit-indicator-code" name="code" placeholder="e.g., GRI 305-1, ESRS E1-1, SASB RT-CH-110a.1">
                    </div>

                    <!-- Primary Framework -->
                    <div class="form-group">
                        <label class="form-label">Primary Framework</label>
                        <select class="form-select" id="edit-indicator-framework" name="primaryFramework">
                            <option value="">Select framework</option>
                            <option value="gri">GRI</option>
                            <option value="esrs">ESRS</option>
                            <option value="ifrs">IFRS</option>
                        </select>
                    </div>

                    <!-- Framework Version -->
                    <div class="form-group">
                        <label class="form-label">Framework Version</label>
                        <input type="text" class="form-input" id="edit-indicator-framework-version" name="frameworkVersion" placeholder="e.g., 2021 Update">
                    </div>

                    <!-- Description -->
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-textarea" id="edit-indicator-description" name="description" placeholder="Short description of what this indicator measures." rows="3"></textarea>
                    </div>

                    <!-- Why It Matters to SMEs -->
                    <div class="form-group">
                        <label class="form-label">Why It Matters to SMEs</label>
                        <textarea class="form-textarea" id="edit-indicator-why-matters" name="whyItMatters" placeholder="Explain why this indicator is important for SMEs and how it supports their sustainability journey." rows="3"></textarea>
                    </div>

                    <!-- Impact Level -->
                    <div class="form-group">
                        <label class="form-label">Impact Level</label>
                        <select class="form-select" id="edit-indicator-impact" name="impactLevel">
                            <option value="">Select impact level</option>
                            <option value="High">High</option>
                            <option value="Medium">Medium</option>
                            <option value="Foundational">Foundational</option>
                        </select>
                    </div>

                    <!-- Difficulty Level -->
                    <div class="form-group">
                        <label class="form-label">Difficulty Level</label>
                        <select class="form-select" id="edit-indicator-difficulty" name="difficultyLevel">
                            <option value="">Select how difficult it is for SMEs to report on this indicator</option>
                            <option value="Easy">Easy</option>
                            <option value="Moderate">Moderate</option>
                            <option value="Complex">Complex</option>
                        </select>
                    </div>

                    <!-- Estimated Time to Validate -->
                    <div class="form-group">
                        <label class="form-label">Estimated Time to Validate</label>
                        <input type="text" class="form-input" id="edit-indicator-estimated-time" name="estimatedTime" placeholder="e.g., 3â€“5 minutes">
                    </div>

                    <!-- ESG Class -->
                    <div class="form-group">
                        <label class="form-label">ESG Class</label>
                        <select class="form-select" id="edit-indicator-esg-class" name="esgClass">
                            <option value="">Select ESG classification</option>
                            <option value="Environment">Environment</option>
                            <option value="Social">Social</option>
                            <option value="Governance">Governance</option>
                        </select>
                    </div>

                    <!-- Related SDGs -->
                    <div class="form-group">
                        <label class="form-label">Related SDG(s)</label>
                        <select class="form-select" id="edit-indicator-sdgs" name="relatedSdgs" multiple size="6" style="height: auto;">
                            <option value="SDG 1">SDG 1 â€“ No Poverty</option>
                            <option value="SDG 2">SDG 2 â€“ Zero Hunger</option>
                            <option value="SDG 3">SDG 3 â€“ Good Health and Well-Being</option>
                            <option value="SDG 4">SDG 4 â€“ Quality Education</option>
                            <option value="SDG 5">SDG 5 â€“ Gender Equality</option>
                            <option value="SDG 6">SDG 6 â€“ Clean Water and Sanitation</option>
                            <option value="SDG 7">SDG 7 â€“ Affordable and Clean Energy</option>
                            <option value="SDG 8">SDG 8 â€“ Decent Work and Economic Growth</option>
                            <option value="SDG 9">SDG 9 â€“ Industry, Innovation and Infrastructure</option>
                            <option value="SDG 10">SDG 10 â€“ Reduced Inequalities</option>
                            <option value="SDG 11">SDG 11 â€“ Sustainable Cities and Communities</option>
                            <option value="SDG 12">SDG 12 â€“ Responsible Consumption and Production</option>
                            <option value="SDG 13">SDG 13 â€“ Climate Action</option>
                            <option value="SDG 14">SDG 14 â€“ Life Below Water</option>
                            <option value="SDG 15">SDG 15 â€“ Life on Land</option>
                            <option value="SDG 16">SDG 16 â€“ Peace, Justice and Strong Institutions</option>
                            <option value="SDG 17">SDG 17 â€“ Partnerships for the Goals</option>
                        </select>
                        <p class="form-helper">Hold <strong>Cmd (Mac)</strong> or <strong>Ctrl (Windows)</strong> to select multiple SDGs.</p>
                    </div>

                    <!-- Indicator Validation Question -->
                    <div class="form-group">
                        <label class="form-label">Indicator Validation Question</label>
                        <textarea class="form-textarea" id="edit-indicator-validation-question" name="validationQuestion" placeholder="Enter the question the ESG Champion must answer to validate this indicator." rows="2"></textarea>
                    </div>

                    <!-- Response Type -->
                    <div class="form-group">
                        <label class="form-label">Response Type</label>
                        <select class="form-select" id="edit-indicator-response-type" name="responseType">
                            <option value="">Choose the response format</option>
                            <option value="Multiple Choice">Multiple Choice</option>
                            <option value="Yes-No">Yesâ€“No</option>
                            <option value="Short Text">Short Text</option>
                            <option value="Long Text">Long Text</option>
                        </select>
                    </div>

                    <!-- Indicator Tags -->
                    <div class="form-group">
                        <label class="form-label">Indicator Tags (Optional)</label>
                        <input type="text" class="form-input" id="edit-indicator-tags" name="tags" placeholder="e.g., emissions, water use, SME reporting, data availability...">
                    </div>

                    <!-- Icon / Unicode -->
                    <div class="form-group">
                        <label class="form-label">Icon / Unicode (Optional)</label>
                        <input type="text" class="form-input" id="edit-indicator-icon" name="icon" placeholder="Select icon or enter Unicode character">
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="display: flex; justify-content: space-between; gap: var(--space-3);">
                <div style="display: flex; gap: var(--space-2);">
                    <button type="button" class="btn btn-error" id="delete-indicator-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                        Delete
                    </button>
                    <button type="button" class="btn" id="toggle-indicator-visibility-btn" style="background: var(--gray-100); color: var(--gray-700);">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" id="indicator-visibility-icon">
                            <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                            <line x1="1" y1="1" x2="23" y2="23"></line>
                        </svg>
                        <span id="indicator-visibility-btn-text">Hide</span>
                    </button>
                </div>
                <div style="display: flex; gap: var(--space-3);">
                    <button type="button" class="btn btn-secondary" id="cancel-edit-indicator-btn">Cancel</button>
                    <button type="button" class="btn btn-primary" id="update-indicator-btn">Update Indicator</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Indicator Confirmation Modal -->
    <div class="modal-backdrop" id="delete-indicator-confirm-modal-backdrop">
        <div class="modal" id="delete-indicator-confirm-modal" style="max-width: 450px;">
            <div class="modal-header" style="border-bottom: none; padding-bottom: 0;">
                <h3 class="modal-title" style="color: var(--error);">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: var(--space-2);">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="8" x2="12" y2="12"></line>
                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                    </svg>
                    Confirm Deletion
                </h3>
                <button class="modal-close" id="delete-indicator-confirm-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: var(--space-4);">
                    You are about to delete the indicator: <strong id="delete-indicator-name"></strong>
                </p>
                <p class="text-secondary" style="margin-bottom: var(--space-4); font-size: var(--text-sm);">
                    <strong style="color: var(--error);">Warning:</strong> This action will permanently delete this indicator from the database. This action <strong>cannot be undone</strong>.
                </p>
                <p class="text-secondary" style="margin-bottom: var(--space-4); font-size: var(--text-sm);">
                    ðŸ’¡ <em>Tip: To hide an indicator without deleting it, use the "Hide" button instead.</em>
                </p>
                <div class="form-group" style="margin-bottom: 0;">
                    <label class="form-label">Type <strong>"DELETE"</strong> to confirm:</label>
                    <input type="text" class="form-input" id="delete-indicator-confirm-input" placeholder="Type DELETE here" autocomplete="off">
                    <span class="form-error" id="delete-indicator-confirm-error"></span>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="delete-indicator-confirm-cancel-btn">Cancel</button>
                <button type="button" class="btn btn-error" id="delete-indicator-confirm-btn" disabled>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                    Delete Indicator
                </button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
        <div class="modal" id="delete-confirm-modal" style="max-width: 450px;">
            <div class="modal-header" style="border-bottom: none; padding-bottom: 0;">
                <h3 class="modal-title" style="color: var(--error);">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: var(--space-2);">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="8" x2="12" y2="12"></line>
                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                    </svg>
                    Confirm Deletion
                </h3>
                <button class="modal-close" id="delete-confirm-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: var(--space-4);">
                    You are about to delete the panel: <strong id="delete-panel-name"></strong>
                </p>
                <p class="text-secondary" style="margin-bottom: var(--space-4); font-size: var(--text-sm);">
                    <strong style="color: var(--error);">Warning:</strong> This action will permanently delete the panel and all its associated indicators from the database. This action <strong>cannot be undone</strong>.
                </p>
                <p class="text-secondary" style="margin-bottom: var(--space-4); font-size: var(--text-sm);">
                    ðŸ’¡ <em>Tip: To hide a panel without deleting it, use the "Hide" button instead.</em>
                </p>
                <div class="form-group" style="margin-bottom: 0;">
                    <label class="form-label">Type <strong>"DELETE"</strong> to confirm:</label>
                    <input type="text" class="form-input" id="delete-confirm-input" placeholder="Type DELETE here" autocomplete="off">
                    <span class="form-error" id="delete-confirm-error"></span>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="delete-confirm-cancel-btn">Cancel</button>
                <button type="button" class="btn btn-error" id="delete-confirm-btn" disabled>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                    Delete Panel
                </button>
            </div>
        </div>
    </div>

    <!-- Compact Footer (Dashboard variant) -->
    <footer class="footer-compact">
        <div class="container">
            <ul class="footer-compact-links">
                <li><a href="/terms.html">Terms of Service</a></li>
                <li><a href="/privacy.html">Privacy Policy</a></li>
                <li><a href="/cookie-policy.html">Cookie Policy</a></li>
            </ul>
            <div class="footer-compact-cta">
                <a href="#" class="btn btn-primary btn-sm">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    Schedule
                </a>
            </div>
            <span class="footer-compact-copyright">&copy; 2025 STIF</span>
        </div>
    </footer>

    <!-- Scripts -->
    <!-- Services -->
    <script src="supabase-service.js"></script>
    <script src="champion-auth-supabase.js"></script>
    <script src="champion-db-supabase.js"></script>
    <script src="dynamic-navigation.js"></script>
    <script src="mobile-menu.js"></script>
    <script src="logout.js"></script>
    <script src="admin-service.js"></script>
    <script src="admin-review.js"></script>
</body>
</html>

