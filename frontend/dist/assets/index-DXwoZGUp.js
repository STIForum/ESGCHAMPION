var Pf=Object.defineProperty;var If=(t,e,r)=>e in t?Pf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ra=(t,e,r)=>If(t,typeof e!="symbol"?e+"":e,r);function Of(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wc={exports:{}},Oi={},Vc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=Symbol.for("react.element"),Lf=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),zf=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),Wf=Symbol.for("react.memo"),Vf=Symbol.for("react.lazy"),Xl=Symbol.iterator;function qf(t){return t===null||typeof t!="object"?null:(t=Xl&&t[Xl]||t["@@iterator"],typeof t=="function"?t:null)}var qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hc=Object.assign,Kc={};function ln(t,e,r){this.props=t,this.context=e,this.refs=Kc,this.updater=r||qc}ln.prototype.isReactComponent={};ln.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ln.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gc(){}Gc.prototype=ln.prototype;function Qo(t,e,r){this.props=t,this.context=e,this.refs=Kc,this.updater=r||qc}var Yo=Qo.prototype=new Gc;Yo.constructor=Qo;Hc(Yo,ln.prototype);Yo.isPureReactComponent=!0;var Zl=Array.isArray,Jc=Object.prototype.hasOwnProperty,Xo={current:null},Qc={key:!0,ref:!0,__self:!0,__source:!0};function Yc(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Jc.call(e,n)&&!Qc.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ps,type:t,key:i,ref:a,props:s,_owner:Xo.current}}function Hf(t,e){return{$$typeof:ps,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zo(t){return typeof t=="object"&&t!==null&&t.$$typeof===ps}function Kf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var eu=/\/+/g;function na(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kf(""+t.key):e.toString(36)}function Ks(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ps:case Lf:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+na(a,0):n,Zl(s)?(r="",t!=null&&(r=t.replace(eu,"$&/")+"/"),Ks(s,e,r,"",function(c){return c})):s!=null&&(Zo(s)&&(s=Hf(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(eu,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Zl(t))for(var l=0;l<t.length;l++){i=t[l];var u=n+na(i,l);a+=Ks(i,e,r,u,s)}else if(u=qf(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=n+na(i,l++),a+=Ks(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ss(t,e,r){if(t==null)return t;var n=[],s=0;return Ks(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Gf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ne={current:null},Gs={transition:null},Jf={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Gs,ReactCurrentOwner:Xo};function Xc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Ss,forEach:function(t,e,r){Ss(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ss(t,function(){e++}),e},toArray:function(t){return Ss(t,function(e){return e})||[]},only:function(t){if(!Zo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=ln;M.Fragment=$f;M.Profiler=Df;M.PureComponent=Qo;M.StrictMode=Uf;M.Suspense=Ff;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jf;M.act=Xc;M.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Hc({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Xo.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Jc.call(e,u)&&!Qc.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:ps,type:t.type,key:s,ref:i,props:n,_owner:a}};M.createContext=function(t){return t={$$typeof:Mf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bf,_context:t},t.Consumer=t};M.createElement=Yc;M.createFactory=function(t){var e=Yc.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:zf,render:t}};M.isValidElement=Zo;M.lazy=function(t){return{$$typeof:Vf,_payload:{_status:-1,_result:t},_init:Gf}};M.memo=function(t,e){return{$$typeof:Wf,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=Gs.transition;Gs.transition={};try{t()}finally{Gs.transition=e}};M.unstable_act=Xc;M.useCallback=function(t,e){return Ne.current.useCallback(t,e)};M.useContext=function(t){return Ne.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return Ne.current.useDeferredValue(t)};M.useEffect=function(t,e){return Ne.current.useEffect(t,e)};M.useId=function(){return Ne.current.useId()};M.useImperativeHandle=function(t,e,r){return Ne.current.useImperativeHandle(t,e,r)};M.useInsertionEffect=function(t,e){return Ne.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return Ne.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return Ne.current.useMemo(t,e)};M.useReducer=function(t,e,r){return Ne.current.useReducer(t,e,r)};M.useRef=function(t){return Ne.current.useRef(t)};M.useState=function(t){return Ne.current.useState(t)};M.useSyncExternalStore=function(t,e,r){return Ne.current.useSyncExternalStore(t,e,r)};M.useTransition=function(){return Ne.current.useTransition()};M.version="18.3.1";Vc.exports=M;var S=Vc.exports;const Zc=Af(S),Qf=Of({__proto__:null,default:Zc},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=S,Xf=Symbol.for("react.element"),Zf=Symbol.for("react.fragment"),ep=Object.prototype.hasOwnProperty,tp=Yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rp={key:!0,ref:!0,__self:!0,__source:!0};function ed(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)ep.call(e,n)&&!rp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Xf,type:t,key:i,ref:a,props:s,_owner:tp.current}}Oi.Fragment=Zf;Oi.jsx=ed;Oi.jsxs=ed;Wc.exports=Oi;var o=Wc.exports,Ba={},td={exports:{}},ze={},rd={exports:{}},nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,U){var D=R.length;R.push(U);e:for(;0<D;){var ne=D-1>>>1,he=R[ne];if(0<s(he,U))R[ne]=U,R[D]=he,D=ne;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var U=R[0],D=R.pop();if(D!==U){R[0]=D;e:for(var ne=0,he=R.length,_s=he>>>1;ne<_s;){var Zt=2*(ne+1)-1,ta=R[Zt],er=Zt+1,xs=R[er];if(0>s(ta,D))er<he&&0>s(xs,ta)?(R[ne]=xs,R[er]=D,ne=er):(R[ne]=ta,R[Zt]=D,ne=Zt);else if(er<he&&0>s(xs,D))R[ne]=xs,R[er]=D,ne=er;else break e}}return U}function s(R,U){var D=R.sortIndex-U.sortIndex;return D!==0?D:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,f=null,h=3,v=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(R){for(var U=r(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=R)n(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=r(c)}}function _(R){if(w=!1,p(R),!y)if(r(u)!==null)y=!0,gn(b);else{var U=r(c);U!==null&&ea(_,U.startTime-R)}}function b(R,U){y=!1,w&&(w=!1,g(C),C=-1),v=!0;var D=h;try{for(p(U),f=r(u);f!==null&&(!(f.expirationTime>U)||R&&!k());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var he=ne(f.expirationTime<=U);U=t.unstable_now(),typeof he=="function"?f.callback=he:f===r(u)&&n(u),p(U)}else n(u);f=r(u)}if(f!==null)var _s=!0;else{var Zt=r(c);Zt!==null&&ea(_,Zt.startTime-U),_s=!1}return _s}finally{f=null,h=D,v=!1}}var j=!1,E=null,C=-1,$=5,L=-1;function k(){return!(t.unstable_now()-L<$)}function I(){if(E!==null){var R=t.unstable_now();L=R;var U=!0;try{U=E(!0,R)}finally{U?ee():(j=!1,E=null)}}else j=!1}var ee;if(typeof m=="function")ee=function(){m(I)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,le=at.port2;at.port1.onmessage=I,ee=function(){le.postMessage(null)}}else ee=function(){x(I,0)};function gn(R){E=R,j||(j=!0,ee())}function ea(R,U){C=x(function(){R(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,gn(b))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var D=h;h=U;try{return R()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=h;h=R;try{return U()}finally{h=D}},t.unstable_scheduleCallback=function(R,U,D){var ne=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?ne+D:ne):D=ne,R){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=D+he,R={id:d++,callback:U,priorityLevel:R,startTime:D,expirationTime:he,sortIndex:-1},D>ne?(R.sortIndex=D,e(c,R),r(u)===null&&R===r(c)&&(w?(g(C),C=-1):w=!0,ea(_,D-ne))):(R.sortIndex=he,e(u,R),y||v||(y=!0,gn(b))),R},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(R){var U=h;return function(){var D=h;h=U;try{return R.apply(this,arguments)}finally{h=D}}}})(nd);rd.exports=nd;var np=rd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=S,Me=np;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sd=new Set,Wn={};function wr(t,e){en(t,e),en(t+"Capture",e)}function en(t,e){for(Wn[t]=e,t=0;t<e.length;t++)sd.add(e[t])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=Object.prototype.hasOwnProperty,ip=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tu={},ru={};function ap(t){return Ma.call(ru,t)?!0:Ma.call(tu,t)?!1:ip.test(t)?ru[t]=!0:(tu[t]=!0,!1)}function op(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lp(t,e,r,n){if(e===null||typeof e>"u"||op(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ce(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){we[t]=new Ce(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];we[e]=new Ce(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){we[t]=new Ce(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){we[t]=new Ce(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){we[t]=new Ce(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){we[t]=new Ce(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){we[t]=new Ce(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){we[t]=new Ce(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){we[t]=new Ce(t,5,!1,t.toLowerCase(),null,!1,!1)});var el=/[\-:]([a-z])/g;function tl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(el,tl);we[e]=new Ce(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(el,tl);we[e]=new Ce(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(el,tl);we[e]=new Ce(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){we[t]=new Ce(t,1,!1,t.toLowerCase(),null,!1,!1)});we.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){we[t]=new Ce(t,1,!1,t.toLowerCase(),null,!0,!0)});function rl(t,e,r,n){var s=we.hasOwnProperty(e)?we[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lp(e,r,s,n)&&(r=null),n||s===null?ap(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var bt=sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bs=Symbol.for("react.element"),Ir=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),nl=Symbol.for("react.strict_mode"),za=Symbol.for("react.profiler"),id=Symbol.for("react.provider"),ad=Symbol.for("react.context"),sl=Symbol.for("react.forward_ref"),Fa=Symbol.for("react.suspense"),Wa=Symbol.for("react.suspense_list"),il=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),od=Symbol.for("react.offscreen"),nu=Symbol.iterator;function vn(t){return t===null||typeof t!="object"?null:(t=nu&&t[nu]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,sa;function Nn(t){if(sa===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);sa=e&&e[1]||""}return`
`+sa+t}var ia=!1;function aa(t,e){if(!t||ia)return"";ia=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{ia=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Nn(t):""}function up(t){switch(t.tag){case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 2:case 15:return t=aa(t.type,!1),t;case 11:return t=aa(t.type.render,!1),t;case 1:return t=aa(t.type,!0),t;default:return""}}function Va(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Or:return"Fragment";case Ir:return"Portal";case za:return"Profiler";case nl:return"StrictMode";case Fa:return"Suspense";case Wa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ad:return(t.displayName||"Context")+".Consumer";case id:return(t._context.displayName||"Context")+".Provider";case sl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case il:return e=t.displayName||null,e!==null?e:Va(t.type)||"Memo";case Nt:e=t._payload,t=t._init;try{return Va(t(e))}catch{}}return null}function cp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Va(e);case 8:return e===nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ld(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dp(t){var e=ld(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ks(t){t._valueTracker||(t._valueTracker=dp(t))}function ud(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ld(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qa(t,e){var r=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function su(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Kt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cd(t,e){e=e.checked,e!=null&&rl(t,"checked",e,!1)}function Ha(t,e){cd(t,e);var r=Kt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ka(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ka(t,e.type,Kt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ka(t,e,r){(e!=="number"||ii(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cn=Array.isArray;function Hr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Kt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ga(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function au(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(Cn(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Kt(r)}}function dd(t,e){var r=Kt(e.value),n=Kt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ou(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ja(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var js,fd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=js.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hp=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(t){hp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),In[e]=In[t]})});function pd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||In.hasOwnProperty(t)&&In[t]?(""+e).trim():e+"px"}function md(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=pd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var fp=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qa(t,e){if(e){if(fp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Ya(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xa=null;function al(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Za=null,Kr=null,Gr=null;function lu(t){if(t=vs(t)){if(typeof Za!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Di(e),Za(t.stateNode,t.type,e))}}function gd(t){Kr?Gr?Gr.push(t):Gr=[t]:Kr=t}function vd(){if(Kr){var t=Kr,e=Gr;if(Gr=Kr=null,lu(t),e)for(t=0;t<e.length;t++)lu(e[t])}}function yd(t,e){return t(e)}function wd(){}var oa=!1;function _d(t,e,r){if(oa)return t(e,r);oa=!0;try{return yd(t,e,r)}finally{oa=!1,(Kr!==null||Gr!==null)&&(wd(),vd())}}function qn(t,e){var r=t.stateNode;if(r===null)return null;var n=Di(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var eo=!1;if(wt)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){eo=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{eo=!1}function pp(t,e,r,n,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var On=!1,ai=null,oi=!1,to=null,mp={onError:function(t){On=!0,ai=t}};function gp(t,e,r,n,s,i,a,l,u){On=!1,ai=null,pp.apply(mp,arguments)}function vp(t,e,r,n,s,i,a,l,u){if(gp.apply(this,arguments),On){if(On){var c=ai;On=!1,ai=null}else throw Error(N(198));oi||(oi=!0,to=c)}}function _r(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function xd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uu(t){if(_r(t)!==t)throw Error(N(188))}function yp(t){var e=t.alternate;if(!e){if(e=_r(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return uu(s),t;if(i===n)return uu(s),e;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function Sd(t){return t=yp(t),t!==null?bd(t):null}function bd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bd(t);if(e!==null)return e;t=t.sibling}return null}var kd=Me.unstable_scheduleCallback,cu=Me.unstable_cancelCallback,wp=Me.unstable_shouldYield,_p=Me.unstable_requestPaint,se=Me.unstable_now,xp=Me.unstable_getCurrentPriorityLevel,ol=Me.unstable_ImmediatePriority,jd=Me.unstable_UserBlockingPriority,li=Me.unstable_NormalPriority,Sp=Me.unstable_LowPriority,Ed=Me.unstable_IdlePriority,Ai=null,ct=null;function bp(t){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Ai,t,void 0,(t.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Ep,kp=Math.log,jp=Math.LN2;function Ep(t){return t>>>=0,t===0?32:31-(kp(t)/jp|0)|0}var Es=64,Ns=4194304;function Tn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ui(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Tn(l):(i&=a,i!==0&&(n=Tn(i)))}else a=r&~s,a!==0?n=Tn(a):i!==0&&(n=Tn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-rt(e),s=1<<r,n|=t[r],e&=~s;return n}function Np(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-rt(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&n)&&(s[a]=Np(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function ro(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nd(){var t=Es;return Es<<=1,!(Es&4194240)&&(Es=64),t}function la(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ms(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rt(e),t[e]=r}function Tp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-rt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ll(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-rt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var W=0;function Cd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Td,ul,Rd,Pd,Id,no=!1,Cs=[],$t=null,Ut=null,Dt=null,Hn=new Map,Kn=new Map,Rt=[],Rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(t,e){switch(t){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Hn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(e.pointerId)}}function wn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=vs(e),e!==null&&ul(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Pp(t,e,r,n,s){switch(e){case"focusin":return $t=wn($t,t,e,r,n,s),!0;case"dragenter":return Ut=wn(Ut,t,e,r,n,s),!0;case"mouseover":return Dt=wn(Dt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Hn.set(i,wn(Hn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Kn.set(i,wn(Kn.get(i)||null,t,e,r,n,s)),!0}return!1}function Od(t){var e=lr(t.target);if(e!==null){var r=_r(e);if(r!==null){if(e=r.tag,e===13){if(e=xd(r),e!==null){t.blockedOn=e,Id(t.priority,function(){Rd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Js(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=so(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Xa=n,r.target.dispatchEvent(n),Xa=null}else return e=vs(r),e!==null&&ul(e),t.blockedOn=r,!1;e.shift()}return!0}function hu(t,e,r){Js(t)&&r.delete(e)}function Ip(){no=!1,$t!==null&&Js($t)&&($t=null),Ut!==null&&Js(Ut)&&(Ut=null),Dt!==null&&Js(Dt)&&(Dt=null),Hn.forEach(hu),Kn.forEach(hu)}function _n(t,e){t.blockedOn===e&&(t.blockedOn=null,no||(no=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Ip)))}function Gn(t){function e(s){return _n(s,t)}if(0<Cs.length){_n(Cs[0],t);for(var r=1;r<Cs.length;r++){var n=Cs[r];n.blockedOn===t&&(n.blockedOn=null)}}for($t!==null&&_n($t,t),Ut!==null&&_n(Ut,t),Dt!==null&&_n(Dt,t),Hn.forEach(e),Kn.forEach(e),r=0;r<Rt.length;r++)n=Rt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rt.length&&(r=Rt[0],r.blockedOn===null);)Od(r),r.blockedOn===null&&Rt.shift()}var Jr=bt.ReactCurrentBatchConfig,ci=!0;function Op(t,e,r,n){var s=W,i=Jr.transition;Jr.transition=null;try{W=1,cl(t,e,r,n)}finally{W=s,Jr.transition=i}}function Ap(t,e,r,n){var s=W,i=Jr.transition;Jr.transition=null;try{W=4,cl(t,e,r,n)}finally{W=s,Jr.transition=i}}function cl(t,e,r,n){if(ci){var s=so(t,e,r,n);if(s===null)ya(t,e,n,di,r),du(t,n);else if(Pp(s,t,e,r,n))n.stopPropagation();else if(du(t,n),e&4&&-1<Rp.indexOf(t)){for(;s!==null;){var i=vs(s);if(i!==null&&Td(i),i=so(t,e,r,n),i===null&&ya(t,e,n,di,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ya(t,e,n,null,r)}}var di=null;function so(t,e,r,n){if(di=null,t=al(n),t=lr(t),t!==null)if(e=_r(t),e===null)t=null;else if(r=e.tag,r===13){if(t=xd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return di=t,null}function Ad(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xp()){case ol:return 1;case jd:return 4;case li:case Sp:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var Ot=null,dl=null,Qs=null;function Ld(){if(Qs)return Qs;var t,e=dl,r=e.length,n,s="value"in Ot?Ot.value:Ot.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Qs=s.slice(t,1<n?1-n:void 0)}function Ys(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function fu(){return!1}function Fe(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ts:fu,this.isPropagationStopped=fu,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),e}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=Fe(un),gs=Z({},un,{view:0,detail:0}),Lp=Fe(gs),ua,ca,xn,Li=Z({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xn&&(xn&&t.type==="mousemove"?(ua=t.screenX-xn.screenX,ca=t.screenY-xn.screenY):ca=ua=0,xn=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:ca}}),pu=Fe(Li),$p=Z({},Li,{dataTransfer:0}),Up=Fe($p),Dp=Z({},gs,{relatedTarget:0}),da=Fe(Dp),Bp=Z({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),Mp=Fe(Bp),zp=Z({},un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fp=Fe(zp),Wp=Z({},un,{data:0}),mu=Fe(Wp),Vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hp[t])?!!e[t]:!1}function fl(){return Kp}var Gp=Z({},gs,{key:function(t){if(t.key){var e=Vp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jp=Fe(Gp),Qp=Z({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=Fe(Qp),Yp=Z({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),Xp=Fe(Yp),Zp=Z({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),em=Fe(Zp),tm=Z({},Li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rm=Fe(tm),nm=[9,13,27,32],pl=wt&&"CompositionEvent"in window,An=null;wt&&"documentMode"in document&&(An=document.documentMode);var sm=wt&&"TextEvent"in window&&!An,$d=wt&&(!pl||An&&8<An&&11>=An),vu=" ",yu=!1;function Ud(t,e){switch(t){case"keyup":return nm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ar=!1;function im(t,e){switch(t){case"compositionend":return Dd(e);case"keypress":return e.which!==32?null:(yu=!0,vu);case"textInput":return t=e.data,t===vu&&yu?null:t;default:return null}}function am(t,e){if(Ar)return t==="compositionend"||!pl&&Ud(t,e)?(t=Ld(),Qs=dl=Ot=null,Ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $d&&e.locale!=="ko"?null:e.data;default:return null}}var om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!om[t.type]:e==="textarea"}function Bd(t,e,r,n){gd(n),e=hi(e,"onChange"),0<e.length&&(r=new hl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ln=null,Jn=null;function lm(t){Qd(t,0)}function $i(t){var e=Ur(t);if(ud(e))return t}function um(t,e){if(t==="change")return e}var Md=!1;if(wt){var ha;if(wt){var fa="oninput"in document;if(!fa){var _u=document.createElement("div");_u.setAttribute("oninput","return;"),fa=typeof _u.oninput=="function"}ha=fa}else ha=!1;Md=ha&&(!document.documentMode||9<document.documentMode)}function xu(){Ln&&(Ln.detachEvent("onpropertychange",zd),Jn=Ln=null)}function zd(t){if(t.propertyName==="value"&&$i(Jn)){var e=[];Bd(e,Jn,t,al(t)),_d(lm,e)}}function cm(t,e,r){t==="focusin"?(xu(),Ln=e,Jn=r,Ln.attachEvent("onpropertychange",zd)):t==="focusout"&&xu()}function dm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $i(Jn)}function hm(t,e){if(t==="click")return $i(e)}function fm(t,e){if(t==="input"||t==="change")return $i(e)}function pm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:pm;function Qn(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ma.call(e,s)||!st(t[s],e[s]))return!1}return!0}function Su(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bu(t,e){var r=Su(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Su(r)}}function Fd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wd(){for(var t=window,e=ii();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ii(t.document)}return e}function ml(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mm(t){var e=Wd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Fd(r.ownerDocument.documentElement,r)){if(n!==null&&ml(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=bu(r,i);var a=bu(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gm=wt&&"documentMode"in document&&11>=document.documentMode,Lr=null,io=null,$n=null,ao=!1;function ku(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ao||Lr==null||Lr!==ii(n)||(n=Lr,"selectionStart"in n&&ml(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$n&&Qn($n,n)||($n=n,n=hi(io,"onSelect"),0<n.length&&(e=new hl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Lr)))}function Rs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $r={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},pa={},Vd={};wt&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Ui(t){if(pa[t])return pa[t];if(!$r[t])return t;var e=$r[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Vd)return pa[t]=e[r];return t}var qd=Ui("animationend"),Hd=Ui("animationiteration"),Kd=Ui("animationstart"),Gd=Ui("transitionend"),Jd=new Map,ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(t,e){Jd.set(t,e),wr(e,[t])}for(var ma=0;ma<ju.length;ma++){var ga=ju[ma],vm=ga.toLowerCase(),ym=ga[0].toUpperCase()+ga.slice(1);Jt(vm,"on"+ym)}Jt(qd,"onAnimationEnd");Jt(Hd,"onAnimationIteration");Jt(Kd,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Gd,"onTransitionEnd");en("onMouseEnter",["mouseout","mouseover"]);en("onMouseLeave",["mouseout","mouseover"]);en("onPointerEnter",["pointerout","pointerover"]);en("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rn));function Eu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,vp(n,e,void 0,t),t.currentTarget=null}function Qd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Eu(s,l,c),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Eu(s,l,c),i=u}}}if(oi)throw t=to,oi=!1,to=null,t}function K(t,e){var r=e[ho];r===void 0&&(r=e[ho]=new Set);var n=t+"__bubble";r.has(n)||(Yd(e,t,2,!1),r.add(n))}function va(t,e,r){var n=0;e&&(n|=4),Yd(r,t,n,e)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Yn(t){if(!t[Ps]){t[Ps]=!0,sd.forEach(function(r){r!=="selectionchange"&&(wm.has(r)||va(r,!1,t),va(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ps]||(e[Ps]=!0,va("selectionchange",!1,e))}}function Yd(t,e,r,n){switch(Ad(e)){case 1:var s=Op;break;case 4:s=Ap;break;default:s=cl}r=s.bind(null,e,r,t),s=void 0,!eo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ya(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=lr(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}_d(function(){var c=i,d=al(r),f=[];e:{var h=Jd.get(t);if(h!==void 0){var v=hl,y=t;switch(t){case"keypress":if(Ys(r)===0)break e;case"keydown":case"keyup":v=Jp;break;case"focusin":y="focus",v=da;break;case"focusout":y="blur",v=da;break;case"beforeblur":case"afterblur":v=da;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Xp;break;case qd:case Hd:case Kd:v=Mp;break;case Gd:v=em;break;case"scroll":v=Lp;break;case"wheel":v=rm;break;case"copy":case"cut":case"paste":v=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=gu}var w=(e&4)!==0,x=!w&&t==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var m=c,p;m!==null;){p=m;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,g!==null&&(_=qn(m,g),_!=null&&w.push(Xn(m,_,p)))),x)break;m=m.return}0<w.length&&(h=new v(h,y,null,r,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&r!==Xa&&(y=r.relatedTarget||r.fromElement)&&(lr(y)||y[_t]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=c,y=y?lr(y):null,y!==null&&(x=_r(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=pu,_="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=gu,_="onPointerLeave",g="onPointerEnter",m="pointer"),x=v==null?h:Ur(v),p=y==null?h:Ur(y),h=new w(_,m+"leave",v,r,d),h.target=x,h.relatedTarget=p,_=null,lr(d)===c&&(w=new w(g,m+"enter",y,r,d),w.target=p,w.relatedTarget=x,_=w),x=_,v&&y)t:{for(w=v,g=y,m=0,p=w;p;p=Sr(p))m++;for(p=0,_=g;_;_=Sr(_))p++;for(;0<m-p;)w=Sr(w),m--;for(;0<p-m;)g=Sr(g),p--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=Sr(w),g=Sr(g)}w=null}else w=null;v!==null&&Nu(f,h,v,w,!1),y!==null&&x!==null&&Nu(f,x,y,w,!0)}}e:{if(h=c?Ur(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var b=um;else if(wu(h))if(Md)b=fm;else{b=dm;var j=cm}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=hm);if(b&&(b=b(t,c))){Bd(f,b,r,d);break e}j&&j(t,h,c),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Ka(h,"number",h.value)}switch(j=c?Ur(c):window,t){case"focusin":(wu(j)||j.contentEditable==="true")&&(Lr=j,io=c,$n=null);break;case"focusout":$n=io=Lr=null;break;case"mousedown":ao=!0;break;case"contextmenu":case"mouseup":case"dragend":ao=!1,ku(f,r,d);break;case"selectionchange":if(gm)break;case"keydown":case"keyup":ku(f,r,d)}var E;if(pl)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ar?Ud(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&($d&&r.locale!=="ko"&&(Ar||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ar&&(E=Ld()):(Ot=d,dl="value"in Ot?Ot.value:Ot.textContent,Ar=!0)),j=hi(c,C),0<j.length&&(C=new mu(C,t,null,r,d),f.push({event:C,listeners:j}),E?C.data=E:(E=Dd(r),E!==null&&(C.data=E)))),(E=sm?im(t,r):am(t,r))&&(c=hi(c,"onBeforeInput"),0<c.length&&(d=new mu("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=E))}Qd(f,e)})}function Xn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function hi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qn(t,r),i!=null&&n.unshift(Xn(t,i,s)),i=qn(t,e),i!=null&&n.push(Xn(t,i,s))),t=t.return}return n}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nu(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=qn(r,i),u!=null&&a.unshift(Xn(r,u,l))):s||(u=qn(r,i),u!=null&&a.push(Xn(r,u,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var _m=/\r\n?/g,xm=/\u0000|\uFFFD/g;function Cu(t){return(typeof t=="string"?t:""+t).replace(_m,`
`).replace(xm,"")}function Is(t,e,r){if(e=Cu(e),Cu(t)!==e&&r)throw Error(N(425))}function fi(){}var oo=null,lo=null;function uo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var co=typeof setTimeout=="function"?setTimeout:void 0,Sm=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,bm=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(t){return Tu.resolve(null).then(t).catch(km)}:co;function km(t){setTimeout(function(){throw t})}function wa(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Gn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Gn(e)}function Bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ru(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var cn=Math.random().toString(36).slice(2),ut="__reactFiber$"+cn,Zn="__reactProps$"+cn,_t="__reactContainer$"+cn,ho="__reactEvents$"+cn,jm="__reactListeners$"+cn,Em="__reactHandles$"+cn;function lr(t){var e=t[ut];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_t]||r[ut]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ru(t);t!==null;){if(r=t[ut])return r;t=Ru(t)}return e}t=r,r=t.parentNode}return null}function vs(t){return t=t[ut]||t[_t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Di(t){return t[Zn]||null}var fo=[],Dr=-1;function Qt(t){return{current:t}}function G(t){0>Dr||(t.current=fo[Dr],fo[Dr]=null,Dr--)}function H(t,e){Dr++,fo[Dr]=t.current,t.current=e}var Gt={},be=Qt(Gt),Pe=Qt(!1),pr=Gt;function tn(t,e){var r=t.type.contextTypes;if(!r)return Gt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(t){return t=t.childContextTypes,t!=null}function pi(){G(Pe),G(be)}function Pu(t,e,r){if(be.current!==Gt)throw Error(N(168));H(be,e),H(Pe,r)}function Xd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(N(108,cp(t)||"Unknown",s));return Z({},r,n)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gt,pr=be.current,H(be,t),H(Pe,Pe.current),!0}function Iu(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=Xd(t,e,pr),n.__reactInternalMemoizedMergedChildContext=t,G(Pe),G(be),H(be,t)):G(Pe),H(Pe,r)}var mt=null,Bi=!1,_a=!1;function Zd(t){mt===null?mt=[t]:mt.push(t)}function Nm(t){Bi=!0,Zd(t)}function Yt(){if(!_a&&mt!==null){_a=!0;var t=0,e=W;try{var r=mt;for(W=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}mt=null,Bi=!1}catch(s){throw mt!==null&&(mt=mt.slice(t+1)),kd(ol,Yt),s}finally{W=e,_a=!1}}return null}var Br=[],Mr=0,gi=null,vi=0,Ve=[],qe=0,mr=null,gt=1,vt="";function nr(t,e){Br[Mr++]=vi,Br[Mr++]=gi,gi=t,vi=e}function eh(t,e,r){Ve[qe++]=gt,Ve[qe++]=vt,Ve[qe++]=mr,mr=t;var n=gt;t=vt;var s=32-rt(n)-1;n&=~(1<<s),r+=1;var i=32-rt(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,gt=1<<32-rt(e)+s|r<<s|n,vt=i+t}else gt=1<<i|r<<s|n,vt=t}function gl(t){t.return!==null&&(nr(t,1),eh(t,1,0))}function vl(t){for(;t===gi;)gi=Br[--Mr],Br[Mr]=null,vi=Br[--Mr],Br[Mr]=null;for(;t===mr;)mr=Ve[--qe],Ve[qe]=null,vt=Ve[--qe],Ve[qe]=null,gt=Ve[--qe],Ve[qe]=null}var Be=null,De=null,Q=!1,tt=null;function th(t,e){var r=He(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ou(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Be=t,De=Bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Be=t,De=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=mr!==null?{id:gt,overflow:vt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=He(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Be=t,De=null,!0):!1;default:return!1}}function po(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mo(t){if(Q){var e=De;if(e){var r=e;if(!Ou(t,e)){if(po(t))throw Error(N(418));e=Bt(r.nextSibling);var n=Be;e&&Ou(t,e)?th(n,r):(t.flags=t.flags&-4097|2,Q=!1,Be=t)}}else{if(po(t))throw Error(N(418));t.flags=t.flags&-4097|2,Q=!1,Be=t}}}function Au(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Be=t}function Os(t){if(t!==Be)return!1;if(!Q)return Au(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uo(t.type,t.memoizedProps)),e&&(e=De)){if(po(t))throw rh(),Error(N(418));for(;e;)th(t,e),e=Bt(e.nextSibling)}if(Au(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){De=Bt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}De=null}}else De=Be?Bt(t.stateNode.nextSibling):null;return!0}function rh(){for(var t=De;t;)t=Bt(t.nextSibling)}function rn(){De=Be=null,Q=!1}function yl(t){tt===null?tt=[t]:tt.push(t)}var Cm=bt.ReactCurrentBatchConfig;function Sn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function As(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lu(t){var e=t._init;return e(t._payload)}function nh(t){function e(g,m){if(t){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Wt(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,p,_){return m===null||m.tag!==6?(m=Na(p,g.mode,_),m.return=g,m):(m=s(m,p),m.return=g,m)}function u(g,m,p,_){var b=p.type;return b===Or?d(g,m,p.props.children,_,p.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Nt&&Lu(b)===m.type)?(_=s(m,p.props),_.ref=Sn(g,m,p),_.return=g,_):(_=si(p.type,p.key,p.props,null,g.mode,_),_.ref=Sn(g,m,p),_.return=g,_)}function c(g,m,p,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Ca(p,g.mode,_),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function d(g,m,p,_,b){return m===null||m.tag!==7?(m=fr(p,g.mode,_,b),m.return=g,m):(m=s(m,p),m.return=g,m)}function f(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Na(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case bs:return p=si(m.type,m.key,m.props,null,g.mode,p),p.ref=Sn(g,null,m),p.return=g,p;case Ir:return m=Ca(m,g.mode,p),m.return=g,m;case Nt:var _=m._init;return f(g,_(m._payload),p)}if(Cn(m)||vn(m))return m=fr(m,g.mode,p,null),m.return=g,m;As(g,m)}return null}function h(g,m,p,_){var b=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:l(g,m,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bs:return p.key===b?u(g,m,p,_):null;case Ir:return p.key===b?c(g,m,p,_):null;case Nt:return b=p._init,h(g,m,b(p._payload),_)}if(Cn(p)||vn(p))return b!==null?null:d(g,m,p,_,null);As(g,p)}return null}function v(g,m,p,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(p)||null,l(m,g,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bs:return g=g.get(_.key===null?p:_.key)||null,u(m,g,_,b);case Ir:return g=g.get(_.key===null?p:_.key)||null,c(m,g,_,b);case Nt:var j=_._init;return v(g,m,p,j(_._payload),b)}if(Cn(_)||vn(_))return g=g.get(p)||null,d(m,g,_,b,null);As(m,_)}return null}function y(g,m,p,_){for(var b=null,j=null,E=m,C=m=0,$=null;E!==null&&C<p.length;C++){E.index>C?($=E,E=null):$=E.sibling;var L=h(g,E,p[C],_);if(L===null){E===null&&(E=$);break}t&&E&&L.alternate===null&&e(g,E),m=i(L,m,C),j===null?b=L:j.sibling=L,j=L,E=$}if(C===p.length)return r(g,E),Q&&nr(g,C),b;if(E===null){for(;C<p.length;C++)E=f(g,p[C],_),E!==null&&(m=i(E,m,C),j===null?b=E:j.sibling=E,j=E);return Q&&nr(g,C),b}for(E=n(g,E);C<p.length;C++)$=v(E,g,C,p[C],_),$!==null&&(t&&$.alternate!==null&&E.delete($.key===null?C:$.key),m=i($,m,C),j===null?b=$:j.sibling=$,j=$);return t&&E.forEach(function(k){return e(g,k)}),Q&&nr(g,C),b}function w(g,m,p,_){var b=vn(p);if(typeof b!="function")throw Error(N(150));if(p=b.call(p),p==null)throw Error(N(151));for(var j=b=null,E=m,C=m=0,$=null,L=p.next();E!==null&&!L.done;C++,L=p.next()){E.index>C?($=E,E=null):$=E.sibling;var k=h(g,E,L.value,_);if(k===null){E===null&&(E=$);break}t&&E&&k.alternate===null&&e(g,E),m=i(k,m,C),j===null?b=k:j.sibling=k,j=k,E=$}if(L.done)return r(g,E),Q&&nr(g,C),b;if(E===null){for(;!L.done;C++,L=p.next())L=f(g,L.value,_),L!==null&&(m=i(L,m,C),j===null?b=L:j.sibling=L,j=L);return Q&&nr(g,C),b}for(E=n(g,E);!L.done;C++,L=p.next())L=v(E,g,C,L.value,_),L!==null&&(t&&L.alternate!==null&&E.delete(L.key===null?C:L.key),m=i(L,m,C),j===null?b=L:j.sibling=L,j=L);return t&&E.forEach(function(I){return e(g,I)}),Q&&nr(g,C),b}function x(g,m,p,_){if(typeof p=="object"&&p!==null&&p.type===Or&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case bs:e:{for(var b=p.key,j=m;j!==null;){if(j.key===b){if(b=p.type,b===Or){if(j.tag===7){r(g,j.sibling),m=s(j,p.props.children),m.return=g,g=m;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Nt&&Lu(b)===j.type){r(g,j.sibling),m=s(j,p.props),m.ref=Sn(g,j,p),m.return=g,g=m;break e}r(g,j);break}else e(g,j);j=j.sibling}p.type===Or?(m=fr(p.props.children,g.mode,_,p.key),m.return=g,g=m):(_=si(p.type,p.key,p.props,null,g.mode,_),_.ref=Sn(g,m,p),_.return=g,g=_)}return a(g);case Ir:e:{for(j=p.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){r(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=Ca(p,g.mode,_),m.return=g,g=m}return a(g);case Nt:return j=p._init,x(g,m,j(p._payload),_)}if(Cn(p))return y(g,m,p,_);if(vn(p))return w(g,m,p,_);As(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,p),m.return=g,g=m):(r(g,m),m=Na(p,g.mode,_),m.return=g,g=m),a(g)):r(g,m)}return x}var nn=nh(!0),sh=nh(!1),yi=Qt(null),wi=null,zr=null,wl=null;function _l(){wl=zr=wi=null}function xl(t){var e=yi.current;G(yi),t._currentValue=e}function go(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Qr(t,e){wi=t,wl=zr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function Ge(t){var e=t._currentValue;if(wl!==t)if(t={context:t,memoizedValue:e,next:null},zr===null){if(wi===null)throw Error(N(308));zr=t,wi.dependencies={lanes:0,firstContext:t}}else zr=zr.next=t;return e}var ur=null;function Sl(t){ur===null?ur=[t]:ur.push(t)}function ih(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Sl(e)):(r.next=s.next,s.next=r),e.interleaved=r,xt(t,n)}function xt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ct=!1;function bl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ah(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,xt(t,r)}return s=n.interleaved,s===null?(e.next=e,Sl(n)):(e.next=s.next,s.next=e),n.interleaved=e,xt(t,r)}function Xs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ll(t,r)}}function $u(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function _i(t,e,r,n){var s=t.updateQueue;Ct=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,d=c=u=null,l=i;do{var h=l.lane,v=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(h=e,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(v,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(v,f,h):y,h==null)break e;f=Z({},f,h);break e;case 2:Ct=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=f):d=d.next=v,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vr|=a,t.lanes=a,t.memoizedState=f}}function Uu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var ys={},dt=Qt(ys),es=Qt(ys),ts=Qt(ys);function cr(t){if(t===ys)throw Error(N(174));return t}function kl(t,e){switch(H(ts,e),H(es,t),H(dt,ys),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ja(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ja(e,t)}G(dt),H(dt,e)}function sn(){G(dt),G(es),G(ts)}function oh(t){cr(ts.current);var e=cr(dt.current),r=Ja(e,t.type);e!==r&&(H(es,t),H(dt,r))}function jl(t){es.current===t&&(G(dt),G(es))}var Y=Qt(0);function xi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xa=[];function El(){for(var t=0;t<xa.length;t++)xa[t]._workInProgressVersionPrimary=null;xa.length=0}var Zs=bt.ReactCurrentDispatcher,Sa=bt.ReactCurrentBatchConfig,gr=0,X=null,ce=null,fe=null,Si=!1,Un=!1,rs=0,Tm=0;function _e(){throw Error(N(321))}function Nl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!st(t[r],e[r]))return!1;return!0}function Cl(t,e,r,n,s,i){if(gr=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zs.current=t===null||t.memoizedState===null?Om:Am,t=r(n,s),Un){i=0;do{if(Un=!1,rs=0,25<=i)throw Error(N(301));i+=1,fe=ce=null,e.updateQueue=null,Zs.current=Lm,t=r(n,s)}while(Un)}if(Zs.current=bi,e=ce!==null&&ce.next!==null,gr=0,fe=ce=X=null,Si=!1,e)throw Error(N(300));return t}function Tl(){var t=rs!==0;return rs=0,t}function lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?X.memoizedState=fe=t:fe=fe.next=t,fe}function Je(){if(ce===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=fe===null?X.memoizedState:fe.next;if(e!==null)fe=e,ce=t;else{if(t===null)throw Error(N(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},fe===null?X.memoizedState=fe=t:fe=fe.next=t}return fe}function ns(t,e){return typeof e=="function"?e(t):e}function ba(t){var e=Je(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=ce,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((gr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,a=n):u=u.next=f,X.lanes|=d,vr|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=l,st(n,e.memoizedState)||(Re=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,vr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ka(t){var e=Je(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);st(i,e.memoizedState)||(Re=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function lh(){}function uh(t,e){var r=X,n=Je(),s=e(),i=!st(n.memoizedState,s);if(i&&(n.memoizedState=s,Re=!0),n=n.queue,Rl(hh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||fe!==null&&fe.memoizedState.tag&1){if(r.flags|=2048,ss(9,dh.bind(null,r,n,s,e),void 0,null),pe===null)throw Error(N(349));gr&30||ch(r,e,s)}return s}function ch(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function dh(t,e,r,n){e.value=r,e.getSnapshot=n,fh(e)&&ph(t)}function hh(t,e,r){return r(function(){fh(e)&&ph(t)})}function fh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!st(t,r)}catch{return!0}}function ph(t){var e=xt(t,1);e!==null&&nt(e,t,1,-1)}function Du(t){var e=lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},e.queue=t,t=t.dispatch=Im.bind(null,X,t),[e.memoizedState,t]}function ss(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function mh(){return Je().memoizedState}function ei(t,e,r,n){var s=lt();X.flags|=t,s.memoizedState=ss(1|e,r,void 0,n===void 0?null:n)}function Mi(t,e,r,n){var s=Je();n=n===void 0?null:n;var i=void 0;if(ce!==null){var a=ce.memoizedState;if(i=a.destroy,n!==null&&Nl(n,a.deps)){s.memoizedState=ss(e,r,i,n);return}}X.flags|=t,s.memoizedState=ss(1|e,r,i,n)}function Bu(t,e){return ei(8390656,8,t,e)}function Rl(t,e){return Mi(2048,8,t,e)}function gh(t,e){return Mi(4,2,t,e)}function vh(t,e){return Mi(4,4,t,e)}function yh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wh(t,e,r){return r=r!=null?r.concat([t]):null,Mi(4,4,yh.bind(null,e,t),r)}function Pl(){}function _h(t,e){var r=Je();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Nl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function xh(t,e){var r=Je();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Nl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Sh(t,e,r){return gr&21?(st(r,e)||(r=Nd(),X.lanes|=r,vr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=r)}function Rm(t,e){var r=W;W=r!==0&&4>r?r:4,t(!0);var n=Sa.transition;Sa.transition={};try{t(!1),e()}finally{W=r,Sa.transition=n}}function bh(){return Je().memoizedState}function Pm(t,e,r){var n=Ft(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kh(t))jh(e,r);else if(r=ih(t,e,r,n),r!==null){var s=Ee();nt(r,t,n,s),Eh(r,e,n)}}function Im(t,e,r){var n=Ft(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kh(t))jh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,st(l,a)){var u=e.interleaved;u===null?(s.next=s,Sl(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=ih(t,e,s,n),r!==null&&(s=Ee(),nt(r,t,n,s),Eh(r,e,n))}}function kh(t){var e=t.alternate;return t===X||e!==null&&e===X}function jh(t,e){Un=Si=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Eh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ll(t,r)}}var bi={readContext:Ge,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Om={readContext:Ge,useCallback:function(t,e){return lt().memoizedState=[t,e===void 0?null:e],t},useContext:Ge,useEffect:Bu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ei(4194308,4,yh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ei(4194308,4,t,e)},useInsertionEffect:function(t,e){return ei(4,2,t,e)},useMemo:function(t,e){var r=lt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=lt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Pm.bind(null,X,t),[n.memoizedState,t]},useRef:function(t){var e=lt();return t={current:t},e.memoizedState=t},useState:Du,useDebugValue:Pl,useDeferredValue:function(t){return lt().memoizedState=t},useTransition:function(){var t=Du(!1),e=t[0];return t=Rm.bind(null,t[1]),lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=X,s=lt();if(Q){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),pe===null)throw Error(N(349));gr&30||ch(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Bu(hh.bind(null,n,i,t),[t]),n.flags|=2048,ss(9,dh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=lt(),e=pe.identifierPrefix;if(Q){var r=vt,n=gt;r=(n&~(1<<32-rt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=rs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Tm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Am={readContext:Ge,useCallback:_h,useContext:Ge,useEffect:Rl,useImperativeHandle:wh,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:xh,useReducer:ba,useRef:mh,useState:function(){return ba(ns)},useDebugValue:Pl,useDeferredValue:function(t){var e=Je();return Sh(e,ce.memoizedState,t)},useTransition:function(){var t=ba(ns)[0],e=Je().memoizedState;return[t,e]},useMutableSource:lh,useSyncExternalStore:uh,useId:bh,unstable_isNewReconciler:!1},Lm={readContext:Ge,useCallback:_h,useContext:Ge,useEffect:Rl,useImperativeHandle:wh,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:xh,useReducer:ka,useRef:mh,useState:function(){return ka(ns)},useDebugValue:Pl,useDeferredValue:function(t){var e=Je();return ce===null?e.memoizedState=t:Sh(e,ce.memoizedState,t)},useTransition:function(){var t=ka(ns)[0],e=Je().memoizedState;return[t,e]},useMutableSource:lh,useSyncExternalStore:uh,useId:bh,unstable_isNewReconciler:!1};function Xe(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function vo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Z({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zi={isMounted:function(t){return(t=t._reactInternals)?_r(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ee(),s=Ft(t),i=yt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Mt(t,i,s),e!==null&&(nt(e,t,s,n),Xs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ee(),s=Ft(t),i=yt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Mt(t,i,s),e!==null&&(nt(e,t,s,n),Xs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ee(),n=Ft(t),s=yt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Mt(t,s,n),e!==null&&(nt(e,t,n,r),Xs(e,t,n))}};function Mu(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Qn(r,n)||!Qn(s,i):!0}function Nh(t,e,r){var n=!1,s=Gt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=Ie(e)?pr:be.current,n=e.contextTypes,i=(n=n!=null)?tn(t,s):Gt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zi.enqueueReplaceState(e,e.state,null)}function yo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},bl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=Ie(e)?pr:be.current,s.context=tn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zi.enqueueReplaceState(s,s.state,null),_i(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function an(t,e){try{var r="",n=e;do r+=up(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ja(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var $m=typeof WeakMap=="function"?WeakMap:Map;function Ch(t,e,r){r=yt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ji||(ji=!0,To=n),wo(t,e)},r}function Th(t,e,r){r=yt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){wo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){wo(t,e),typeof n!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Fu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new $m;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Qm.bind(null,t,e,r),e.then(t,t))}function Wu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=yt(-1,1),e.tag=2,Mt(r,e,1))),r.lanes|=1),t)}var Um=bt.ReactCurrentOwner,Re=!1;function je(t,e,r,n){e.child=t===null?sh(e,null,r,n):nn(e,t.child,r,n)}function qu(t,e,r,n,s){r=r.render;var i=e.ref;return Qr(e,s),n=Cl(t,e,r,n,i,s),r=Tl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,St(t,e,s)):(Q&&r&&gl(e),e.flags|=1,je(t,e,n,s),e.child)}function Hu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Bl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Rh(t,e,i,n,s)):(t=si(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Qn,r(a,n)&&t.ref===e.ref)return St(t,e,s)}return e.flags|=1,t=Wt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Rh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Qn(i,n)&&t.ref===e.ref)if(Re=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,St(t,e,s)}return _o(t,e,r,n,s)}function Ph(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Wr,$e),$e|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(Wr,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,H(Wr,$e),$e|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,H(Wr,$e),$e|=n;return je(t,e,s,r),e.child}function Ih(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function _o(t,e,r,n,s){var i=Ie(r)?pr:be.current;return i=tn(e,i),Qr(e,s),r=Cl(t,e,r,n,i,s),n=Tl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,St(t,e,s)):(Q&&n&&gl(e),e.flags|=1,je(t,e,r,s),e.child)}function Ku(t,e,r,n,s){if(Ie(r)){var i=!0;mi(e)}else i=!1;if(Qr(e,s),e.stateNode===null)ti(t,e),Nh(e,r,n),yo(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ge(c):(c=Ie(r)?pr:be.current,c=tn(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&zu(e,a,n,c),Ct=!1;var h=e.memoizedState;a.state=h,_i(e,n,a,s),u=e.memoizedState,l!==n||h!==u||Pe.current||Ct?(typeof d=="function"&&(vo(e,r,d,n),u=e.memoizedState),(l=Ct||Mu(e,r,l,n,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,ah(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Xe(e.type,l),a.props=c,f=e.pendingProps,h=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ge(u):(u=Ie(r)?pr:be.current,u=tn(e,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==u)&&zu(e,a,n,u),Ct=!1,h=e.memoizedState,a.state=h,_i(e,n,a,s);var y=e.memoizedState;l!==f||h!==y||Pe.current||Ct?(typeof v=="function"&&(vo(e,r,v,n),y=e.memoizedState),(c=Ct||Mu(e,r,c,n,h,y,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),a.props=n,a.state=y,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return xo(t,e,r,n,i,s)}function xo(t,e,r,n,s,i){Ih(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Iu(e,r,!1),St(t,e,i);n=e.stateNode,Um.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=nn(e,t.child,null,i),e.child=nn(e,null,l,i)):je(t,e,l,i),e.memoizedState=n.state,s&&Iu(e,r,!0),e.child}function Oh(t){var e=t.stateNode;e.pendingContext?Pu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pu(t,e.context,!1),kl(t,e.containerInfo)}function Gu(t,e,r,n,s){return rn(),yl(s),e.flags|=256,je(t,e,r,n),e.child}var So={dehydrated:null,treeContext:null,retryLane:0};function bo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ah(t,e,r){var n=e.pendingProps,s=Y.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),H(Y,s&1),t===null)return mo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Vi(a,n,0,null),t=fr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=bo(r),e.memoizedState=So,t):Il(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Dm(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Wt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Wt(l,i):(i=fr(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?bo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=So,n}return i=t.child,t=i.sibling,n=Wt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Il(t,e){return e=Vi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ls(t,e,r,n){return n!==null&&yl(n),nn(e,t.child,null,r),t=Il(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dm(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=ja(Error(N(422))),Ls(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Vi({mode:"visible",children:n.children},s,0,null),i=fr(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&nn(e,t.child,null,a),e.child.memoizedState=bo(a),e.memoizedState=So,i);if(!(e.mode&1))return Ls(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(N(419)),n=ja(i,n,void 0),Ls(t,e,a,n)}if(l=(a&t.childLanes)!==0,Re||l){if(n=pe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xt(t,s),nt(n,t,s,-1))}return Dl(),n=ja(Error(N(421))),Ls(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ym.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,De=Bt(s.nextSibling),Be=e,Q=!0,tt=null,t!==null&&(Ve[qe++]=gt,Ve[qe++]=vt,Ve[qe++]=mr,gt=t.id,vt=t.overflow,mr=e),e=Il(e,n.children),e.flags|=4096,e)}function Ju(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),go(t.return,e,r)}function Ea(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Lh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(je(t,e,n.children,r),n=Y.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ju(t,r,e);else if(t.tag===19)Ju(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(H(Y,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&xi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ea(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ea(e,!0,r,null,i);break;case"together":Ea(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ti(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function St(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),vr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=Wt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Bm(t,e,r){switch(e.tag){case 3:Oh(e),rn();break;case 5:oh(e);break;case 1:Ie(e.type)&&mi(e);break;case 4:kl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;H(yi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(H(Y,Y.current&1),e.flags|=128,null):r&e.child.childLanes?Ah(t,e,r):(H(Y,Y.current&1),t=St(t,e,r),t!==null?t.sibling:null);H(Y,Y.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Lh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Y,Y.current),n)break;return null;case 22:case 23:return e.lanes=0,Ph(t,e,r)}return St(t,e,r)}var $h,ko,Uh,Dh;$h=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ko=function(){};Uh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,cr(dt.current);var i=null;switch(r){case"input":s=qa(t,s),n=qa(t,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=Ga(t,s),n=Ga(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=fi)}Qa(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&K("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Dh=function(t,e,r,n){r!==n&&(e.flags|=4)};function bn(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Mm(t,e,r){var n=e.pendingProps;switch(vl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return Ie(e.type)&&pi(),xe(e),null;case 3:return n=e.stateNode,sn(),G(Pe),G(be),El(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Os(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tt!==null&&(Io(tt),tt=null))),ko(t,e),xe(e),null;case 5:jl(e);var s=cr(ts.current);if(r=e.type,t!==null&&e.stateNode!=null)Uh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return xe(e),null}if(t=cr(dt.current),Os(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ut]=e,n[Zn]=i,t=(e.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(s=0;s<Rn.length;s++)K(Rn[s],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":su(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":au(n,i),K("invalid",n)}Qa(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,l,t),s=["children",""+l]):Wn.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&K("scroll",n)}switch(r){case"input":ks(n),iu(n,i,!0);break;case"textarea":ks(n),ou(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=fi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[ut]=e,t[Zn]=n,$h(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ya(r,n),r){case"dialog":K("cancel",t),K("close",t),s=n;break;case"iframe":case"object":case"embed":K("load",t),s=n;break;case"video":case"audio":for(s=0;s<Rn.length;s++)K(Rn[s],t);s=n;break;case"source":K("error",t),s=n;break;case"img":case"image":case"link":K("error",t),K("load",t),s=n;break;case"details":K("toggle",t),s=n;break;case"input":su(t,n),s=qa(t,n),K("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),K("invalid",t);break;case"textarea":au(t,n),s=Ga(t,n),K("invalid",t);break;default:s=n}Qa(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?md(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&fd(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Vn(t,u):typeof u=="number"&&Vn(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&K("scroll",t):u!=null&&rl(t,i,u,a))}switch(r){case"input":ks(t),iu(t,n,!1);break;case"textarea":ks(t),ou(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Kt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Hr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Hr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=fi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)Dh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=cr(ts.current),cr(dt.current),Os(e)){if(n=e.stateNode,r=e.memoizedProps,n[ut]=e,(i=n.nodeValue!==r)&&(t=Be,t!==null))switch(t.tag){case 3:Is(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Is(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ut]=e,e.stateNode=n}return xe(e),null;case 13:if(G(Y),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&De!==null&&e.mode&1&&!(e.flags&128))rh(),rn(),e.flags|=98560,i=!1;else if(i=Os(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ut]=e}else rn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),i=!1}else tt!==null&&(Io(tt),tt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?de===0&&(de=3):Dl())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return sn(),ko(t,e),t===null&&Yn(e.stateNode.containerInfo),xe(e),null;case 10:return xl(e.type._context),xe(e),null;case 17:return Ie(e.type)&&pi(),xe(e),null;case 19:if(G(Y),i=e.memoizedState,i===null)return xe(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)bn(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xi(t),a!==null){for(e.flags|=128,bn(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return H(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&se()>on&&(e.flags|=128,n=!0,bn(i,!1),e.lanes=4194304)}else{if(!n)if(t=xi(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Q)return xe(e),null}else 2*se()-i.renderingStartTime>on&&r!==1073741824&&(e.flags|=128,n=!0,bn(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=se(),e.sibling=null,r=Y.current,H(Y,n?r&1|2:r&1),e):(xe(e),null);case 22:case 23:return Ul(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$e&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function zm(t,e){switch(vl(e),e.tag){case 1:return Ie(e.type)&&pi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sn(),G(Pe),G(be),El(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jl(e),null;case 13:if(G(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));rn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(Y),null;case 4:return sn(),null;case 10:return xl(e.type._context),null;case 22:case 23:return Ul(),null;case 24:return null;default:return null}}var $s=!1,Se=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,T=null;function Fr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(t,e,n)}else r.current=null}function jo(t,e,r){try{r()}catch(n){re(t,e,n)}}var Qu=!1;function Wm(t,e){if(oo=ci,t=Wd(),ml(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===t)break t;if(h===r&&++c===s&&(l=a),h===i&&++d===n&&(u=a),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(lo={focusedElem:t,selectionRange:r},ci=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Xe(e.type,w),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return y=Qu,Qu=!1,y}function Dn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jo(e,r,i)}s=s.next}while(s!==n)}}function Fi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Eo(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Bh(t){var e=t.alternate;e!==null&&(t.alternate=null,Bh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ut],delete e[Zn],delete e[ho],delete e[jm],delete e[Em])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mh(t){return t.tag===5||t.tag===3||t.tag===4}function Yu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function No(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=fi));else if(n!==4&&(t=t.child,t!==null))for(No(t,e,r),t=t.sibling;t!==null;)No(t,e,r),t=t.sibling}function Co(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Co(t,e,r),t=t.sibling;t!==null;)Co(t,e,r),t=t.sibling}var ve=null,Ze=!1;function Et(t,e,r){for(r=r.child;r!==null;)zh(t,e,r),r=r.sibling}function zh(t,e,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Ai,r)}catch{}switch(r.tag){case 5:Se||Fr(r,e);case 6:var n=ve,s=Ze;ve=null,Et(t,e,r),ve=n,Ze=s,ve!==null&&(Ze?(t=ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ve.removeChild(r.stateNode));break;case 18:ve!==null&&(Ze?(t=ve,r=r.stateNode,t.nodeType===8?wa(t.parentNode,r):t.nodeType===1&&wa(t,r),Gn(t)):wa(ve,r.stateNode));break;case 4:n=ve,s=Ze,ve=r.stateNode.containerInfo,Ze=!0,Et(t,e,r),ve=n,Ze=s;break;case 0:case 11:case 14:case 15:if(!Se&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&jo(r,e,a),s=s.next}while(s!==n)}Et(t,e,r);break;case 1:if(!Se&&(Fr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){re(r,e,l)}Et(t,e,r);break;case 21:Et(t,e,r);break;case 22:r.mode&1?(Se=(n=Se)||r.memoizedState!==null,Et(t,e,r),Se=n):Et(t,e,r);break;default:Et(t,e,r)}}function Xu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Fm),e.forEach(function(n){var s=Xm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,Ze=!1;break e;case 3:ve=l.stateNode.containerInfo,Ze=!0;break e;case 4:ve=l.stateNode.containerInfo,Ze=!0;break e}l=l.return}if(ve===null)throw Error(N(160));zh(i,a,s),ve=null,Ze=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){re(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fh(e,t),e=e.sibling}function Fh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qe(e,t),ot(t),n&4){try{Dn(3,t,t.return),Fi(3,t)}catch(w){re(t,t.return,w)}try{Dn(5,t,t.return)}catch(w){re(t,t.return,w)}}break;case 1:Qe(e,t),ot(t),n&512&&r!==null&&Fr(r,r.return);break;case 5:if(Qe(e,t),ot(t),n&512&&r!==null&&Fr(r,r.return),t.flags&32){var s=t.stateNode;try{Vn(s,"")}catch(w){re(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&cd(s,i),Ya(l,a);var c=Ya(l,i);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?md(s,f):d==="dangerouslySetInnerHTML"?fd(s,f):d==="children"?Vn(s,f):rl(s,d,f,c)}switch(l){case"input":Ha(s,i);break;case"textarea":dd(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Hr(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Hr(s,!!i.multiple,i.defaultValue,!0):Hr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zn]=i}catch(w){re(t,t.return,w)}}break;case 6:if(Qe(e,t),ot(t),n&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){re(t,t.return,w)}}break;case 3:if(Qe(e,t),ot(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gn(e.containerInfo)}catch(w){re(t,t.return,w)}break;case 4:Qe(e,t),ot(t);break;case 13:Qe(e,t),ot(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ll=se())),n&4&&Xu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Se=(c=Se)||d,Qe(e,t),Se=c):Qe(e,t),ot(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(f=T=d;T!==null;){switch(h=T,v=h.child,h.tag){case 0:case 11:case 14:case 15:Dn(4,h,h.return);break;case 1:Fr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){re(n,r,w)}}break;case 5:Fr(h,h.return);break;case 22:if(h.memoizedState!==null){ec(f);continue}}v!==null?(v.return=h,T=v):ec(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=pd("display",a))}catch(w){re(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){re(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qe(e,t),ot(t),n&4&&Xu(t);break;case 21:break;default:Qe(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Mh(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Vn(s,""),n.flags&=-33);var i=Yu(t);Co(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Yu(t);No(t,l,a);break;default:throw Error(N(161))}}catch(u){re(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vm(t,e,r){T=t,Wh(t)}function Wh(t,e,r){for(var n=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||$s;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Se;l=$s;var c=Se;if($s=a,(Se=u)&&!c)for(T=s;T!==null;)a=T,u=a.child,a.tag===22&&a.memoizedState!==null?tc(s):u!==null?(u.return=a,T=u):tc(s);for(;i!==null;)T=i,Wh(i),i=i.sibling;T=s,$s=l,Se=c}Zu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Zu(t)}}function Zu(t){for(;T!==null;){var e=T;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Se||Fi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Se)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Xe(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Uu(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Uu(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Se||e.flags&512&&Eo(e)}catch(h){re(e,e.return,h)}}if(e===t){T=null;break}if(r=e.sibling,r!==null){r.return=e.return,T=r;break}T=e.return}}function ec(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var r=e.sibling;if(r!==null){r.return=e.return,T=r;break}T=e.return}}function tc(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fi(4,e)}catch(u){re(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){re(e,s,u)}}var i=e.return;try{Eo(e)}catch(u){re(e,i,u)}break;case 5:var a=e.return;try{Eo(e)}catch(u){re(e,a,u)}}}catch(u){re(e,e.return,u)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var qm=Math.ceil,ki=bt.ReactCurrentDispatcher,Ol=bt.ReactCurrentOwner,Ke=bt.ReactCurrentBatchConfig,F=0,pe=null,oe=null,ye=0,$e=0,Wr=Qt(0),de=0,is=null,vr=0,Wi=0,Al=0,Bn=null,Te=null,Ll=0,on=1/0,ft=null,ji=!1,To=null,zt=null,Us=!1,At=null,Ei=0,Mn=0,Ro=null,ri=-1,ni=0;function Ee(){return F&6?se():ri!==-1?ri:ri=se()}function Ft(t){return t.mode&1?F&2&&ye!==0?ye&-ye:Cm.transition!==null?(ni===0&&(ni=Nd()),ni):(t=W,t!==0||(t=window.event,t=t===void 0?16:Ad(t.type)),t):1}function nt(t,e,r,n){if(50<Mn)throw Mn=0,Ro=null,Error(N(185));ms(t,r,n),(!(F&2)||t!==pe)&&(t===pe&&(!(F&2)&&(Wi|=r),de===4&&Pt(t,ye)),Oe(t,n),r===1&&F===0&&!(e.mode&1)&&(on=se()+500,Bi&&Yt()))}function Oe(t,e){var r=t.callbackNode;Cp(t,e);var n=ui(t,t===pe?ye:0);if(n===0)r!==null&&cu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&cu(r),e===1)t.tag===0?Nm(rc.bind(null,t)):Zd(rc.bind(null,t)),bm(function(){!(F&6)&&Yt()}),r=null;else{switch(Cd(n)){case 1:r=ol;break;case 4:r=jd;break;case 16:r=li;break;case 536870912:r=Ed;break;default:r=li}r=Yh(r,Vh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Vh(t,e){if(ri=-1,ni=0,F&6)throw Error(N(327));var r=t.callbackNode;if(Yr()&&t.callbackNode!==r)return null;var n=ui(t,t===pe?ye:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ni(t,n);else{e=n;var s=F;F|=2;var i=Hh();(pe!==t||ye!==e)&&(ft=null,on=se()+500,hr(t,e));do try{Gm();break}catch(l){qh(t,l)}while(!0);_l(),ki.current=i,F=s,oe!==null?e=0:(pe=null,ye=0,e=de)}if(e!==0){if(e===2&&(s=ro(t),s!==0&&(n=s,e=Po(t,s))),e===1)throw r=is,hr(t,0),Pt(t,n),Oe(t,se()),r;if(e===6)Pt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Hm(s)&&(e=Ni(t,n),e===2&&(i=ro(t),i!==0&&(n=i,e=Po(t,i))),e===1))throw r=is,hr(t,0),Pt(t,n),Oe(t,se()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:sr(t,Te,ft);break;case 3:if(Pt(t,n),(n&130023424)===n&&(e=Ll+500-se(),10<e)){if(ui(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ee(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=co(sr.bind(null,t,Te,ft),e);break}sr(t,Te,ft);break;case 4:if(Pt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-rt(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qm(n/1960))-n,10<n){t.timeoutHandle=co(sr.bind(null,t,Te,ft),n);break}sr(t,Te,ft);break;case 5:sr(t,Te,ft);break;default:throw Error(N(329))}}}return Oe(t,se()),t.callbackNode===r?Vh.bind(null,t):null}function Po(t,e){var r=Bn;return t.current.memoizedState.isDehydrated&&(hr(t,e).flags|=256),t=Ni(t,e),t!==2&&(e=Te,Te=r,e!==null&&Io(e)),t}function Io(t){Te===null?Te=t:Te.push.apply(Te,t)}function Hm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~Al,e&=~Wi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-rt(e),n=1<<r;t[r]=-1,e&=~n}}function rc(t){if(F&6)throw Error(N(327));Yr();var e=ui(t,0);if(!(e&1))return Oe(t,se()),null;var r=Ni(t,e);if(t.tag!==0&&r===2){var n=ro(t);n!==0&&(e=n,r=Po(t,n))}if(r===1)throw r=is,hr(t,0),Pt(t,e),Oe(t,se()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sr(t,Te,ft),Oe(t,se()),null}function $l(t,e){var r=F;F|=1;try{return t(e)}finally{F=r,F===0&&(on=se()+500,Bi&&Yt())}}function yr(t){At!==null&&At.tag===0&&!(F&6)&&Yr();var e=F;F|=1;var r=Ke.transition,n=W;try{if(Ke.transition=null,W=1,t)return t()}finally{W=n,Ke.transition=r,F=e,!(F&6)&&Yt()}}function Ul(){$e=Wr.current,G(Wr)}function hr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Sm(r)),oe!==null)for(r=oe.return;r!==null;){var n=r;switch(vl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pi();break;case 3:sn(),G(Pe),G(be),El();break;case 5:jl(n);break;case 4:sn();break;case 13:G(Y);break;case 19:G(Y);break;case 10:xl(n.type._context);break;case 22:case 23:Ul()}r=r.return}if(pe=t,oe=t=Wt(t.current,null),ye=$e=e,de=0,is=null,Al=Wi=vr=0,Te=Bn=null,ur!==null){for(e=0;e<ur.length;e++)if(r=ur[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}ur=null}return t}function qh(t,e){do{var r=oe;try{if(_l(),Zs.current=bi,Si){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Si=!1}if(gr=0,fe=ce=X=null,Un=!1,rs=0,Ol.current=null,r===null||r.return===null){de=1,is=e,oe=null;break}e:{var i=t,a=r.return,l=r,u=e;if(e=ye,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Wu(a);if(v!==null){v.flags&=-257,Vu(v,a,l,i,e),v.mode&1&&Fu(i,c,e),e=v,u=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(u),e.updateQueue=w}else y.add(u);break e}else{if(!(e&1)){Fu(i,c,e),Dl();break e}u=Error(N(426))}}else if(Q&&l.mode&1){var x=Wu(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Vu(x,a,l,i,e),yl(an(u,l));break e}}i=u=an(u,l),de!==4&&(de=2),Bn===null?Bn=[i]:Bn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Ch(i,u,e);$u(i,g);break e;case 1:l=u;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zt===null||!zt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Th(i,l,e);$u(i,_);break e}}i=i.return}while(i!==null)}Gh(r)}catch(b){e=b,oe===r&&r!==null&&(oe=r=r.return);continue}break}while(!0)}function Hh(){var t=ki.current;return ki.current=bi,t===null?bi:t}function Dl(){(de===0||de===3||de===2)&&(de=4),pe===null||!(vr&268435455)&&!(Wi&268435455)||Pt(pe,ye)}function Ni(t,e){var r=F;F|=2;var n=Hh();(pe!==t||ye!==e)&&(ft=null,hr(t,e));do try{Km();break}catch(s){qh(t,s)}while(!0);if(_l(),F=r,ki.current=n,oe!==null)throw Error(N(261));return pe=null,ye=0,de}function Km(){for(;oe!==null;)Kh(oe)}function Gm(){for(;oe!==null&&!wp();)Kh(oe)}function Kh(t){var e=Qh(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?Gh(t):oe=e,Ol.current=null}function Gh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=zm(r,e),r!==null){r.flags&=32767,oe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,oe=null;return}}else if(r=Mm(r,e,$e),r!==null){oe=r;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);de===0&&(de=5)}function sr(t,e,r){var n=W,s=Ke.transition;try{Ke.transition=null,W=1,Jm(t,e,r,n)}finally{Ke.transition=s,W=n}return null}function Jm(t,e,r,n){do Yr();while(At!==null);if(F&6)throw Error(N(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Tp(t,i),t===pe&&(oe=pe=null,ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Us||(Us=!0,Yh(li,function(){return Yr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var a=W;W=1;var l=F;F|=4,Ol.current=null,Wm(t,r),Fh(r,t),mm(lo),ci=!!oo,lo=oo=null,t.current=r,Vm(r),_p(),F=l,W=a,Ke.transition=i}else t.current=r;if(Us&&(Us=!1,At=t,Ei=s),i=t.pendingLanes,i===0&&(zt=null),bp(r.stateNode),Oe(t,se()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ji)throw ji=!1,t=To,To=null,t;return Ei&1&&t.tag!==0&&Yr(),i=t.pendingLanes,i&1?t===Ro?Mn++:(Mn=0,Ro=t):Mn=0,Yt(),null}function Yr(){if(At!==null){var t=Cd(Ei),e=Ke.transition,r=W;try{if(Ke.transition=null,W=16>t?16:t,At===null)var n=!1;else{if(t=At,At=null,Ei=0,F&6)throw Error(N(331));var s=F;for(F|=4,T=t.current;T!==null;){var i=T,a=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Dn(8,d,i)}var f=d.child;if(f!==null)f.return=d,T=f;else for(;T!==null;){d=T;var h=d.sibling,v=d.return;if(Bh(d),d===c){T=null;break}if(h!==null){h.return=v,T=h;break}T=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}T=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,T=a;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,T=g;break e}T=i.return}}var m=t.current;for(T=m;T!==null;){a=T;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,T=p;else e:for(a=m;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fi(9,l)}}catch(b){re(l,l.return,b)}if(l===a){T=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,T=_;break e}T=l.return}}if(F=s,Yt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Ai,t)}catch{}n=!0}return n}finally{W=r,Ke.transition=e}}return!1}function nc(t,e,r){e=an(r,e),e=Ch(t,e,1),t=Mt(t,e,1),e=Ee(),t!==null&&(ms(t,1,e),Oe(t,e))}function re(t,e,r){if(t.tag===3)nc(t,t,r);else for(;e!==null;){if(e.tag===3){nc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zt===null||!zt.has(n))){t=an(r,t),t=Th(e,t,1),e=Mt(e,t,1),t=Ee(),e!==null&&(ms(e,1,t),Oe(e,t));break}}e=e.return}}function Qm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ee(),t.pingedLanes|=t.suspendedLanes&r,pe===t&&(ye&r)===r&&(de===4||de===3&&(ye&130023424)===ye&&500>se()-Ll?hr(t,0):Al|=r),Oe(t,e)}function Jh(t,e){e===0&&(t.mode&1?(e=Ns,Ns<<=1,!(Ns&130023424)&&(Ns=4194304)):e=1);var r=Ee();t=xt(t,e),t!==null&&(ms(t,e,r),Oe(t,r))}function Ym(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Jh(t,r)}function Xm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),Jh(t,r)}var Qh;Qh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Re=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Re=!1,Bm(t,e,r);Re=!!(t.flags&131072)}else Re=!1,Q&&e.flags&1048576&&eh(e,vi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ti(t,e),t=e.pendingProps;var s=tn(e,be.current);Qr(e,r),s=Cl(null,e,n,t,s,r);var i=Tl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(n)?(i=!0,mi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bl(e),s.updater=zi,e.stateNode=s,s._reactInternals=e,yo(e,n,t,r),e=xo(null,e,n,!0,i,r)):(e.tag=0,Q&&i&&gl(e),je(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ti(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=eg(n),t=Xe(n,t),s){case 0:e=_o(null,e,n,t,r);break e;case 1:e=Ku(null,e,n,t,r);break e;case 11:e=qu(null,e,n,t,r);break e;case 14:e=Hu(null,e,n,Xe(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),_o(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),Ku(t,e,n,s,r);case 3:e:{if(Oh(e),t===null)throw Error(N(387));n=e.pendingProps,i=e.memoizedState,s=i.element,ah(t,e),_i(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=an(Error(N(423)),e),e=Gu(t,e,n,r,s);break e}else if(n!==s){s=an(Error(N(424)),e),e=Gu(t,e,n,r,s);break e}else for(De=Bt(e.stateNode.containerInfo.firstChild),Be=e,Q=!0,tt=null,r=sh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rn(),n===s){e=St(t,e,r);break e}je(t,e,n,r)}e=e.child}return e;case 5:return oh(e),t===null&&mo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,uo(n,s)?a=null:i!==null&&uo(n,i)&&(e.flags|=32),Ih(t,e),je(t,e,a,r),e.child;case 6:return t===null&&mo(e),null;case 13:return Ah(t,e,r);case 4:return kl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=nn(e,null,n,r):je(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),qu(t,e,n,s,r);case 7:return je(t,e,e.pendingProps,r),e.child;case 8:return je(t,e,e.pendingProps.children,r),e.child;case 12:return je(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,H(yi,n._currentValue),n._currentValue=a,i!==null)if(st(i.value,a)){if(i.children===s.children&&!Pe.current){e=St(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=yt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),go(i.return,r,e),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),go(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}je(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Qr(e,r),s=Ge(s),n=n(s),e.flags|=1,je(t,e,n,r),e.child;case 14:return n=e.type,s=Xe(n,e.pendingProps),s=Xe(n.type,s),Hu(t,e,n,s,r);case 15:return Rh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),ti(t,e),e.tag=1,Ie(n)?(t=!0,mi(e)):t=!1,Qr(e,r),Nh(e,n,s),yo(e,n,s,r),xo(null,e,n,!0,t,r);case 19:return Lh(t,e,r);case 22:return Ph(t,e,r)}throw Error(N(156,e.tag))};function Yh(t,e){return kd(t,e)}function Zm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,e,r,n){return new Zm(t,e,r,n)}function Bl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eg(t){if(typeof t=="function")return Bl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sl)return 11;if(t===il)return 14}return 2}function Wt(t,e){var r=t.alternate;return r===null?(r=He(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function si(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")Bl(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Or:return fr(r.children,s,i,e);case nl:a=8,s|=8;break;case za:return t=He(12,r,e,s|2),t.elementType=za,t.lanes=i,t;case Fa:return t=He(13,r,e,s),t.elementType=Fa,t.lanes=i,t;case Wa:return t=He(19,r,e,s),t.elementType=Wa,t.lanes=i,t;case od:return Vi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case id:a=10;break e;case ad:a=9;break e;case sl:a=11;break e;case il:a=14;break e;case Nt:a=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=He(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function fr(t,e,r,n){return t=He(7,t,n,e),t.lanes=r,t}function Vi(t,e,r,n){return t=He(22,t,n,e),t.elementType=od,t.lanes=r,t.stateNode={isHidden:!1},t}function Na(t,e,r){return t=He(6,t,null,e),t.lanes=r,t}function Ca(t,e,r){return e=He(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ml(t,e,r,n,s,i,a,l,u){return t=new tg(t,e,r,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=He(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bl(i),t}function rg(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ir,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Xh(t){if(!t)return Gt;t=t._reactInternals;e:{if(_r(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(Ie(r))return Xd(t,r,e)}return e}function Zh(t,e,r,n,s,i,a,l,u){return t=Ml(r,n,!0,t,s,i,a,l,u),t.context=Xh(null),r=t.current,n=Ee(),s=Ft(r),i=yt(n,s),i.callback=e??null,Mt(r,i,s),t.current.lanes=s,ms(t,s,n),Oe(t,n),t}function qi(t,e,r,n){var s=e.current,i=Ee(),a=Ft(s);return r=Xh(r),e.context===null?e.context=r:e.pendingContext=r,e=yt(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Mt(s,e,a),t!==null&&(nt(t,s,a,i),Xs(t,s,a)),a}function Ci(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zl(t,e){sc(t,e),(t=t.alternate)&&sc(t,e)}function ng(){return null}var ef=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fl(t){this._internalRoot=t}Hi.prototype.render=Fl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));qi(t,e,null,null)};Hi.prototype.unmount=Fl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yr(function(){qi(null,t,null,null)}),e[_t]=null}};function Hi(t){this._internalRoot=t}Hi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rt.length&&e!==0&&e<Rt[r].priority;r++);Rt.splice(r,0,t),r===0&&Od(t)}};function Wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ki(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ic(){}function sg(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ci(a);i.call(c)}}var a=Zh(e,n,t,0,null,!1,!1,"",ic);return t._reactRootContainer=a,t[_t]=a.current,Yn(t.nodeType===8?t.parentNode:t),yr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Ci(u);l.call(c)}}var u=Ml(t,0,!1,null,null,!1,!1,"",ic);return t._reactRootContainer=u,t[_t]=u.current,Yn(t.nodeType===8?t.parentNode:t),yr(function(){qi(e,u,r,n)}),u}function Gi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=Ci(a);l.call(u)}}qi(e,a,t,s)}else a=sg(r,e,t,s,n);return Ci(a)}Td=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Tn(e.pendingLanes);r!==0&&(ll(e,r|1),Oe(e,se()),!(F&6)&&(on=se()+500,Yt()))}break;case 13:yr(function(){var n=xt(t,1);if(n!==null){var s=Ee();nt(n,t,1,s)}}),zl(t,1)}};ul=function(t){if(t.tag===13){var e=xt(t,134217728);if(e!==null){var r=Ee();nt(e,t,134217728,r)}zl(t,134217728)}};Rd=function(t){if(t.tag===13){var e=Ft(t),r=xt(t,e);if(r!==null){var n=Ee();nt(r,t,e,n)}zl(t,e)}};Pd=function(){return W};Id=function(t,e){var r=W;try{return W=t,e()}finally{W=r}};Za=function(t,e,r){switch(e){case"input":if(Ha(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Di(n);if(!s)throw Error(N(90));ud(n),Ha(n,s)}}}break;case"textarea":dd(t,r);break;case"select":e=r.value,e!=null&&Hr(t,!!r.multiple,e,!1)}};yd=$l;wd=yr;var ig={usingClientEntryPoint:!1,Events:[vs,Ur,Di,gd,vd,$l]},kn={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ag={bundleType:kn.bundleType,version:kn.version,rendererPackageName:kn.rendererPackageName,rendererConfig:kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sd(t),t===null?null:t.stateNode},findFiberByHostInstance:kn.findFiberByHostInstance||ng,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Ai=Ds.inject(ag),ct=Ds}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ig;ze.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wl(e))throw Error(N(200));return rg(t,e,null,r)};ze.createRoot=function(t,e){if(!Wl(t))throw Error(N(299));var r=!1,n="",s=ef;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ml(t,1,!1,null,null,r,!1,n,s),t[_t]=e.current,Yn(t.nodeType===8?t.parentNode:t),new Fl(e)};ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Sd(e),t=t===null?null:t.stateNode,t};ze.flushSync=function(t){return yr(t)};ze.hydrate=function(t,e,r){if(!Ki(e))throw Error(N(200));return Gi(null,t,e,!0,r)};ze.hydrateRoot=function(t,e,r){if(!Wl(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ef;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Zh(e,null,t,1,r??null,s,!1,i,a),t[_t]=e.current,Yn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Hi(e)};ze.render=function(t,e,r){if(!Ki(e))throw Error(N(200));return Gi(null,t,e,!1,r)};ze.unmountComponentAtNode=function(t){if(!Ki(t))throw Error(N(40));return t._reactRootContainer?(yr(function(){Gi(null,null,t,!1,function(){t._reactRootContainer=null,t[_t]=null})}),!0):!1};ze.unstable_batchedUpdates=$l;ze.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ki(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Gi(t,e,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function tf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tf)}catch(t){console.error(t)}}tf(),td.exports=ze;var og=td.exports,ac=og;Ba.createRoot=ac.createRoot,Ba.hydrateRoot=ac.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},as.apply(this,arguments)}var Lt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lt||(Lt={}));const oc="popstate";function lg(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return Oo("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ti(s)}return cg(e,r,null,t)}function ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ug(){return Math.random().toString(36).substr(2,8)}function lc(t,e){return{usr:t.state,key:t.key,idx:e}}function Oo(t,e,r,n){return r===void 0&&(r=null),as({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dn(e):e,{state:r,key:e&&e.key||n||ug()})}function Ti(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function dn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function cg(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Lt.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(as({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Lt.Pop;let x=d(),g=x==null?null:x-c;c=x,u&&u({action:l,location:w.location,delta:g})}function h(x,g){l=Lt.Push;let m=Oo(w.location,x,g);c=d()+1;let p=lc(m,c),_=w.createHref(m);try{a.pushState(p,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(_)}i&&u&&u({action:l,location:w.location,delta:1})}function v(x,g){l=Lt.Replace;let m=Oo(w.location,x,g);c=d();let p=lc(m,c),_=w.createHref(m);a.replaceState(p,"",_),i&&u&&u({action:l,location:w.location,delta:0})}function y(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:Ti(x);return m=m.replace(/ $/,"%20"),ie(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let w={get action(){return l},get location(){return t(s,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(oc,f),u=x,()=>{s.removeEventListener(oc,f),u=null}},createHref(x){return e(s,x)},createURL:y,encodeLocation(x){let g=y(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:v,go(x){return a.go(x)}};return w}var uc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uc||(uc={}));function dg(t,e,r){return r===void 0&&(r="/"),hg(t,e,r)}function hg(t,e,r,n){let s=typeof e=="string"?dn(e):e,i=ql(s.pathname||"/",r);if(i==null)return null;let a=rf(t);fg(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=jg(i);l=Sg(a[u],c)}return l}function rf(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(ie(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Vt([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),rf(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:_g(c,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let u of nf(i.path))s(i,a,u)}),e}function nf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=nf(n.join("/")),l=[];return l.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function fg(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xg(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pg=/^:[\w-]+$/,mg=3,gg=2,vg=1,yg=10,wg=-2,cc=t=>t==="*";function _g(t,e){let r=t.split("/"),n=r.length;return r.some(cc)&&(n+=wg),e&&(n+=gg),r.filter(s=>!cc(s)).reduce((s,i)=>s+(pg.test(i)?mg:i===""?vg:yg),n)}function xg(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Sg(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=bg({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Vt([i,f.pathname]),pathnameBase:Rg(Vt([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Vt([i,f.pathnameBase]))}return a}function bg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=kg(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let w=l[f]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[f];return v&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function kg(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Vl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function jg(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ql(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ng=t=>Eg.test(t);function Cg(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?dn(t):t,i;if(r)if(Ng(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Vl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=dc(r.substring(1),"/"):i=dc(r,e)}else i=e;return{pathname:i,search:Pg(n),hash:Ig(s)}}function dc(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ta(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tg(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Hl(t,e){let r=Tg(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Kl(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=dn(t):(s=as({},t),ie(!s.pathname||!s.pathname.includes("?"),Ta("?","pathname","search",s)),ie(!s.pathname||!s.pathname.includes("#"),Ta("#","pathname","hash",s)),ie(!s.search||!s.search.includes("#"),Ta("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?e[f]:"/"}let u=Cg(s,l),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Vt=t=>t.join("/").replace(/\/\/+/g,"/"),Rg=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Pg=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ig=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Og(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sf=["post","put","patch","delete"];new Set(sf);const Ag=["get",...sf];new Set(Ag);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function os(){return os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},os.apply(this,arguments)}const Gl=S.createContext(null),Lg=S.createContext(null),Xt=S.createContext(null),Ji=S.createContext(null),kt=S.createContext({outlet:null,matches:[],isDataRoute:!1}),af=S.createContext(null);function $g(t,e){let{relative:r}=e===void 0?{}:e;hn()||ie(!1);let{basename:n,navigator:s}=S.useContext(Xt),{hash:i,pathname:a,search:l}=lf(t,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Vt([n,a])),s.createHref({pathname:u,search:l,hash:i})}function hn(){return S.useContext(Ji)!=null}function it(){return hn()||ie(!1),S.useContext(Ji).location}function of(t){S.useContext(Xt).static||S.useLayoutEffect(t)}function fn(){let{isDataRoute:t}=S.useContext(kt);return t?Yg():Ug()}function Ug(){hn()||ie(!1);let t=S.useContext(Gl),{basename:e,future:r,navigator:n}=S.useContext(Xt),{matches:s}=S.useContext(kt),{pathname:i}=it(),a=JSON.stringify(Hl(s,r.v7_relativeSplatPath)),l=S.useRef(!1);return of(()=>{l.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let f=Kl(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Vt([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,a,i,t])}const Dg=S.createContext(null);function Bg(t){let e=S.useContext(kt).outlet;return e&&S.createElement(Dg.Provider,{value:t},e)}function lf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=S.useContext(Xt),{matches:s}=S.useContext(kt),{pathname:i}=it(),a=JSON.stringify(Hl(s,n.v7_relativeSplatPath));return S.useMemo(()=>Kl(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Mg(t,e){return zg(t,e)}function zg(t,e,r,n){hn()||ie(!1);let{navigator:s}=S.useContext(Xt),{matches:i}=S.useContext(kt),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=it(),d;if(e){var f;let x=typeof e=="string"?dn(e):e;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||ie(!1),d=x}else d=c;let h=d.pathname||"/",v=h;if(u!=="/"){let x=u.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=dg(t,{pathname:v}),w=Hg(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Vt([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Vt([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return e&&w?S.createElement(Ji.Provider,{value:{location:os({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Lt.Pop}},w):w}function Fg(){let t=Qg(),e=Og(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:s},r):null,null)}const Wg=S.createElement(Fg,null);class Vg extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?S.createElement(kt.Provider,{value:this.props.routeContext},S.createElement(af.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qg(t){let{routeContext:e,match:r,children:n}=t,s=S.useContext(Gl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(kt.Provider,{value:e},n)}function Hg(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ie(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:v}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let v,y=!1,w=null,x=null;r&&(v=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||Wg,u&&(c<0&&h===0?(Xg("route-fallback"),y=!0,x=null):c===h&&(y=!0,x=f.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,h+1)),m=()=>{let p;return v?p=w:y?p=x:f.route.Component?p=S.createElement(f.route.Component,null):f.route.element?p=f.route.element:p=d,S.createElement(qg,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:p})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(Vg,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var uf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uf||{}),cf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cf||{});function Kg(t){let e=S.useContext(Gl);return e||ie(!1),e}function Gg(t){let e=S.useContext(Lg);return e||ie(!1),e}function Jg(t){let e=S.useContext(kt);return e||ie(!1),e}function df(t){let e=Jg(),r=e.matches[e.matches.length-1];return r.route.id||ie(!1),r.route.id}function Qg(){var t;let e=S.useContext(af),r=Gg(),n=df();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Yg(){let{router:t}=Kg(uf.UseNavigateStable),e=df(cf.UseNavigateStable),r=S.useRef(!1);return of(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,os({fromRouteId:e},i)))},[t,e])}const hc={};function Xg(t,e,r){hc[t]||(hc[t]=!0)}function Zg(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fc(t){let{to:e,replace:r,state:n,relative:s}=t;hn()||ie(!1);let{future:i,static:a}=S.useContext(Xt),{matches:l}=S.useContext(kt),{pathname:u}=it(),c=fn(),d=Kl(e,Hl(l,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function Ao(t){return Bg(t.context)}function ke(t){ie(!1)}function ev(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Lt.Pop,navigator:i,static:a=!1,future:l}=t;hn()&&ie(!1);let u=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:u,navigator:i,static:a,future:os({v7_relativeSplatPath:!1},l)}),[u,l,i,a]);typeof n=="string"&&(n=dn(n));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:y="default"}=n,w=S.useMemo(()=>{let x=ql(d,u);return x==null?null:{location:{pathname:x,search:f,hash:h,state:v,key:y},navigationType:s}},[u,d,f,h,v,y,s]);return w==null?null:S.createElement(Xt.Provider,{value:c},S.createElement(Ji.Provider,{children:r,value:w}))}function tv(t){let{children:e,location:r}=t;return Mg(Lo(e),r)}new Promise(()=>{});function Lo(t,e){e===void 0&&(e=[]);let r=[];return S.Children.forEach(t,(n,s)=>{if(!S.isValidElement(n))return;let i=[...e,s];if(n.type===S.Fragment){r.push.apply(r,Lo(n.props.children,i));return}n.type!==ke&&ie(!1),!n.props.index||!n.props.children||ie(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Lo(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$o.apply(this,arguments)}function rv(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function nv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sv(t,e){return t.button===0&&(!e||e==="_self")&&!nv(t)}function Uo(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function iv(t,e){let r=Uo(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const av=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ov="6";try{window.__reactRouterVersion=ov}catch{}const lv="startTransition",pc=Qf[lv];function uv(t){let{basename:e,children:r,future:n,window:s}=t,i=S.useRef();i.current==null&&(i.current=lg({window:s,v5Compat:!0}));let a=i.current,[l,u]=S.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=S.useCallback(f=>{c&&pc?pc(()=>u(f)):u(f)},[u,c]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.useEffect(()=>Zg(n),[n]),S.createElement(ev,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const cv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B=S.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=e,h=rv(e,av),{basename:v}=S.useContext(Xt),y,w=!1;if(typeof c=="string"&&dv.test(c)&&(y=c,cv))try{let p=new URL(window.location.href),_=c.startsWith("//")?new URL(p.protocol+c):new URL(c),b=ql(_.pathname,v);_.origin===p.origin&&b!=null?c=b+_.search+_.hash:w=!0}catch{}let x=$g(c,{relative:s}),g=hv(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:f});function m(p){n&&n(p),p.defaultPrevented||g(p)}return S.createElement("a",$o({},h,{href:y||x,onClick:w||i?n:m,ref:r,target:u}))});var mc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mc||(mc={}));var gc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gc||(gc={}));function hv(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,u=fn(),c=it(),d=lf(t,{relative:a});return S.useCallback(f=>{if(sv(f,r)){f.preventDefault();let h=n!==void 0?n:Ti(c)===Ti(d);u(t,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,d,n,s,r,t,i,a,l])}function fv(t){let e=S.useRef(Uo(t)),r=S.useRef(!1),n=it(),s=S.useMemo(()=>iv(n.search,r.current?null:e.current),[n.search]),i=fn(),a=S.useCallback((l,u)=>{const c=Uo(typeof l=="function"?l(s):l);r.current=!0,i("?"+c,u)},[i,s]);return[s,a]}function Qi(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function pv(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(t,e||[])).next())})}const mv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Jl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class gv extends Jl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vc extends Jl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yc extends Jl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Do;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Do||(Do={}));class vv{constructor(e,{headers:r={},customFetch:n,region:s=Do.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=mv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return pv(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:u,body:c,signal:d,timeout:f}=n;let h={},{region:v}=n;v||(v=this.region);const y=new URL(`${this.url}/${r}`);v&&v!=="any"&&(h["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let w;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(h["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(h["Content-Type"]="application/json",w=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?w=JSON.stringify(c):w=c;let x=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:w,signal:x}).catch(b=>{throw new gv(b)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new vc(g);if(!g.ok)throw new yc(g);let p=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield g.json():p==="application/octet-stream"||p==="application/pdf"?_=yield g.blob():p==="text/event-stream"?_=g:p==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof yc||l instanceof vc?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var yv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},wv=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,u=null,c=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var v;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const w=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&x&&x.length>1&&(u=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,c=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(l=[],a=null,c=200,d="OK")}catch{i.status===404&&w===""?(c=204,d="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&r.shouldThrowOnError)throw new yv(a)}return{error:a,data:l,count:u,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const u=i==null?void 0:i.cause;if(u){var c,d,f,h;const y=(c=u==null?void 0:u.message)!==null&&c!==void 0?c:"",w=(d=u==null?void 0:u.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"Error"}: ${y}`,w&&(l+=` (${w})`),u!=null&&u.stack&&(l+=`
${u.stack}`)}else{var v;l=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},_v=class extends wv{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const wc=new RegExp("[,()]");var Tr=class extends _v{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&wc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&wc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},xv=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",a),n&&u.append("Prefer",`count=${n}`),new Tr({method:s,url:l,headers:u,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);i.searchParams.set("columns",u.join(","))}}return new Tr({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),n&&u.append("Prefer",`count=${n}`),s||u.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Tr({method:a,url:l,headers:u,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Tr({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Tr({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Sv=class hf{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xv(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const u=new URL(`${this.url}/rpc/${e}`);let c;const d=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",c=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{u.searchParams.append(v,y)})):(l="POST",c=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Tr({method:l,url:u,headers:h,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class bv{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kv="2.93.1",jv=`realtime-js/${kv}`,Ev="1.0.0",ff="2.0.0",_c=ff,Bo=1e4,Nv=1e3,Cv=100;var Tt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Tt||(Tt={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var et;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(et||(et={}));var Mo;(function(t){t.websocket="websocket"})(Mo||(Mo={}));var ar;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ar||(ar={}));class Tv{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,i;const a=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",u=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+a.length+c.length+f.length,v=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(v),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,u.length),y.setUint8(w++,l.length),y.setUint8(w++,a.length),y.setUint8(w++,c.length),y.setUint8(w++,f.length),y.setUint8(w++,r),Array.from(u,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(l,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(c,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(f,g=>y.setUint8(w++,g.charCodeAt(0)));var x=new Uint8Array(v.byteLength+n.byteLength);return x.set(new Uint8Array(v),0),x.set(new Uint8Array(n),v.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,l,u]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let u=this.HEADER_LENGTH+4;const c=n.decode(e.slice(u,u+s));u=u+s;const d=n.decode(e.slice(u,u+i));u=u+i;const f=n.decode(e.slice(u,u+a));u=u+a;const h=e.slice(u,e.byteLength),v=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:v};return a>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class pf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(q||(q={}));const xc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=Rv(a,t,e,s),i),{}):{}},Rv=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?mf(i,a):zo(a)},mf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Av(e,r)}switch(t){case q.bool:return Pv(e);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return Iv(e);case q.json:case q.jsonb:return Ov(e);case q.timestamp:return Lv(e);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return zo(e);default:return zo(e)}},zo=t=>t,Pv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Iv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ov=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Av=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>mf(e,l))}return t},Lv=t=>typeof t=="string"?t.replace(" ","T"):t,gf=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ra{constructor(e,r,n={},s=Bo){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Sc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Sc||(Sc={}));class zn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=zn.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zn.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(x=>x.presence_ref),v=f.map(x=>x.presence_ref),y=d.filter(x=>v.indexOf(x.presence_ref)<0),w=f.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(l[c]=y),w.length>0&&(u[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),d.length>0){const f=e[l].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);e[l].unshift(...h)}n(l,d,u)}),this.map(a,(l,u)=>{let c=e[l];if(!c)return;const d=u.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bc||(bc={}));var Fn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fn||(Fn={}));var pt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pt||(pt={}));class Vr{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ra(this,et.join,this.params,this.timeout),this.rejoinTimer=new pf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new zn(this),this.broadcastEndpointURL=gf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Fn.PRESENCE]&&this.bindings[Fn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(pt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(pt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(pt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let m=0;m<x;m++){const p=w[m],{filter:{event:_,schema:b,table:j,filter:E}}=p,C=v&&v[m];if(C&&C.event===_&&Vr.isFilterValueEqual(C.schema,b)&&Vr.isFilterValueEqual(C.table,j)&&Vr.isFilterValueEqual(C.filter,E))g.push(Object.assign(Object.assign({},p),{id:C.id}));else{this.unsubscribe(),this.state=ue.errored,e==null||e(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(pt.SUBSCRIBED);return}}).receive("error",v=>{this.state=ue.errored,e==null||e(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ue.joined&&e===Fn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const c=await l.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ra(this,et.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ra(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Cv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=et;if(n&&[l,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,x;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=v.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(v=>v.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var y,w,x,g,m,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const _=v.id,b=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:x,commit_timestamp:g,type:m,errors:p}=y;h=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(y))}v.callback(h,n)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Vr.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(et.close,{},e)}_onError(e){this._on(et.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=xc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=xc(e.columns,e.old_record)),r}}const Pa=()=>{},Bs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$v=[1e3,2e3,5e3,1e4],Uv=1e4,Dv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bv{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bo,this.transport=null,this.heartbeatIntervalMs=Bs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pa,this.ref=0,this.reconnectTimer=null,this.vsn=_c,this.logger=Pa,this.conn=null,this.sendBuffer=[],this.serializer=new Tv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Mo.websocket}`,this.httpEndpoint=gf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Tt.connecting:return ar.Connecting;case Tt.open:return ar.Open;case Tt.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Vr(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Nv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Bs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Tt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Tt.open||this.conn.readyState===Tt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(et.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Dv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:jv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(et.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new pf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,u,c,d,f,h,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Bo,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Bs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Pa,this.vsn=(u=e==null?void 0:e.vsn)!==null&&u!==void 0?u:_c,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:y=>$v[y-1]||Uv,this.vsn){case Ev:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(y,w)=>w(JSON.stringify(y)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(y,w)=>w(JSON.parse(y));break;case ff:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ls=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Mv(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function zv(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Fv(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=Mv(t.baseUrl,n,s),u=await zv(t.auth),c=await e(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...u,...a},body:i?JSON.stringify(i):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const v=f?h:void 0,y=v==null?void 0:v.error;throw new ls((y==null?void 0:y.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:v})}return{status:c.status,headers:c.headers,data:h}}}}function Ms(t){return t.join("")}var Wv=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ms(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ms(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ms(t.namespace)}`}),!0}catch(e){if(e instanceof ls&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ls&&r.status===409)return;throw r}}};function br(t){return t.join("")}var Vv=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${br(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${br(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${br(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${br(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ls&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ls&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},qv=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Fv({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Wv(this.client,e),this.tableOps=new Vv(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Yi=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Xi(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var zs=class extends Yi{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vf=class extends Yi{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Hv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Kv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Fo=t=>{if(Array.isArray(t))return t.map(r=>Fo(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Fo(n)}),e},Gv=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function Jv(t,e){if(us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qv(t){var e=Jv(t,"string");return us(e)=="symbol"?e:e+""}function Yv(t,e,r){return(e=Qv(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kc(Object(r),!0).forEach(function(n){Yv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const jc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Xv=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new zs(jc(a),i,l,n))}).catch(()=>{if(n==="vectors"){const a=i+"";e(new zs(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";e(new zs(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";e(new zs(s.statusText||`HTTP ${i} error`,i,a,n))}}else e(new vf(jc(t),t,n))},Zv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?A(A({},s),r):(Kv(n)?(s.headers=A({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),A(A({},s),r))};async function jn(t,e,r,n,s,i,a){return new Promise((l,u)=>{t(r,Zv(e,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(a==="vectors"){const d=c.headers.get("content-type");if(!d||!d.includes("application/json"))return{}}return c.json()}).then(c=>l(c)).catch(c=>Xv(c,u,n,a))})}function ey(t="storage"){return{get:async(e,r,n,s)=>jn(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,i)=>jn(e,"POST",r,s,i,n,t),put:async(e,r,n,s,i)=>jn(e,"PUT",r,s,i,n,t),head:async(e,r,n,s)=>jn(e,"HEAD",r,A(A({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,i)=>jn(e,"DELETE",r,s,i,n,t)}}const ty=ey("storage"),{get:cs,post:J,put:Wo,head:ry,remove:Ql}=ty;var pn=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Hv(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}}},ny=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Xi(e))return{data:null,error:e};throw e}}};let yf;yf=Symbol.toStringTag;var sy=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[yf]="BlobDownloadBuilder",this.promise=null}asStream(){return new ny(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Xi(e))return{data:null,error:e};throw e}}};const iy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ec={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ay=class extends pn{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=A(A({},Ec),n);let l=A(A({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",s.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=A(A({},l),n.headers));const c=s._removeEmptyFolders(e),d=s._getFinalPath(c),f=await(t=="PUT"?Wo:J)(s.fetch,`${s.url}/object/${d}`,i,A({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:c,id:f.Id,fullPath:f.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);return l.searchParams.set("token",e),s.handleOperation(async()=>{let u;const c=A({upsert:Ec.upsert},n),d=A(A({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{path:i,fullPath:(await Wo(s.fetch,l.toString(),u,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=A({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await J(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new Yi("No token returned by API");return{signedUrl:a.toString(),path:t,token:l}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await J(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await J(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),i=await J(n.fetch,`${n.url}/object/sign/${s}`,A({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await J(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>A(A({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),a=()=>cs(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new sy(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Fo(await cs(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await ry(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xi(n)&&n instanceof vf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Ql(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=A(A(A({},iy),e),{},{prefix:t||""});return await J(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=A({},t);return await J(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const oy="2.93.1",ws={"X-Client-Info":`storage-js/${oy}`};var ly=class extends pn{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=A(A({},ws),e);super(i,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await cs(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await cs(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await J(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Wo(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await J(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ql(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},uy=class extends pn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=A(A({},ws),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await J(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await cs(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ql(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Gv(t))throw new Yi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new qv({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}},cy=class extends pn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=A(A({},ws),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await J(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await J(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await J(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await J(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},dy=class extends pn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=A(A({},ws),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await J(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await J(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await J(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await J(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await J(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},hy=class extends pn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=A(A({},ws),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await J(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await J(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await J(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await J(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},fy=class extends hy{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new py(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},py=class extends cy{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,A(A({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,A(A({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new my(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},my=class extends dy{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,A(A({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,A(A({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,A(A({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,A(A({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,A(A({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},gy=class extends ly{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new ay(this.url,this.headers,t,this.fetch)}get vectors(){return new fy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uy(this.url+"/iceberg",this.headers,this.fetch)}};const wf="2.93.1",Rr=30*1e3,Vo=3,Ia=Vo*Rr,vy="http://localhost:9999",yy="supabase.auth.token",wy={"X-Client-Info":`gotrue-js/${wf}`},qo="X-Supabase-Api-Version",_f={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_y=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xy=10*60*1e3;class ds extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function P(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Sy extends ds{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function by(t){return P(t)&&t.name==="AuthApiError"}class or extends ds{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class jt extends ds{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Le extends jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Oa(t){return P(t)&&t.name==="AuthSessionMissingError"}class kr extends jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fs extends jt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ws extends jt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ky(t){return P(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nc extends jt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jy extends jt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ho extends jt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Aa(t){return P(t)&&t.name==="AuthRetryableFetchError"}class Cc extends jt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ko extends jt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tc=` 	
\r=`.split(""),Ey=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tc.length;e+=1)t[Tc[e].charCodeAt(0)]=-2;for(let e=0;e<Ri.length;e+=1)t[Ri[e].charCodeAt(0)]=e;return t})();function Rc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ri[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ri[n]),e.queuedBits-=6}}function xf(t,e,r){const n=Ey[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Pc(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Ty(a,n,r)};for(let a=0;a<t.length;a+=1)xf(t.charCodeAt(a),s,i);return e.join("")}function Ny(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Cy(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ny(n,e)}}function Ty(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Xr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)xf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Ry(t){const e=[];return Cy(t,r=>e.push(r)),new Uint8Array(e)}function dr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Rc(s,r,n)),Rc(null,r,n),e.join("")}function Py(t){return Math.round(Date.now()/1e3)+t}function Iy(){return Symbol("auth-callback")}const ge=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},Sf=()=>{if(!ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function Oy(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const bf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ay=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},rr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},me=async(t,e)=>{await t.removeItem(e)};class Zi{constructor(){this.promise=new Zi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Zi.promiseConstructor=Promise;function Vs(t){const e=t.split(".");if(e.length!==3)throw new Ko("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!_y.test(e[n]))throw new Ko("JWT not in base64url format");return{header:JSON.parse(Pc(e[0])),payload:JSON.parse(Pc(e[1])),signature:Xr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ly(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $y(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function Uy(t){return("0"+t.toString(16)).substr(-2)}function Dy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Uy).join("")}async function By(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function My(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await By(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jr(t,e,r=!1){const n=Dy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Pr(t,`${e}-code-verifier`,s);const i=await My(n);return[i,n===i?"plain":"s256"]}const zy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fy(t){const e=t.headers.get(qo);if(!e||!e.match(zy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Wy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Vy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Er(t){if(!qy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function La(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hy(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Ic(t){return JSON.parse(JSON.stringify(t))}const ir=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ky=[502,503,504];async function Oc(t){var e;if(!Ay(t))throw new Ho(ir(t),0);if(Ky.includes(t.status))throw new Ho(ir(t),t.status);let r;try{r=await t.json()}catch(i){throw new or(ir(i),i)}let n;const s=Fy(t);if(s&&s.getTime()>=_f["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Cc(ir(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Le}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Cc(ir(r),t.status,r.weak_password.reasons);throw new Sy(ir(r),t.status||500,n)}const Gy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function O(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[qo]||(i[qo]=_f["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Jy(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Jy(t,e,r,n,s,i){const a=Gy(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new Ho(ir(u),0)}if(l.ok||await Oc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Oc(u)}}function Ye(t){var e;let r=null;Xy(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Py(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Ac(t){const e=Ye(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function It(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qy(t){return{data:t,error:null}}function Yy(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=Qi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function Lc(t){return t}function Xy(t){return t.access_token&&t.refresh_token&&t.expires_in}const $a=["global","local","others"];class Zy{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=bf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=$a[0]){if($a.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$a.join(", ")}`);try{return await O(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await O(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:It})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Qi(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Yy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(P(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await O(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:It})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Lc});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(P(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Er(e);try{return await O(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:It})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Er(e);try{return await O(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:It})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Er(e);try{return await O(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:It})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Er(e.userId);try{const{data:r,error:n}=await O(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Er(e.userId),Er(e.id);try{return{data:await O(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await O(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Lc});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(P(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await O(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await O(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await O(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}}function $c(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Nr={debug:!!(globalThis&&Sf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class e0 extends kf{}async function t0(t,e,r){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new e0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function r0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function n0(t){return parseInt(t,16)}function s0(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function i0(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:u,resources:c,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=jf(t.address),y=d?`${d}://${n}`:n,w=t.statement?`${t.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${v}

${w}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),u&&(g+=`
Request ID: ${u}`),c){let m=`
Resources:`;for(const p of c){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);m+=`
- ${p}`}g+=m}return`${x}
${g}`}class ae extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Pi extends ae{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function a0({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ae({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Ef(a)){if(i.rp.id!==a)return new ae({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function o0({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ae({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Ef(n)){if(r.rpId!==n)return new ae({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class l0{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const u0=new l0;function c0(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Qi(t,["challenge","user","excludeCredentials"]),i=Xr(e).buffer,a=Object.assign(Object.assign({},r),{id:Xr(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:Xr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function d0(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Qi(t,["challenge","allowCredentials"]),s=Xr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Xr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function h0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:dr(new Uint8Array(t.response.attestationObject)),clientDataJSON:dr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function f0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:dr(new Uint8Array(s.authenticatorData)),clientDataJSON:dr(new Uint8Array(s.clientDataJSON)),signature:dr(new Uint8Array(s.signature)),userHandle:s.userHandle?dr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ef(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Uc(){var t,e;return!!(ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function p0(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pi("Browser returned unexpected credential type",e)}:{data:null,error:new Pi("Empty credential response",e)}}catch(e){return{data:null,error:a0({error:e,options:t})}}}async function m0(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pi("Browser returned unexpected credential type",e)}:{data:null,error:new Pi("Empty credential response",e)}}catch(e){return{data:null,error:o0({error:e,options:t})}}}const g0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},v0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ii(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const l=n[i];e(l)?n[i]=Ii(l,a):n[i]=Ii(a)}else n[i]=a}return n}function y0(t,e){return Ii(g0,t,e||{})}function w0(t,e){return Ii(v0,t,e||{})}class _0{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const u=s??u0.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=y0(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await p0({publicKey:c,signal:u});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=w0(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await m0(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new or("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ds("rpId is required for WebAuthn authentication")};try{if(!Uc())return{data:null,error:new or("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new or("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ds("rpId is required for WebAuthn registration")};try{if(!Uc())return{data:null,error:new or("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:u,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new or("Unexpected error in register",a)}}}}r0();const x0={url:vy,storageKey:yy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Dc(t,e,r){return await r()}const Cr={};class hs{get jwks(){var e,r;return(r=(e=Cr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Cr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},x0),e);if(this.storageKey=i.storageKey,this.instanceID=(r=hs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,hs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ge()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Zy({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=bf(i.fetch),this.lock=i.lock||Dc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ge()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=t0:this.lock=Dc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Sf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$c(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=$c(this.memoryStorage)),ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wf}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ge()&&(r=Oy(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ge()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ky(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return P(r)?this._returnResult({error:r}):this._returnResult({error:new or("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ye}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await jr(this.storage,this.storageKey)),i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:y},xform:Ye})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ye})}else throw new Fs("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await me(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(await me(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ac})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ac})}else throw new Fs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new kr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,l,u,c,d,f,h;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:w,wallet:x,statement:g,options:m}=e;let p;if(ge())if(typeof x=="object")p=x;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")p=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=x}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),b=await p.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=jf(b[0]);let E=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const $=await p.request({method:"eth_chainId"});E=n0($)}const C={domain:_.host,address:j,statement:g,uri:_.href,version:"1",chainId:E,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=i0(C),y=await p.request({method:"personal_sign",params:[s0(v),j]})}try{const{data:w,error:x}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ye});if(x)throw x;if(!w||!w.session||!w.user){const g=new kr;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(P(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,a,l,u,c,d,f,h,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:x,wallet:g,statement:m,options:p}=e;let _;if(ge())if(typeof g=="object")_=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const b=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),m?{statement:m}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((f=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...p.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:x,error:g}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:dr(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ye});if(g)throw g;if(!x||!x.session||!x.user){const m=new kr;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(P(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await rr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new jy;const{data:i,error:a}=await O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ye});if(await me(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new kr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await me(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ye}),{data:u,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new kr;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await jr(this.storage,this.storageKey));const{error:f}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:d}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Fs("You must provide either an email or phone number.")}catch(l){if(await me(this.storage,`${this.storageKey}-code-verifier`),P(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ye});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await jr(this.storage,this.storageKey));const c=await O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:Qy});return!((i=c.data)===null||i===void 0)&&i.url&&ge()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(l){if(await me(this.storage,`${this.storageKey}-code-verifier`),P(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Le;const{error:s}=await O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(P(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await O(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await O(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Fs("You must provide either an email or phone number and a type")}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ia:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await rr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=La()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Hy(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:It}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Le}:await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:It})})}catch(r){if(P(r))return Oa(r)&&(await this._removeSession(),await me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Le;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await jr(this.storage,this.storageKey));const{data:c,error:d}=await O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:It});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await me(this.storage,`${this.storageKey}-code-verifier`),P(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Le;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Vs(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(P(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Le;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ge())throw new Ws("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ws(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ws("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nc("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!a||!c)throw new Ws("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;u&&(h=parseInt(u));const v=h-d;v*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(P(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Oa(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(by(l)&&(l.status===404||l.status===401||l.status===403)||Oa(l)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Iy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await jr(this.storage,this.storageKey,!0));try{return await O(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await me(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,u,c,d;const{data:f,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await O(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ge()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(P(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:u,access_token:c,nonce:d}=e,f=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ye}),{data:h,error:v}=f;return v?this._returnResult({data:{user:null,session:null},error:v}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new kr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:v}))}catch(s){if(await me(this.storage,`${this.storageKey}-code-verifier`),P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await O(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $y(async s=>(s>0&&await Ly(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ye})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Aa(i)&&Date.now()+a-n<Rr})}catch(n){if(this._debug(r,"error",n),P(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ge()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await rr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Pr(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:La()}else if(s&&!s.user&&!s.user){const a=await rr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await me(this.storage,this.storageKey+"-user"),await Pr(this.storage,this.storageKey,s)):s.user=La()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ia;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ia}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Aa(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Le;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Zi;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Le;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),P(i)){const a={data:null,error:i};return Aa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await me(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Ic(s);await Pr(this.storage,this.storageKey,i)}else{const s=Ic(r);await Pr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await me(this.storage,this.storageKey),await me(this.storage,this.storageKey+"-code-verifier"),await me(this.storage,this.storageKey+"-user"),this.userStorage&&await me(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rr}ms, refresh threshold is ${Vo} ticks`),s<=Vo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await jr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await O(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:c}=await O(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?h0(e.webauthn.credential_response):f0(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:c0(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d0(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,i;if(e)try{const{payload:v}=Vs(e);let y=null;v.aal&&(y=v.aal);let w=y;const{data:{user:x},error:g}=await this.getUser(e);if(g)return this._returnResult({data:null,error:g});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const p=v.amr||[];return{data:{currentLevel:y,nextLevel:w,currentAuthenticationMethods:p},error:null}}catch(v){if(P(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Vs(a.access_token);let c=null;u.aal&&(c=u.aal);let d=c;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=u.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await O(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Le})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Le});const a=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ge()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Le});const a=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ge()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await O(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Le})})}catch(e){if(P(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await O(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Le})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+xy>s)return n;const{data:i,error:a}=await O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=Vs(n);r!=null&&r.allowExpired||Wy(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const d=Vy(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Ry(`${l}.${u}`)))throw new Ko("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}}hs.nextInstanceID={};const S0=hs,b0="2.93.1";let Pn="";typeof Deno<"u"?Pn="deno":typeof document<"u"?Pn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pn="react-native":Pn="node";function k0(){const t=globalThis.process;if(t&&t.platform){const e=t.platform;if(e==="darwin")return"macOS";if(e==="win32")return"Windows";if(e==="linux")return"Linux";if(e==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if(e==="macOS")return"macOS";if(e==="Windows")return"Windows";if(e==="Linux")return"Linux";if(e==="Android")return"Android";if(e==="iOS")return"iOS"}return null}function j0(){const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function E0(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return"node"}return null}function N0(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return e.node}return null}function C0(){const t={"X-Client-Info":`supabase-js-${Pn}/${b0}`},e=k0();e&&(t["X-Supabase-Client-Platform"]=e);const r=j0();r&&(t["X-Supabase-Client-Platform-Version"]=r);const n=E0();n&&(t["X-Supabase-Client-Runtime"]=n);const s=N0();return s&&(t["X-Supabase-Client-Runtime-Version"]=s),t}const T0=C0(),R0={headers:T0},P0={schema:"public"},I0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O0={};function fs(t){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(t)}function A0(t,e){if(fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L0(t){var e=A0(t,"string");return fs(e)=="symbol"?e:e+""}function $0(t,e,r){return(e=L0(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bc(Object(r),!0).forEach(function(n){$0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const U0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),D0=()=>Headers,B0=(t,e,r)=>{const n=U0(r),s=D0();return async(i,a)=>{var l;const u=(l=await e())!==null&&l!==void 0?l:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,te(te({},a),{},{headers:c}))}};function M0(t){return t.endsWith("/")?t:t+"/"}function z0(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:u,auth:c,realtime:d,global:f}=e,h={db:te(te({},u),s),auth:te(te({},c),i),realtime:te(te({},d),a),storage:{},global:te(te(te({},f),l),{},{headers:te(te({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function F0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(M0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var W0=class extends S0{constructor(t){super(t)}},V0=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=F0(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:P0,realtime:O0,auth:te(te({},I0),{},{storageKey:a}),global:R0},u=z0(r??{},l);if(this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=u.auth)!==null&&c!==void 0?c:{},this.headers,u.global.fetch)}this.fetch=B0(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(te({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Sv(new URL("rest/v1",i).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new gy(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new vv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:u,throwOnError:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new W0({url:this.authUrl.href,headers:te(te({},h),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:u,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Bv(this.realtimeUrl.href,te(te({},t),{},{params:te(te({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const q0=(t,e,r)=>new V0(t,e,r);function H0(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}H0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const K0="https://sqxezltdeebvhgxsgxfj.supabase.co",G0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNxeGV6bHRkZWVidmhneHNneGZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwNTEzMjksImV4cCI6MjA4NDYyNzMyOX0.e0umAA6TsX2KPpz2evkizsYsqZWpbsWwqBus7RoUbFE",z=q0(K0,G0,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),V={CHAMPIONS:"champions",PANELS:"panels",INDICATORS:"indicators",REVIEWS:"reviews",ACCEPTED_REVIEWS:"accepted_reviews",VOTES:"votes",COMMENTS:"comments",ADMIN_ACTIONS:"admin_actions",INVITATIONS:"invitations",PANEL_REVIEW_SUBMISSIONS:"panel_review_submissions",PANEL_REVIEW_INDICATOR_REVIEWS:"panel_review_indicator_reviews"},Ae={PENDING:"pending",APPROVED:"approved",REJECTED:"rejected"};class J0{async getSession(){const{data:{session:e}}=await z.auth.getSession();return e}onAuthStateChange(e){const{data:{subscription:r}}=z.auth.onAuthStateChange(e);return()=>r.unsubscribe()}async signIn(e){const{data:r,error:n}=await z.auth.signInWithPassword({email:e.email,password:e.password});if(n)throw n;return{user:r.user,session:r.session}}async signUp(e){const{data:r,error:n}=await z.auth.signUp({email:e.email,password:e.password,options:{data:{full_name:e.fullName,company:e.company,job_title:e.jobTitle,linkedin_url:e.linkedinUrl,cla_accepted:e.claAccepted,nda_accepted:e.ndaAccepted},emailRedirectTo:`${window.location.origin}/dashboard`}});if(n)throw n;return{user:r.user,session:r.session}}async signOut(){const{error:e}=await z.auth.signOut();if(e)throw e}async signInWithLinkedIn(){const{error:e}=await z.auth.signInWithOAuth({provider:"linkedin_oidc",options:{redirectTo:`${window.location.origin}/linkedin-callback`}});if(e)throw e}async resetPassword(e){const{error:r}=await z.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return r?{success:!1,error:r.message}:{success:!0,message:"Password reset email sent"}}async updatePassword(e){const{error:r}=await z.auth.updateUser({password:e});return r?{success:!1,error:r.message}:{success:!0,message:"Password updated successfully"}}async getChampion(e){const{data:r,error:n}=await z.from(V.CHAMPIONS).select("*").eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}return r}async upsertChampion(e){const{data:r,error:n}=await z.from(V.CHAMPIONS).upsert(e,{onConflict:"id"}).select().single();if(n)throw n;return r}async updateChampion(e,r){const{data:n,error:s}=await z.from(V.CHAMPIONS).update({...r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return n}}const Q0=new J0,Ue={RLS_VIOLATION:"42501",FOREIGN_KEY_VIOLATION:"23503",UNIQUE_VIOLATION:"23505",NOT_NULL_VIOLATION:"23502",CHECK_VIOLATION:"23514",NOT_FOUND:"PGRST116",UNKNOWN_ERROR:"unknown_error"};function qs(t){var e;return Y0(t)?{code:t.code||Ue.UNKNOWN_ERROR,message:Z0(t),details:t.details||void 0,hint:t.hint||void 0,isAuthError:!1,isRLSError:t.code===Ue.RLS_VIOLATION,isNotFoundError:t.code===Ue.NOT_FOUND,isConflictError:t.code===Ue.UNIQUE_VIOLATION,original:t}:X0(t)?{code:((e=t.status)==null?void 0:e.toString())||Ue.UNKNOWN_ERROR,message:t.message||"Authentication error",details:void 0,hint:void 0,isAuthError:!0,isRLSError:!1,isNotFoundError:!1,isConflictError:!1,original:t}:t instanceof Error?{code:Ue.UNKNOWN_ERROR,message:t.message,details:void 0,hint:void 0,isAuthError:!1,isRLSError:!1,isNotFoundError:!1,isConflictError:!1,original:t}:{code:Ue.UNKNOWN_ERROR,message:"An unexpected error occurred",details:void 0,hint:void 0,isAuthError:!1,isRLSError:!1,isNotFoundError:!1,isConflictError:!1,original:null}}function Y0(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t}function X0(t){return typeof t=="object"&&t!==null&&"status"in t&&"message"in t&&t.constructor.name==="AuthError"}function Z0(t){switch(t.code){case Ue.RLS_VIOLATION:return"You do not have permission to perform this action.";case Ue.FOREIGN_KEY_VIOLATION:return"This operation references data that does not exist.";case Ue.UNIQUE_VIOLATION:return"This record already exists.";case Ue.NOT_NULL_VIOLATION:return"Required fields are missing.";case Ue.CHECK_VIOLATION:return"The provided values are not valid.";case Ue.NOT_FOUND:return"The requested record was not found.";default:return t.message||"An error occurred while processing your request."}}class ew{constructor(){ra(this,"repository",Q0)}async getSession(){return this.repository.getSession()}onAuthStateChange(e){return this.repository.onAuthStateChange(e)}async login(e){try{if(!e.email||!e.password)return{success:!1,error:"Email and password are required"};const{user:r,session:n}=await this.repository.signIn(e);return!r||!n?{success:!1,error:"Login failed"}:{success:!0,message:"Login successful"}}catch(r){return{success:!1,error:qs(r).message}}}async register(e){try{if(!e.email||!e.password)return{success:!1,error:"Email and password are required"};if(!e.fullName)return{success:!1,error:"Full name is required"};if(!e.claAccepted||!e.ndaAccepted)return{success:!1,error:"You must accept the CLA and NDA"};if(e.password.length<8)return{success:!1,error:"Password must be at least 8 characters"};const{user:r}=await this.repository.signUp(e);return r?{success:!0,message:"Registration successful! Please check your email to confirm your account."}:{success:!1,error:"Registration failed"}}catch(r){return{success:!1,error:qs(r).message}}}async logout(){try{return await this.repository.signOut(),{success:!0,message:"Logged out successfully"}}catch(e){return{success:!1,error:qs(e).message}}}async loginWithLinkedIn(){try{return await this.repository.signInWithLinkedIn(),{success:!0}}catch(e){return{success:!1,error:qs(e).message}}}async getChampion(e){try{return await this.repository.getChampion(e)}catch(r){return console.error("Error getting champion:",r),null}}async updateChampion(e,r){try{return await this.repository.updateChampion(e,r)}catch(n){return console.error("Error updating champion:",n),null}}async resetPassword(e){return e?this.repository.resetPassword(e):{success:!1,error:"Email is required"}}async updatePassword(e){return!e||e.length<8?{success:!1,error:"Password must be at least 8 characters"}:this.repository.updatePassword(e)}}const ht=new ew,Nf=S.createContext(void 0);function tw({children:t}){const[e,r]=S.useState(null),[n,s]=S.useState(null),[i,a]=S.useState(null),[l,u]=S.useState(!0),c=e?{...e,is_admin:(i==null?void 0:i.is_admin)??!1,name:(i==null?void 0:i.full_name)??void 0,full_name:(i==null?void 0:i.full_name)??void 0,company:(i==null?void 0:i.company)??void 0,sector:void 0,job_title:(i==null?void 0:i.job_title)??void 0,mobile_number:void 0,linkedin_url:(i==null?void 0:i.linkedin_url)??void 0,website:void 0,esg_contributions:void 0,contribution_score:(i==null?void 0:i.credits)??0,panels_completed:0,indicators_reviewed:(i==null?void 0:i.total_reviews)??0}:null;S.useEffect(()=>((async()=>{try{const E=await ht.getSession();if(s(E),r((E==null?void 0:E.user)??null),E!=null&&E.user){const C=await ht.getChampion(E.user.id);a(C)}}catch(E){console.error("Auth init error:",E)}finally{u(!1)}})(),ht.onAuthStateChange(async(E,C)=>{if(console.log("Auth state changed:",E),s(C),r((C==null?void 0:C.user)??null),C!=null&&C.user){const $=await ht.getChampion(C.user.id);a($)}else a(null)})),[]);const d=async b=>await ht.login(b),f=async b=>await ht.register(b),h=async()=>{const b=await ht.logout();return b.success&&(r(null),s(null),a(null)),b},v=async()=>ht.loginWithLinkedIn(),y=async()=>{if(e){const b=await ht.getChampion(e.id);a(b)}},_={user:c,session:n,champion:i,isLoading:l,isAuthenticated:!!n,login:d,register:f,logout:h,loginWithLinkedIn:v,refreshChampion:y,signInWithEmail:async(b,j)=>d({email:b,password:j}),signUp:f,signOut:h,signInWithLinkedIn:v,refreshUser:y};return o.jsx(Nf.Provider,{value:_,children:t})}function We(){const t=S.useContext(Nf);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function rw({children:t,requireAdmin:e=!1}){const{isAuthenticated:r,isLoading:n,champion:s}=We(),i=it();return n?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading..."})]}):r?e&&!(s!=null&&s.is_admin)?o.jsx(fc,{to:"/dashboard",replace:!0}):o.jsx(o.Fragment,{children:t}):o.jsx(fc,{to:"/login",state:{from:i},replace:!0})}const nw=[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"Rankings",href:"/ranking"},{label:"FAQ",href:"/faq"}],sw=[{label:"Home",href:"/"},{label:"Dashboard",href:"/champion-dashboard",requiresAuth:!0},{label:"Panels",href:"/champion-panels",requiresAuth:!0},{label:"Rankings",href:"/ranking"}],iw=[{label:"Admin Review",href:"/admin-review",adminOnly:!0}];function Cf(){const t=it(),{user:e,isLoading:r}=We(),n=i=>i==="/"?t.pathname==="/":t.pathname.startsWith(i),s=e?[...sw,...iw]:nw;return o.jsx("header",{className:"header",children:o.jsxs("div",{className:"header-inner",children:[o.jsxs(B,{to:"/",className:"logo",children:[o.jsx("img",{src:"/assets/images/logo1.png",alt:"STIF Logo",className:"logo-img"}),o.jsx("span",{className:"logo-text",children:"Sustainability Technology and Innovation Forum"})]}),o.jsx("nav",{children:o.jsx("ul",{className:"nav-menu",children:s.map(i=>i.adminOnly&&!(e!=null&&e.is_admin)?null:o.jsx("li",{children:o.jsx(B,{to:i.href,className:`nav-link ${n(i.href)?"active":""}`,children:i.label})},i.href))})}),o.jsx("div",{className:"nav-actions",children:r?o.jsx("div",{className:"loading-spinner",style:{width:20,height:20}}):e?o.jsx(aw,{user:e}):o.jsx(B,{to:"/champion-login",className:"btn btn-primary",children:"Sign In"})}),o.jsx(ow,{})]})})}function aw({user:t}){var r;const{signOut:e}=We();return o.jsxs("div",{className:"user-menu",children:[o.jsxs("button",{className:"user-menu-trigger",type:"button",children:[o.jsx("span",{className:"user-avatar",children:((r=t.name)==null?void 0:r.charAt(0).toUpperCase())||"U"}),o.jsx("span",{className:"user-name",children:t.name||"User"}),o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M6 9l6 6 6-6"})})]}),o.jsxs("div",{className:"user-menu-dropdown",children:[o.jsxs(B,{to:"/champion-profile",className:"user-menu-item",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Profile"]}),o.jsxs(B,{to:"/champion-dashboard",className:"user-menu-item",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),o.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Dashboard"]}),t.is_admin&&o.jsxs(B,{to:"/admin-review",className:"user-menu-item",children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"Admin Review"]}),o.jsx("hr",{className:"user-menu-divider"}),o.jsxs("button",{type:"button",className:"user-menu-item",onClick:e,children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o.jsx("polyline",{points:"16 17 21 12 16 7"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})]})]})}function ow(){const t=()=>{document.body.classList.toggle("mobile-menu-open")};return o.jsxs("button",{className:"mobile-menu-toggle","aria-label":"Toggle menu",onClick:t,children:[o.jsx("span",{}),o.jsx("span",{}),o.jsx("span",{})]})}const lw=[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"Dashboard",href:"/champion-dashboard",requiresAuth:!0},{label:"Panels",href:"/champion-panels",requiresAuth:!0},{label:"Rankings",href:"/ranking"},{label:"FAQ",href:"/faq"},{label:"Profile",href:"/champion-profile",requiresAuth:!0},{label:"Admin Review",href:"/admin-review",adminOnly:!0}];function uw(){const t=it(),{user:e,signOut:r}=We(),n=l=>l==="/"?t.pathname==="/":t.pathname.startsWith(l),s=()=>{document.body.classList.remove("mobile-menu-open")},i=()=>{s()},a=lw.filter(l=>!(l.requiresAuth&&!e||l.adminOnly&&!(e!=null&&e.is_admin)));return o.jsxs("div",{className:"mobile-menu",children:[o.jsx("button",{className:"mobile-menu-close",onClick:s,children:""}),o.jsxs("ul",{className:"mobile-nav-menu",children:[a.map(l=>o.jsx("li",{children:o.jsx(B,{to:l.href,className:`mobile-nav-link ${n(l.href)?"active":""}`,onClick:i,children:l.label})},l.href)),o.jsx("li",{className:"mobile-nav-divider"}),e?o.jsx("li",{children:o.jsx("button",{type:"button",className:"mobile-nav-link",onClick:()=>{r(),s()},children:"Sign Out"})}):o.jsx("li",{children:o.jsx(B,{to:"/champion-login",className:"mobile-nav-link",onClick:i,children:"Sign In"})})]})]})}const cw=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),o.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),dw=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),o.jsx("path",{d:"M2 17l10 5 10-5"}),o.jsx("path",{d:"M2 12l10 5 10-5"})]}),hw=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M8 6h13"}),o.jsx("path",{d:"M8 12h13"}),o.jsx("path",{d:"M8 18h13"}),o.jsx("path",{d:"M3 6h.01"}),o.jsx("path",{d:"M3 12h.01"}),o.jsx("path",{d:"M3 18h.01"})]}),fw=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),pw=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),o.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),o.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),mw=()=>o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),gw=[{label:"Dashboard",href:"/champion-dashboard",icon:o.jsx(cw,{})},{label:"ESG Panels",href:"/champion-panels",icon:o.jsx(dw,{})},{label:"Rankings",href:"/ranking",icon:o.jsx(hw,{})},{label:"Profile",href:"/champion-profile",icon:o.jsx(fw,{})},{label:"Admin Review",href:"/admin-review",icon:o.jsx(mw,{}),adminOnly:!0}];function vw({onInvitePeers:t}){const e=it(),{user:r}=We(),n=i=>e.pathname===i||e.pathname.startsWith(i+"/"),s=gw.filter(i=>!(i.adminOnly&&!(r!=null&&r.is_admin)));return o.jsx("aside",{className:"sidebar",children:o.jsx("nav",{children:o.jsxs("ul",{className:"sidebar-nav",children:[s.map(i=>o.jsx("li",{children:o.jsxs(B,{to:i.href,className:`sidebar-link ${n(i.href)?"active":""}`,children:[i.icon,i.label]})},i.href)),t&&o.jsx("li",{children:o.jsxs("button",{type:"button",className:"sidebar-link",onClick:t,children:[o.jsx(pw,{}),"Invite Peers"]})})]})})})}function yw(){const t=new Date().getFullYear();return o.jsx("footer",{className:"footer",children:o.jsxs("div",{className:"footer-content",children:[o.jsxs("div",{className:"footer-grid",children:[o.jsxs("div",{className:"footer-column",children:[o.jsxs(B,{to:"/",className:"footer-logo",children:[o.jsx("img",{src:"/assets/images/logo1.png",alt:"STIF Logo",className:"footer-logo-img"}),o.jsx("span",{children:"STIF"})]}),o.jsx("p",{className:"footer-description",children:"Sustainability Technology and Innovation Forum - Empowering ESG Champions to drive sustainability reporting excellence."})]}),o.jsxs("div",{className:"footer-column",children:[o.jsx("h4",{children:"Quick Links"}),o.jsxs("ul",{className:"footer-links",children:[o.jsx("li",{children:o.jsx(B,{to:"/",children:"Home"})}),o.jsx("li",{children:o.jsx(B,{to:"/about",children:"About"})}),o.jsx("li",{children:o.jsx(B,{to:"/ranking",children:"Rankings"})}),o.jsx("li",{children:o.jsx(B,{to:"/faq",children:"FAQ"})})]})]}),o.jsxs("div",{className:"footer-column",children:[o.jsx("h4",{children:"Resources"}),o.jsxs("ul",{className:"footer-links",children:[o.jsx("li",{children:o.jsx(B,{to:"/champion-panels",children:"ESG Panels"})}),o.jsx("li",{children:o.jsx(B,{to:"/champion-register",children:"Become a Champion"})}),o.jsx("li",{children:o.jsx("a",{href:"https://github.com/stif-org",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})})]})]}),o.jsxs("div",{className:"footer-column",children:[o.jsx("h4",{children:"Legal"}),o.jsxs("ul",{className:"footer-links",children:[o.jsx("li",{children:o.jsx(B,{to:"/privacy",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx(B,{to:"/terms",children:"Terms of Service"})}),o.jsx("li",{children:o.jsx(B,{to:"/cookie-policy",children:"Cookie Policy"})})]})]})]}),o.jsx("div",{className:"footer-bottom",children:o.jsxs("p",{children:[" ",t," Sustainability Technology and Innovation Forum. All rights reserved."]})})]})})}const ww={sm:{width:16,height:16},md:{width:24,height:24},lg:{width:48,height:48}};function _w({size:t="md",className:e=""}){const r=ww[t];return o.jsx("div",{className:`loading-spinner ${e}`,style:{width:r.width,height:r.height}})}function mn(){return o.jsx("div",{className:"flex-center",style:{height:"400px"},children:o.jsx(_w,{size:"lg"})})}const xw=S.createContext(null);function xr(){const t=S.useContext(xw);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}const Sw={sm:"modal-sm",md:"modal-md",lg:"modal-lg",xl:"modal-xl"};function Yl({isOpen:t,onClose:e,title:r,children:n,size:s="md",showClose:i=!0}){const a=S.useRef(null);S.useEffect(()=>{const u=c=>{c.key==="Escape"&&t&&e()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[t,e]),S.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]);const l=u=>{u.target===u.currentTarget&&e()};return t?o.jsx("div",{className:"modal-backdrop",onClick:l,children:o.jsxs("div",{ref:a,className:`modal ${Sw[s]}`,role:"dialog","aria-modal":"true","aria-labelledby":r?"modal-title":void 0,children:[(r||i)&&o.jsxs("div",{className:"modal-header",children:[r&&o.jsx("h2",{id:"modal-title",className:"modal-title",children:r}),i&&o.jsx("button",{type:"button",className:"modal-close",onClick:e,"aria-label":"Close modal",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),o.jsx("div",{className:"modal-body",children:n})]})}):null}function En({content:t,position:e="top",className:r=""}){return o.jsxs("span",{className:`info-wrapper ${r}`,children:[o.jsx("span",{className:"info-icon",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),o.jsx("span",{className:`info-popover info-popover-${e}`,children:t})]})}function Hs({title:t,value:e,icon:r,trend:n,variant:s="default",className:i=""}){return o.jsxs("div",{className:`stats-card stats-card-${s} ${i}`,children:[o.jsxs("div",{className:"stats-card-header",children:[o.jsx("span",{className:"stats-card-title",children:t}),r&&o.jsx("span",{className:"stats-card-icon",children:r})]}),o.jsx("div",{className:"stats-card-value",children:e}),n&&o.jsxs("div",{className:`stats-card-trend ${n.positive?"trend-positive":"trend-negative"}`,children:[n.positive?o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),o.jsx("polyline",{points:"5 12 12 5 19 12"})]}):o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("polyline",{points:"19 12 12 19 5 12"})]}),o.jsxs("span",{children:[n.value,"%"]}),o.jsx("span",{className:"trend-label",children:n.label})]})]})}function bw({children:t,columns:e=4,className:r=""}){return o.jsx("div",{className:`stats-grid stats-grid-${e} ${r}`,children:t})}function qt({children:t,className:e="",variant:r="default",padding:n="md"}){return o.jsx("div",{className:`card card-${r} card-padding-${n} ${e}`,children:t})}function Zr({title:t,subtitle:e,action:r,className:n=""}){return o.jsxs("div",{className:`card-header ${n}`,children:[o.jsxs("div",{className:"card-header-content",children:[o.jsx("h3",{className:"card-title",children:t}),e&&o.jsx("p",{className:"card-subtitle",children:e})]}),r&&o.jsx("div",{className:"card-header-action",children:r})]})}function Ht({children:t,className:e="",style:r}){return o.jsx("div",{className:`card-body ${e}`,style:r,children:t})}const kw=S.forwardRef(({variant:t="primary",size:e="md",loading:r=!1,icon:n,iconPosition:s="left",disabled:i,children:a,className:l="",...u},c)=>o.jsx("button",{ref:c,className:`btn btn-${t} btn-${e} ${l}`,disabled:i||r,...u,children:r?o.jsx("span",{className:"loading-spinner",style:{width:16,height:16}}):o.jsxs(o.Fragment,{children:[n&&s==="left"&&o.jsx("span",{className:"btn-icon",children:n}),a,n&&s==="right"&&o.jsx("span",{className:"btn-icon",children:n})]})}));kw.displayName="Button";function Mc({showSidebar:t=!1}){return o.jsxs("div",{className:"app-layout",children:[o.jsx(Cf,{}),o.jsx(uw,{}),t?o.jsxs("div",{className:"dashboard-layout",children:[o.jsx(vw,{}),o.jsx("main",{className:"main-content",children:o.jsx(Ao,{})})]}):o.jsx("main",{children:o.jsx(Ao,{})}),o.jsx(yw,{})]})}function jw(){return o.jsxs("div",{className:"auth-layout",children:[o.jsx(Cf,{}),o.jsx("main",{className:"auth-main",children:o.jsx(Ao,{})})]})}function Ew(){const{user:t}=We();return o.jsxs("main",{children:[o.jsx("section",{className:"hero-section",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"hero-content",children:[o.jsxs("h1",{className:"hero-title animate-fade-in",children:["Shape the Future of ",o.jsx("span",{className:"text-gradient",children:"ESG Reporting"})]}),o.jsx("p",{className:"hero-subtitle animate-fade-in",style:{animationDelay:"0.1s"},children:"Join a community of sustainability champions helping SMEs navigate the complex world of Environmental, Social, and Governance reporting."}),o.jsx("div",{className:"hero-actions animate-fade-in",style:{animationDelay:"0.2s"},children:t?o.jsx(B,{to:"/champion-dashboard",className:"btn btn-primary btn-lg",children:"Go to Dashboard"}):o.jsxs(o.Fragment,{children:[o.jsx(B,{to:"/champion-register",className:"btn btn-primary btn-lg",children:"Become a Champion"}),o.jsx(B,{to:"/champion-login",className:"btn btn-secondary btn-lg",children:"Sign In"})]})})]})})}),o.jsx("section",{className:"features-section",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{children:"Why Become a STIF Champion?"}),o.jsx("p",{className:"text-secondary",style:{maxWidth:"600px",margin:"var(--space-4) auto"},children:"Your expertise shapes the ESG baseline for small and medium enterprises worldwide."})]}),o.jsxs("div",{className:"features-grid",children:[o.jsxs("div",{className:"feature-card",children:[o.jsx("div",{className:"feature-icon",style:{background:"var(--environmental-bg)",color:"var(--environmental)"},children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 22c4-4 8-7.5 8-12a8 8 0 1 0-16 0c0 4.5 4 8 8 12z"})})}),o.jsx("h3",{className:"feature-title",children:"Drive Impact"}),o.jsx("p",{className:"feature-description",children:"Your reviews directly influence which sustainability indicators become part of the global ESG baseline for SMEs."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("div",{className:"feature-icon",style:{background:"var(--social-bg)",color:"var(--social)"},children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),o.jsx("h3",{className:"feature-title",children:"Join Experts"}),o.jsx("p",{className:"feature-description",children:"Connect with a global community of sustainability professionals, ESG analysts, and industry leaders."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("div",{className:"feature-icon",style:{background:"var(--governance-bg)",color:"var(--governance)"},children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),o.jsx("h3",{className:"feature-title",children:"Earn Recognition"}),o.jsx("p",{className:"feature-description",children:"Accumulate STIF credits, climb the leaderboard, and earn badges that showcase your ESG expertise."})]})]})]})}),o.jsx("section",{className:"how-it-works-section",style:{background:"var(--gray-50)",padding:"var(--space-20) 0"},children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{children:"How It Works"}),o.jsx("p",{className:"text-secondary",style:{maxWidth:"600px",margin:"var(--space-4) auto"},children:"Contributing to ESG standards has never been easier."})]}),o.jsxs("div",{className:"steps-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--space-8)"},children:[o.jsxs("div",{className:"step-item text-center",children:[o.jsx("div",{className:"step-number",children:"1"}),o.jsx("h4",{children:"Register"}),o.jsx("p",{className:"text-secondary",children:"Create your champion profile with your ESG expertise and interests."})]}),o.jsxs("div",{className:"step-item text-center",children:[o.jsx("div",{className:"step-number",children:"2"}),o.jsx("h4",{children:"Browse Panels"}),o.jsx("p",{className:"text-secondary",children:"Explore Environmental, Social, and Governance indicator panels."})]}),o.jsxs("div",{className:"step-item text-center",children:[o.jsx("div",{className:"step-number",children:"3"}),o.jsx("h4",{children:"Submit Reviews"}),o.jsx("p",{className:"text-secondary",children:"Share your expert opinion on indicator relevance for SMEs."})]}),o.jsxs("div",{className:"step-item text-center",children:[o.jsx("div",{className:"step-number",children:"4"}),o.jsx("h4",{children:"Earn Credits"}),o.jsx("p",{className:"text-secondary",children:"Get recognized for your contributions and climb the leaderboard."})]})]})]})}),o.jsx("section",{className:"cta-section",style:{background:"linear-gradient(135deg, var(--primary-600), var(--primary-800))",color:"white",padding:"var(--space-20) 0",textAlign:"center"},children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{style:{color:"white",marginBottom:"var(--space-4)"},children:"Ready to Make a Difference?"}),o.jsx("p",{style:{color:"var(--primary-100)",maxWidth:"600px",margin:"0 auto var(--space-6)"},children:"Join thousands of sustainability champions shaping the future of ESG reporting."}),t?o.jsx(B,{to:"/champion-panels",className:"btn btn-accent btn-lg",children:"Start Reviewing"}):o.jsx(B,{to:"/champion-register",className:"btn btn-accent btn-lg",children:"Get Started Free"})]})})]})}function Nw(){var g;const t=fn(),e=it(),{signInWithEmail:r,signInWithLinkedIn:n,isLoading:s}=We(),{showToast:i}=xr(),[a,l]=S.useState(""),[u,c]=S.useState(""),[d,f]=S.useState(!1),[h,v]=S.useState(!1),y=((g=e.state)==null?void 0:g.from)||"/champion-dashboard",w=async m=>{if(m.preventDefault(),!a||!u){i("Please enter your email and password","error");return}v(!0);try{await r(a,u),i("Welcome back!","success"),t(y,{replace:!0})}catch(p){const _=p instanceof Error?p.message:"Login failed";i(_,"error")}finally{v(!1)}},x=async()=>{try{await n()}catch(m){const p=m instanceof Error?m.message:"LinkedIn login failed";i(p,"error")}};return o.jsx("main",{className:"auth-page",children:o.jsxs("div",{className:"auth-card animate-fade-in",children:[o.jsxs("div",{className:"auth-header",children:[o.jsx("h1",{className:"auth-title",children:"Welcome Back"}),o.jsx("p",{className:"auth-subtitle",children:"Sign in to continue your journey"})]}),o.jsxs("button",{type:"button",className:"social-btn",onClick:x,disabled:s,children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"#0A66C2",width:"20",height:"20",children:o.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Continue with LinkedIn"]}),o.jsx("div",{className:"divider",children:"or"}),o.jsxs("form",{onSubmit:w,children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"email",children:"Email"}),o.jsx("input",{type:"email",id:"email",className:"form-input",placeholder:"you@company.com",value:a,onChange:m=>l(m.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("div",{className:"flex-between mb-2",children:[o.jsx("label",{className:"form-label",htmlFor:"password",style:{marginBottom:0},children:"Password"}),o.jsx(B,{to:"/forgot-password",style:{fontSize:"var(--text-sm)",color:"var(--primary-600)"},children:"Forgot password?"})]}),o.jsxs("div",{className:"input-wrapper",children:[o.jsx("input",{type:d?"text":"password",id:"password",className:"form-input",placeholder:"Enter your password",value:u,onChange:m=>c(m.target.value),required:!0,autoComplete:"current-password"}),o.jsx("button",{type:"button",className:"password-toggle","aria-label":"Toggle password visibility",onClick:()=>f(!d),children:d?o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),o.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),o.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:h||s,children:h?o.jsx("span",{className:"loading-spinner",style:{width:20,height:20}}):"Sign In"})]}),o.jsx("div",{className:"auth-footer",children:o.jsxs("p",{children:["Don't have an account?"," ",o.jsx(B,{to:"/champion-register",style:{color:"var(--primary-600)",fontWeight:600},children:"Create one"})]})})]})})}const Cw={first_name:"",last_name:"",company:"",job_title:"",email:"",password:"",confirm_password:"",mobile_number:"",office_phone:"",linkedin_url:"",website:"",competence_level:"",esg_contributions:"",primary_sector:"",agree_terms:!1,agree_privacy:!1},Tw=[{value:"agriculture",label:"Agriculture, Forestry & Fishing"},{value:"automotive",label:"Automotive & Transport"},{value:"aviation",label:"Aviation & Aerospace"},{value:"banking",label:"Banking & Financial Services"},{value:"construction",label:"Construction & Real Estate"},{value:"creative",label:"Creative Industries"},{value:"defense",label:"Defense & Security"},{value:"education",label:"Education & Training"},{value:"energy",label:"Energy & Utilities"},{value:"engineering",label:"Engineering & Manufacturing"},{value:"environmental",label:"Environmental Services"},{value:"food",label:"Food & Beverage"},{value:"government",label:"Government & Public Services"},{value:"healthcare",label:"Healthcare & Pharmaceuticals"},{value:"it",label:"Information Technology"},{value:"legal",label:"Legal & Professional Services"},{value:"logistics",label:"Logistics & Supply Chain"},{value:"marine",label:"Marine & Maritime"},{value:"mining",label:"Mining & Quarrying"},{value:"nonprofit",label:"Non-Profit & NGOs"},{value:"retail",label:"Retail & E-commerce"},{value:"telecom",label:"Telecommunications"},{value:"tourism",label:"Tourism, Leisure & Hospitality"},{value:"transport",label:"Transport & Infrastructure"},{value:"venture",label:"Venture Capital & Private Equity"}],Rw=[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"},{value:"expert",label:"Expert"}];function Pw(){const{signUp:t,signInWithLinkedIn:e,isLoading:r}=We(),{showToast:n}=xr(),[s,i]=S.useState(Cw),[a,l]=S.useState(!1),[u,c]=S.useState(!1),d=v=>{const{name:y,value:w,type:x}=v.target,g=v.target.checked;i(m=>({...m,[y]:x==="checkbox"?g:w}))},f=async v=>{if(v.preventDefault(),s.password!==s.confirm_password){n("Passwords do not match","error");return}if(s.password.length<8){n("Password must be at least 8 characters","error");return}if(!s.agree_terms||!s.agree_privacy){n("Please accept the terms and privacy policy","error");return}l(!0);try{await t({email:s.email,password:s.password,fullName:`${s.first_name} ${s.last_name}`,company:s.company,jobTitle:s.job_title,claAccepted:s.agree_terms,ndaAccepted:s.agree_privacy}),c(!0)}catch(y){const w=y instanceof Error?y.message:"Registration failed";n(w,"error")}finally{l(!1)}},h=async()=>{try{await e()}catch(v){const y=v instanceof Error?v.message:"LinkedIn registration failed";n(y,"error")}};return u?o.jsx("main",{className:"auth-page",children:o.jsx("div",{className:"auth-card animate-fade-in",children:o.jsxs("div",{className:"success-message",children:[o.jsx("div",{className:"success-icon",children:o.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),o.jsx("h2",{children:"Registration Successful!"}),o.jsx("p",{style:{color:"var(--gray-500)",marginBottom:"var(--space-6)"},children:"Please check your email to verify your account."}),o.jsx(B,{to:"/champion-login",className:"btn btn-primary",children:"Go to Login"})]})})}):o.jsx("main",{className:"auth-page",children:o.jsxs("div",{className:"auth-card animate-fade-in",style:{maxWidth:"720px"},children:[o.jsxs("div",{className:"auth-header",children:[o.jsx("h1",{className:"auth-title",children:"Become a Champion"}),o.jsx("p",{className:"auth-subtitle",children:"Join our community of sustainability experts"})]}),o.jsxs("button",{type:"button",className:"social-btn",onClick:h,disabled:r,children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"#0A66C2",width:"20",height:"20",children:o.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Continue with LinkedIn"]}),o.jsx("div",{className:"divider",children:"or register with email"}),o.jsxs("form",{onSubmit:f,children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h2",{className:"section-title",children:"1.1 Basic Information"}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"first_name",children:["First Name ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",id:"first_name",name:"first_name",className:"form-input",placeholder:"John",value:s.first_name,onChange:d,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"last_name",children:["Last Name ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",id:"last_name",name:"last_name",className:"form-input",placeholder:"Doe",value:s.last_name,onChange:d,required:!0})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"company",children:["Company/Organization ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",id:"company",name:"company",className:"form-input",placeholder:"Your Company Ltd",value:s.company,onChange:d,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"job_title",children:["Role/Designation ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",id:"job_title",name:"job_title",className:"form-input",placeholder:"Sustainability Manager",value:s.job_title,onChange:d,required:!0})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h2",{className:"section-title",children:"1.2 Contact Details"}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"email",children:["Business Email ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",placeholder:"champion@example.com",value:s.email,onChange:d,required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"password",children:["Password ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"password",id:"password",name:"password",className:"form-input",placeholder:"Min. 8 characters",value:s.password,onChange:d,required:!0,minLength:8})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"confirm_password",children:["Confirm Password ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"password",id:"confirm_password",name:"confirm_password",className:"form-input",placeholder:"Repeat password",value:s.confirm_password,onChange:d,required:!0})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"mobile_number",children:["Mobile Number ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"tel",id:"mobile_number",name:"mobile_number",className:"form-input",placeholder:"+44 123 456 7890",value:s.mobile_number,onChange:d,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"linkedin_url",children:"LinkedIn Profile"}),o.jsx("input",{type:"url",id:"linkedin_url",name:"linkedin_url",className:"form-input",placeholder:"https://linkedin.com/in/yourprofile",value:s.linkedin_url,onChange:d})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h2",{className:"section-title",children:"1.3 ESG Expertise"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"competence_level",children:"Competence in ESG Reporting"}),o.jsxs("select",{id:"competence_level",name:"competence_level",className:"form-input",value:s.competence_level,onChange:d,children:[o.jsx("option",{value:"",disabled:!0,children:"Select your competence level"}),Rw.map(v=>o.jsx("option",{value:v.value,children:v.label},v.value))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"primary_sector",children:["Primary Sector ",o.jsx("span",{className:"required",children:"*"})]}),o.jsxs("select",{id:"primary_sector",name:"primary_sector",className:"form-input",value:s.primary_sector,onChange:d,required:!0,children:[o.jsx("option",{value:"",disabled:!0,children:"Select primary sector"}),Tw.map(v=>o.jsx("option",{value:v.value,children:v.label},v.value))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"esg_contributions",children:"Key ESG Contributions"}),o.jsx("textarea",{id:"esg_contributions",name:"esg_contributions",className:"form-input",rows:4,placeholder:"Highlight impactful projects, reporting experience, or certifications.",value:s.esg_contributions,onChange:d})]})]}),o.jsx("div",{className:"form-section",style:{borderBottom:"none"},children:o.jsxs("div",{className:"agreement-box",children:[o.jsx("h4",{children:"Terms & Privacy"}),o.jsx("p",{children:"By registering, you agree to our terms of service and privacy policy."}),o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",name:"agree_terms",checked:s.agree_terms,onChange:d,required:!0}),o.jsxs("span",{children:["I agree to the ",o.jsx(B,{to:"/terms",children:"Terms of Service"})]})]}),o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",name:"agree_privacy",checked:s.agree_privacy,onChange:d,required:!0}),o.jsxs("span",{children:["I agree to the ",o.jsx(B,{to:"/privacy",children:"Privacy Policy"})]})]})]})}),o.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:a||r,children:a?o.jsx("span",{className:"loading-spinner",style:{width:20,height:20}}):"Create Account"})]}),o.jsx("div",{className:"auth-footer",children:o.jsxs("p",{children:["Already have an account?"," ",o.jsx(B,{to:"/champion-login",style:{color:"var(--primary-600)",fontWeight:600},children:"Sign in"})]})})]})})}class Iw{async createSubmission(e){const{data:r,error:n}=await z.from(V.PANEL_REVIEW_SUBMISSIONS).insert(e).select("*, panels(name, category)").single();if(n)throw n;return r}async getSubmission(e){const{data:r,error:n}=await z.from(V.PANEL_REVIEW_SUBMISSIONS).select("*, panels(name, category)").eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}return r}async getSubmissionWithReviews(e){const r=await this.getSubmission(e);if(!r)return null;const n=await this.getIndicatorReviews(e);return{...r,indicatorReviews:n}}async getUserSubmissions(e){const{data:r,error:n}=await z.from(V.PANEL_REVIEW_SUBMISSIONS).select("*, panels(name, category)").eq("champion_id",e).order("created_at",{ascending:!1});if(n)throw n;return r||[]}async getAdminSubmissions(e){let r=z.from(V.PANEL_REVIEW_SUBMISSIONS).select("*, panels(name, category)").order("created_at",{ascending:!1});e&&(r=r.eq("status",e));const{data:n,error:s}=await r;if(s)throw s;return n||[]}async updateSubmissionStatus(e,r){const{data:n,error:s}=await z.from(V.PANEL_REVIEW_SUBMISSIONS).update({status:r,updated_at:new Date().toISOString()}).eq("id",e).select("*, panels(name, category)").single();if(s)throw s;return n}async createIndicatorReviews(e){const r=[];for(const n of e)try{const{data:s,error:i}=await z.from(V.PANEL_REVIEW_INDICATOR_REVIEWS).insert(n).select("*, indicators(id, name, description)").single();if(i){console.error("Error inserting indicator review:",i);continue}r.push(s)}catch(s){console.error("Exception inserting review:",s)}return r}async getIndicatorReviews(e){const{data:r,error:n}=await z.from(V.PANEL_REVIEW_INDICATOR_REVIEWS).select("*, indicators(id, name, description)").eq("submission_id",e);if(n)throw n;return r||[]}async updateIndicatorReviewStatus(e,r,n){const{data:s,error:i}=await z.from(V.PANEL_REVIEW_INDICATOR_REVIEWS).update({status:r,feedback:n,reviewed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e).select("*, indicators(id, name, description)").single();if(i)throw i;return s}}const qr=new Iw;class Ow{constructor(e){this.repository=e}async createSubmission(e,r){const n={champion_id:e,panel_id:r,status:Ae.PENDING};return this.repository.createSubmission(n)}async getSubmission(e){return this.repository.getSubmission(e)}async getSubmissionWithReviews(e){return this.repository.getSubmissionWithReviews(e)}async getUserSubmissions(e){return this.repository.getUserSubmissions(e)}async getAdminSubmissions(e){return this.repository.getAdminSubmissions(e)}async submitIndicatorReviews(e,r,n){const s=n.map(i=>({submission_id:e,champion_id:r,indicator_id:i.indicatorId,sme_size_band:i.sme_size_band||null,primary_sector:i.primary_sector||null,primary_framework:i.primary_framework||null,esg_class:i.esg_class||null,sdgs:i.sdgs||null,relevance:i.reviewStatus||i.relevance||null,regulatory_necessity:i.regulatory_necessity||null,operational_feasibility:i.operational_feasibility||null,cost_to_collect:i.estimatedCostToCollect||i.cost_to_collect||null,misreporting_risk:i.misreporting_risk||null,suggested_tier:i.suggested_tier||null,rationale:i.rationale||null,optional_tags:i.optional_tags||null,notes:i.notes||null}));return this.repository.createIndicatorReviews(s)}async updateSubmissionStatus(e,r){return this.repository.updateSubmissionStatus(e,r)}async updateIndicatorReviewStatus(e,r,n){return this.repository.updateIndicatorReviewStatus(e,r,n)}calculateReviewStats(e){const r=e.length,n=e.filter(a=>a.status===Ae.APPROVED).length,s=e.filter(a=>a.status===Ae.REJECTED).length,i=e.filter(a=>a.status===Ae.PENDING).length;return{total:r,totalReviews:r,pendingReviews:i,approvedReviews:n,rejectedReviews:s,creditsEarned:n*10}}isSubmissionComplete(e){return e.every(r=>r.status===Ae.APPROVED||r.status===Ae.REJECTED)}determineOverallStatus(e){if(e.length===0)return Ae.PENDING;const r=e.every(i=>i.status===Ae.APPROVED),n=e.some(i=>i.status===Ae.REJECTED),s=this.isSubmissionComplete(e);return r?Ae.APPROVED:n&&s?Ae.REJECTED:s?Ae.APPROVED:Ae.PENDING}}const zc=new Ow(qr);class Go{constructor(e){this.repository=e}async getLeaderboard(e){return this.repository.getLeaderboard(e)}async getTopChampions(e=10){return this.repository.getLeaderboard({limit:e})}async getChampionRanking(e){return this.repository.getChampionRanking(e)}async getRankingStats(){return this.repository.getRankingStats()}async awardIndicatorReviewPoints(e){await this.repository.updateChampionScore(e,10)}async awardPanelCompletionPoints(e){await this.repository.updateChampionScore(e,50)}async getAvailableSectors(){return this.repository.getAvailableSectors()}getRankTier(e){return e>=1e3?{tier:"Diamond",color:"#b9f2ff"}:e>=500?{tier:"Platinum",color:"#e5e4e2"}:e>=250?{tier:"Gold",color:"#ffd700"}:e>=100?{tier:"Silver",color:"#c0c0c0"}:e>=50?{tier:"Bronze",color:"#cd7f32"}:{tier:"Newcomer",color:"#4a5568"}}formatRank(e){const r=["th","st","nd","rd"],n=e%100;return e+(r[(n-20)%10]||r[n]||r[0])}}class Aw{async getLeaderboard(e){let r=z.from(V.CHAMPIONS).select("id, name, company, sector, contribution_score, indicators_reviewed, panels_completed, updated_at").gt("contribution_score",0).order("contribution_score",{ascending:!1});e!=null&&e.sector&&(r=r.eq("sector",e.sector)),e!=null&&e.limit&&(r=r.limit(e.limit));const{data:n,error:s}=await r;if(s)throw s;return(n||[]).map((i,a)=>({id:i.id,championId:i.id,championName:i.name||"Anonymous",company:i.company||"",sector:i.sector||"",score:i.contribution_score||0,rank:a+1,indicatorsReviewed:i.indicators_reviewed||0,panelsCompleted:i.panels_completed||0,lastActivity:i.updated_at||""}))}async getChampionRanking(e){const{data:r,error:n}=await z.from(V.CHAMPIONS).select("id, name, company, sector, contribution_score, indicators_reviewed, panels_completed, updated_at").eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}const{count:s,error:i}=await z.from(V.CHAMPIONS).select("*",{count:"exact",head:!0}).gt("contribution_score",r.contribution_score||0);if(i)throw i;return{id:r.id,championId:r.id,championName:r.name||"Anonymous",company:r.company||"",sector:r.sector||"",score:r.contribution_score||0,rank:(s||0)+1,indicatorsReviewed:r.indicators_reviewed||0,panelsCompleted:r.panels_completed||0,lastActivity:r.updated_at||""}}async getRankingStats(){const{data:e,error:r}=await z.from(V.CHAMPIONS).select("contribution_score, indicators_reviewed, panels_completed").gt("contribution_score",0);if(r)throw r;const n=e||[],s=n.length,i=n.reduce((u,c)=>u+(c.indicators_reviewed||0),0),a=n.reduce((u,c)=>u+(c.panels_completed||0),0),l=n.reduce((u,c)=>u+(c.contribution_score||0),0);return{totalChampions:s,totalIndicatorsReviewed:i,totalPanelsCompleted:a,averageScore:s>0?l/s:0}}async updateChampionScore(e,r){const{data:n,error:s}=await z.from(V.CHAMPIONS).select("contribution_score").eq("id",e).single();if(s)throw s;const i=(n.contribution_score||0)+r,{error:a}=await z.from(V.CHAMPIONS).update({contribution_score:i,updated_at:new Date().toISOString()}).eq("id",e);if(a)throw a}async getAvailableSectors(){const{data:e,error:r}=await z.from(V.CHAMPIONS).select("sector").not("sector","is",null).gt("contribution_score",0);if(r)throw r;return[...new Set((e||[]).map(s=>s.sector).filter(Boolean))].sort()}}const Jo=new Aw;function Lw(){var h;const{user:t}=We(),[e,r]=S.useState(!0),[n,s]=S.useState({credits:0,approvedReviews:0,pendingReviews:0,rank:null,stifScore:0}),[i,a]=S.useState([]),[l,u]=S.useState(!1),[c,d]=S.useState(null);S.useEffect(()=>{t!=null&&t.id&&f()},[t==null?void 0:t.id]);const f=async()=>{var v;if(t!=null&&t.id){r(!0);try{const y=await qr.getUserSubmissions(t.id),w=y.filter(b=>b.status==="approved").length,x=y.filter(b=>b.status==="pending").length,m=await new Go(Jo).getChampionRanking(t.id);s({credits:t.contribution_score||0,approvedReviews:w,pendingReviews:x,rank:(m==null?void 0:m.rank)||null,stifScore:t.contribution_score||0});const p=y.slice(0,5).map(b=>{var j;return{id:b.id,panelName:((j=b.panels)==null?void 0:j.name)||"Unknown Panel",status:b.status||"pending",submittedAt:b.submitted_at||b.created_at||""}});a(p);const _=y.find(b=>b.status==="partial");_&&d({id:_.panel_id||"",name:((v=_.panels)==null?void 0:v.name)||"Panel"})}catch(y){console.error("Failed to load dashboard data:",y)}finally{r(!1)}}};return e?o.jsx(mn,{}):o.jsxs("div",{className:"dashboard-container",children:[o.jsxs("div",{className:"flex-between mb-8",children:[o.jsxs("div",{children:[o.jsxs("h1",{children:["Welcome back, ",((h=t==null?void 0:t.name)==null?void 0:h.split(" ")[0])||"Champion","!"]}),o.jsx("p",{className:"text-secondary",children:"Here's your sustainability impact overview"})]}),o.jsxs(B,{to:"/champion-panels",className:"btn btn-primary",children:[o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Submit Review"]})]}),c&&o.jsx("div",{className:"widget mb-6",style:{background:"linear-gradient(135deg, var(--primary-600), var(--primary-700))",color:"white"},children:o.jsx("div",{className:"widget-body",children:o.jsxs("div",{className:"flex-between",children:[o.jsxs("div",{children:[o.jsx("h3",{style:{color:"white",marginBottom:"var(--space-2)"},children:"Continue Where You Left Off"}),o.jsxs("p",{style:{color:"var(--primary-100)",marginBottom:0},children:["You have an in-progress review for ",c.name]})]}),o.jsx(B,{to:`/champion-indicators?panel=${c.id}`,className:"btn btn-accent",children:"Continue"})]})})}),o.jsxs(bw,{columns:4,className:"mb-8",children:[o.jsx(Hs,{title:"STIF Credits",value:n.credits,icon:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),o.jsx(Hs,{title:"Approved Reviews",value:n.approvedReviews,variant:"primary",icon:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),o.jsx(Hs,{title:"Pending Reviews",value:n.pendingReviews,icon:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),o.jsx(Hs,{title:"Your Rank",value:n.rank?`#${n.rank}`:"#--",icon:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M18 20V10"}),o.jsx("path",{d:"M12 20V4"}),o.jsx("path",{d:"M6 20v-6"})]})})]}),o.jsxs("div",{className:"dashboard-grid",children:[o.jsxs(qt,{children:[o.jsx(Zr,{title:"Recent Reviews",action:o.jsx(B,{to:"/champion-panels",className:"btn btn-ghost btn-sm",children:"View All"})}),o.jsx(Ht,{children:i.length===0?o.jsx("p",{className:"text-secondary text-center p-6",children:"No reviews yet. Start by exploring ESG panels!"}):o.jsx("div",{className:"review-list",children:i.map(v=>o.jsxs("div",{className:"review-item",children:[o.jsxs("div",{className:"review-item-content",children:[o.jsx("span",{className:"review-item-title",children:v.panelName}),o.jsx("span",{className:"review-item-date",children:new Date(v.submittedAt).toLocaleDateString()})]}),o.jsx("span",{className:`badge badge-${v.status}`,children:v.status})]},v.id))})})]}),o.jsxs("div",{children:[o.jsxs(qt,{children:[o.jsx(Zr,{title:"Why Your Reviews Matter"}),o.jsx(Ht,{children:o.jsxs("div",{className:"info-list",children:[o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-check",children:""}),o.jsx("span",{children:"Your insights train the STIF Intelligence Engine to deliver smarter, fairer, expert-driven recommendations."})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-check",children:""}),o.jsx("span",{children:"You shape the ESG baseline for SMEs, directing small businesses toward what truly drives impact."})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-check",children:""}),o.jsx("span",{children:"Your reviews strengthen trust in sustainability reporting and accelerate industry-wide progress."})]})]})})]}),o.jsxs(qt,{className:"mt-6",children:[o.jsx(Zr,{title:"STIF Score"}),o.jsxs(Ht,{className:"text-center",children:[o.jsx("div",{className:"stat-value text-gradient",style:{fontSize:"var(--text-5xl)"},children:n.stifScore}),o.jsx("p",{className:"text-secondary mt-2",children:"Your sustainability impact score"}),o.jsx("button",{className:"btn btn-secondary btn-sm mt-4",onClick:()=>u(!0),children:"How it's calculated"})]})]})]})]}),o.jsx(Yl,{isOpen:l,onClose:()=>u(!1),title:"How Your STIF Score is Calculated",children:o.jsxs("div",{className:"score-calculation",children:[o.jsx("p",{className:"mb-4",children:"Your STIF Score reflects your contribution to sustainability reporting excellence:"}),o.jsxs("ul",{className:"score-list",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"+10 points"})," for each indicator review submitted"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"+50 points"})," for completing a full panel review"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"+25 bonus points"})," when your review is approved"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"+100 points"})," for inviting a peer who becomes active"]})]}),o.jsx("p",{className:"mt-4 text-secondary",children:"Your score helps determine your ranking on the leaderboard and unlocks special recognition badges."})]})})]})}class $w{async getPanels(){const{data:e,error:r}=await z.from(V.PANELS).select("*").eq("is_active",!0).order("order_index",{ascending:!0});if(r)throw r;return e||[]}async getPanel(e){const{data:r,error:n}=await z.from(V.PANELS).select("*").eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}return r}async getIndicatorsByPanel(e){const{data:r,error:n}=await z.from(V.INDICATORS).select("*").eq("panel_id",e).eq("is_active",!0).order("order_index",{ascending:!0});if(n)throw n;return r||[]}async getIndicator(e){const{data:r,error:n}=await z.from(V.INDICATORS).select("*").eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}return r}async getAllIndicators(){const{data:e,error:r}=await z.from(V.INDICATORS).select("*").eq("is_active",!0).order("order_index",{ascending:!0});if(r)throw r;return e||[]}}const Uw=new $w;class Dw{constructor(){ra(this,"repository",Uw)}async getPanels(){return this.repository.getPanels()}async getPanel(e){return this.repository.getPanel(e)}async getPanelWithIndicators(e){const r=await this.repository.getPanel(e);if(!r)return null;const n=await this.repository.getIndicatorsByPanel(e);return{...r,indicators:n,indicatorCount:n.length,completedCount:0}}async getIndicatorsByPanel(e){return this.repository.getIndicatorsByPanel(e)}async getIndicator(e){return this.repository.getIndicator(e)}async getAllIndicators(){return this.repository.getAllIndicators()}async getPanelsGroupedByESG(){const e=await this.getPanels();return{environmental:e.filter(r=>{var n,s;return((n=r.category)==null?void 0:n.toLowerCase())==="environmental"||((s=r.esg_classification)==null?void 0:s.toLowerCase())==="environment"}),social:e.filter(r=>{var n,s;return((n=r.category)==null?void 0:n.toLowerCase())==="social"||((s=r.esg_classification)==null?void 0:s.toLowerCase())==="social"}),governance:e.filter(r=>{var n,s;return((n=r.category)==null?void 0:n.toLowerCase())==="governance"||((s=r.esg_classification)==null?void 0:s.toLowerCase())==="governance"})}}}const Tf=new Dw;class Bw{async getIndicatorsByPanel(e){const{data:r,error:n}=await z.from(V.INDICATORS).select("*").eq("panel_id",e).order("name",{ascending:!0});if(n)throw n;return r||[]}async getIndicator(e){const{data:r,error:n}=await z.from(V.INDICATORS).select("*, panels(id, name, category)").eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}return{...r,panel:r.panels}}async getIndicators(e){let r=z.from(V.INDICATORS).select("*, panels(id, name, category)").order("name",{ascending:!0});e!=null&&e.panelId&&(r=r.eq("panel_id",e.panelId)),e!=null&&e.search&&(r=r.or(`name.ilike.%${e.search}%,description.ilike.%${e.search}%`));const{data:n,error:s}=await r;if(s)throw s;return(n||[]).map(i=>({...i,panel:i.panels}))}async searchIndicators(e){const{data:r,error:n}=await z.from(V.INDICATORS).select("*, panels(id, name, category)").or(`name.ilike.%${e}%,description.ilike.%${e}%`).order("name",{ascending:!0}).limit(50);if(n)throw n;return(r||[]).map(s=>({...s,panel:s.panels}))}async getIndicatorCountByPanel(e){const{count:r,error:n}=await z.from(V.INDICATORS).select("*",{count:"exact",head:!0}).eq("panel_id",e);if(n)throw n;return r||0}}const Mw=new Bw;class zw{constructor(e){this.repository=e}async getIndicatorsByPanel(e){return this.repository.getIndicatorsByPanel(e)}async getIndicator(e){return this.repository.getIndicator(e)}async getIndicators(e){return this.repository.getIndicators(e)}async searchIndicators(e){return!e||e.trim().length<2?[]:this.repository.searchIndicators(e.trim())}async getIndicatorCount(e){return this.repository.getIndicatorCountByPanel(e)}groupByFirstLetter(e){var n;const r=new Map;for(const s of e){const i=(((n=s.name)==null?void 0:n.charAt(0))||"#").toUpperCase();r.has(i)||r.set(i,[]),r.get(i).push(s)}return r}}const Rf=new zw(Mw);function Fw(){const t=fn(),{showToast:e}=xr(),[r,n]=S.useState(!0),[s,i]=S.useState([]),[a,l]=S.useState("all"),[u,c]=S.useState(null),[d,f]=S.useState([]),[h,v]=S.useState(new Set),[y,w]=S.useState(""),[x,g]=S.useState(!1);S.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const k=await Tf.getPanels();i(k)}catch(k){console.error("Failed to load panels:",k),e("Failed to load panels","error")}finally{n(!1)}},p=async k=>{c(k),v(new Set),w(""),g(!0);try{const I=await Rf.getIndicatorsByPanel(k.id);f(I)}catch(I){console.error("Failed to load indicators:",I),e("Failed to load indicators","error")}finally{g(!1)}},_=()=>{c(null),f([]),v(new Set)},b=k=>{v(I=>{const ee=new Set(I);return ee.has(k)?ee.delete(k):ee.add(k),ee})},j=()=>{const k=$.map(I=>I.id);h.size===k.length?v(new Set):v(new Set(k))},E=()=>{if(h.size===0){e("Please select at least one indicator","warning");return}const k=new URLSearchParams({panel:u.id,indicators:Array.from(h).join(",")});t(`/champion-indicators?${k.toString()}`)},C=s.filter(k=>{var I;return a==="all"?!0:((I=k.category)==null?void 0:I.toLowerCase())===a}),$=d.filter(k=>{var I,ee;return((I=k.name)==null?void 0:I.toLowerCase().includes(y.toLowerCase()))||((ee=k.description)==null?void 0:ee.toLowerCase().includes(y.toLowerCase()))}),L={environmental:C.filter(k=>{var I;return((I=k.category)==null?void 0:I.toLowerCase())==="environmental"}),social:C.filter(k=>{var I;return((I=k.category)==null?void 0:I.toLowerCase())==="social"}),governance:C.filter(k=>{var I;return((I=k.category)==null?void 0:I.toLowerCase())==="governance"})};return r?o.jsx(mn,{}):o.jsxs("main",{style:{paddingTop:"100px",minHeight:"100vh",background:"var(--gray-50)"},children:[o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{children:"ESG Panels"}),o.jsx("p",{className:"text-secondary",style:{maxWidth:"600px",margin:"var(--space-4) auto"},children:"Explore our comprehensive ESG indicator panels. Select a panel to view and validate indicators."})]}),o.jsx("div",{className:"flex-center mb-8",children:o.jsx("div",{className:"btn-group",style:{display:"flex",gap:"var(--space-2)",background:"white",padding:"var(--space-2)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow)"},children:["all","environmental","social","governance"].map(k=>o.jsx("button",{className:`btn btn-ghost filter-btn ${a===k?"active":""}`,onClick:()=>l(k),children:k==="all"?"All Panels":k.charAt(0).toUpperCase()+k.slice(1)},k))})}),(a==="all"||a==="environmental")&&L.environmental.length>0&&o.jsx(Ua,{title:"Environmental",color:"var(--environmental)",panels:L.environmental,onSelectPanel:p}),(a==="all"||a==="social")&&L.social.length>0&&o.jsx(Ua,{title:"Social",color:"var(--social)",panels:L.social,onSelectPanel:p}),(a==="all"||a==="governance")&&L.governance.length>0&&o.jsx(Ua,{title:"Governance",color:"var(--governance)",panels:L.governance,onSelectPanel:p})]}),o.jsxs(Yl,{isOpen:!!u,onClose:_,title:`Review: ${(u==null?void 0:u.name)||"Panel"}`,size:"lg",children:[o.jsxs("div",{style:{marginBottom:"var(--space-4)"},children:[o.jsx("p",{className:"text-secondary",style:{marginBottom:"var(--space-3)",fontSize:"var(--text-sm)"},children:"Select the indicators you want to review for this panel:"}),o.jsx("input",{type:"text",className:"form-input",placeholder:"Search indicators...",value:y,onChange:k=>w(k.target.value),style:{marginBottom:"var(--space-3)"}}),o.jsxs("div",{className:"flex-between",children:[o.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:j,children:h.size===$.length?"Deselect All":"Select All"}),o.jsxs("span",{className:"text-secondary",style:{fontSize:"var(--text-sm)"},children:[h.size," of ",$.length," selected"]})]})]}),o.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid var(--gray-200)",borderRadius:"var(--radius-lg)",padding:"var(--space-2)"},children:x?o.jsx("div",{className:"text-center p-6",children:o.jsx("div",{className:"loading-spinner"})}):$.length===0?o.jsx("p",{className:"text-center text-secondary p-6",children:"No indicators found"}):$.map(k=>o.jsxs("label",{className:"indicator-checkbox-item",style:{display:"flex",alignItems:"flex-start",gap:"var(--space-3)",padding:"var(--space-3)",borderRadius:"var(--radius)",cursor:"pointer",background:h.has(k.id)?"var(--primary-50)":"transparent"},children:[o.jsx("input",{type:"checkbox",checked:h.has(k.id),onChange:()=>b(k.id),style:{marginTop:"2px"}}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:500},children:k.name}),k.description&&o.jsx("div",{className:"text-secondary",style:{fontSize:"var(--text-sm)",marginTop:"var(--space-1)"},children:k.description})]})]},k.id))}),o.jsxs("div",{style:{borderTop:"1px solid var(--gray-100)",paddingTop:"var(--space-4)",marginTop:"var(--space-4)",display:"flex",justifyContent:"flex-end",gap:"var(--space-3)"},children:[o.jsx("button",{type:"button",className:"btn btn-ghost",onClick:_,children:"Cancel"}),o.jsxs("button",{type:"button",className:"btn btn-primary",onClick:E,disabled:h.size===0,children:["Proceed to Review (",h.size,")"]})]})]})]})}function Ua({title:t,color:e,panels:r,onSelectPanel:n}){const s={Environmental:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 22c4-4 8-7.5 8-12a8 8 0 1 0-16 0c0 4.5 4 8 8 12z"})}),Social:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),Governance:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M3 21h18"}),o.jsx("path",{d:"M3 10h18"}),o.jsx("path",{d:"M5 6l7-3 7 3"})]})};return o.jsxs("section",{className:"mb-8",children:[o.jsxs("h2",{className:"mb-4",style:{color:e},children:[o.jsx("span",{style:{display:"inline-block",verticalAlign:"middle",marginRight:"8px"},children:s[t]}),t]}),o.jsx("div",{className:"features-grid",children:r.map(i=>o.jsxs("div",{className:"feature-card",onClick:()=>n(i),style:{cursor:"pointer"},children:[o.jsx("div",{className:"feature-icon",style:{background:`${e}20`,color:e},children:s[t]}),o.jsx("h3",{className:"feature-title",children:i.name}),o.jsx("p",{className:"feature-description",children:i.description}),o.jsx("div",{className:"feature-footer",children:o.jsxs("span",{className:"badge",children:[i.indicator_count||0," indicators"]})})]},i.id))})]})}const Ww=["low","medium","high","very_high"],Vw=["investors","customers","employees","regulators","communities","suppliers"],qw=["annual","biannual","quarterly","monthly","continuous"],Hw=["minimal","low","moderate","high","very_high"],Fc={reviewStatus:null,impactLevel:"",stakeholderGroup:"",frequencyOfDisclosure:"",estimatedCostToCollect:"",notes:""};function Kw(){var L;const t=fn(),[e]=fv(),{user:r}=We(),{showToast:n}=xr(),s=e.get("panel"),i=((L=e.get("indicators"))==null?void 0:L.split(","))||[],[a,l]=S.useState(!0),[u,c]=S.useState(null),[d,f]=S.useState([]),[h,v]=S.useState(null),[y,w]=S.useState(new Map),[x,g]=S.useState(!1),[m,p]=S.useState(!1);S.useEffect(()=>{s&&i.length>0?_():t("/champion-panels")},[s]);const _=async()=>{l(!0);try{const k=await Tf.getPanel(s);c(k);const ee=(await Rf.getIndicatorsByPanel(s)).filter(le=>i.includes(le.id));f(ee),ee.length>0&&v(ee[0]);const at=new Map;ee.forEach(le=>{at.set(le.id,{...Fc})}),w(at)}catch(k){console.error("Failed to load data:",k),n("Failed to load indicators","error")}finally{l(!1)}},b=(k,I,ee)=>{w(at=>{const le=new Map(at),gn=le.get(k)||{...Fc};return le.set(k,{...gn,[I]:ee}),le})},j=k=>{const I=y.get(k);return I?I.reviewStatus!==null:!1},E=async()=>{if(!(r!=null&&r.id)||!(u!=null&&u.id))return;const k=d.filter(I=>!j(I.id)).length;if(k>0){n(`Please complete ${k} remaining indicator(s)`,"warning");return}g(!0);try{const I=await zc.createSubmission(r.id,u.id),ee=d.map(at=>{const le=y.get(at.id);return{indicatorId:at.id,reviewStatus:le.reviewStatus||"not_important",impactLevel:le.impactLevel||void 0,stakeholderGroup:le.stakeholderGroup||void 0,frequencyOfDisclosure:le.frequencyOfDisclosure||void 0,estimatedCostToCollect:le.estimatedCostToCollect||void 0,notes:le.notes||"",sme_size_band:"small",primary_sector:"general",primary_framework:"STIF",esg_class:(u==null?void 0:u.esg_classification)||"Environment",sdgs:[],relevance:le.reviewStatus||"not_important",regulatory_necessity:"optional",operational_feasibility:"medium",cost_to_collect:le.estimatedCostToCollect||"medium",misreporting_risk:"low",suggested_tier:"recommended",rationale:le.notes||"",optional_tags:[]}});await zc.submitIndicatorReviews(I.id,r.id,ee),p(!0),n("Panel review submitted successfully!","success")}catch(I){console.error("Failed to submit review:",I),n("Failed to submit review. Please try again.","error")}finally{g(!1)}};if(a)return o.jsx(mn,{});if(m)return o.jsx("main",{className:"dashboard-layout",children:o.jsx("div",{className:"main-content",children:o.jsxs("div",{className:"panel-review-success",children:[o.jsx("div",{className:"success-icon",children:o.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),o.jsx("h1",{className:"success-title",children:"Panel Review Submitted!"}),o.jsxs("p",{className:"success-text",children:["Thank you for your expert review of ",u==null?void 0:u.name,". Your insights help shape the future of ESG reporting for SMEs worldwide."]}),o.jsx("div",{className:"success-badge",children:o.jsxs("span",{className:"badge badge-primary",style:{fontSize:"var(--text-base)",padding:"var(--space-3) var(--space-6)"},children:["+",d.length*10," STIF Credits Earned"]})}),o.jsxs("div",{style:{display:"flex",gap:"var(--space-3)",justifyContent:"center"},children:[o.jsx(B,{to:"/champion-dashboard",className:"btn btn-primary",children:"Go to Dashboard"}),o.jsx(B,{to:"/champion-panels",className:"btn btn-secondary",children:"Review Another Panel"})]})]})})});const C=h?y.get(h.id):null,$=d.filter(k=>j(k.id)).length;return o.jsxs("main",{className:"dashboard-layout",children:[o.jsxs("aside",{className:"sidebar",style:{width:"320px",background:"white"},children:[o.jsxs("div",{style:{padding:"var(--space-4)",borderBottom:"1px solid var(--gray-100)"},children:[o.jsx("h3",{style:{margin:0},children:u==null?void 0:u.name}),o.jsxs("p",{className:"text-secondary",style:{fontSize:"var(--text-sm)",marginTop:"var(--space-1)"},children:[$," of ",d.length," completed"]}),o.jsx("div",{className:"progress-bar",style:{height:"4px",background:"var(--gray-200)",borderRadius:"2px",marginTop:"var(--space-2)",overflow:"hidden"},children:o.jsx("div",{style:{width:`${$/d.length*100}%`,height:"100%",background:"var(--primary-500)",transition:"width 0.3s ease"}})})]}),o.jsx("nav",{style:{padding:"var(--space-2)",maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:d.map((k,I)=>o.jsx("div",{className:`indicator-card ${(h==null?void 0:h.id)===k.id?"active":""} ${j(k.id)?"reviewed":""}`,onClick:()=>v(k),style:{marginBottom:"var(--space-2)",padding:"var(--space-3)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[o.jsx("span",{className:`indicator-number ${j(k.id)?"completed":""}`,children:j(k.id)?"":I+1}),o.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:500},children:k.name})]})},k.id))})]}),o.jsx("div",{className:"main-content",style:{background:"var(--gray-50)"},children:h&&C?o.jsxs("div",{className:"indicator-detail",style:{maxWidth:"800px",margin:"0 auto"},children:[o.jsxs("div",{className:"indicator-header",children:[o.jsx("h2",{children:h.name}),h.description&&o.jsx("p",{className:"text-secondary",style:{marginTop:"var(--space-2)"},children:h.description})]}),o.jsxs("div",{className:"indicator-body",children:[o.jsxs("div",{className:"section-block",children:[o.jsxs("h3",{className:"section-title",children:[o.jsx("span",{children:""})," Assessment"]}),o.jsxs("div",{className:"field-row",children:[o.jsxs("div",{className:"field-header",children:[o.jsxs("label",{className:"form-label",children:["Is this indicator important for SME sustainability reporting?",o.jsx("span",{className:"required",children:"*"})]}),o.jsx(En,{content:"Select whether you believe this indicator should be part of the baseline ESG reporting requirements for small and medium enterprises."})]}),o.jsxs("div",{className:"radio-group",children:[o.jsxs("label",{className:"radio-option",children:[o.jsx("input",{type:"radio",name:`review-status-${h.id}`,checked:C.reviewStatus==="important",onChange:()=>b(h.id,"reviewStatus","important")}),"Yes, Important"]}),o.jsxs("label",{className:"radio-option",children:[o.jsx("input",{type:"radio",name:`review-status-${h.id}`,checked:C.reviewStatus==="not_important",onChange:()=>b(h.id,"reviewStatus","not_important")}),"Not Important for SMEs"]})]})]}),o.jsxs("div",{className:"field-row",children:[o.jsxs("div",{className:"field-header",children:[o.jsx("label",{className:"form-label",children:"Impact Level"}),o.jsx(En,{content:"How significant is the potential sustainability impact of this indicator?"})]}),o.jsxs("select",{className:"form-input",value:C.impactLevel,onChange:k=>b(h.id,"impactLevel",k.target.value),children:[o.jsx("option",{value:"",disabled:!0,children:"Select impact level..."}),Ww.map(k=>o.jsx("option",{value:k,children:k.replace("_"," ").replace(/\b\w/g,I=>I.toUpperCase())},k))]})]}),o.jsxs("div",{className:"field-row",children:[o.jsxs("div",{className:"field-header",children:[o.jsx("label",{className:"form-label",children:"Primary Stakeholder Group"}),o.jsx(En,{content:"Which stakeholder group would benefit most from disclosure of this indicator?"})]}),o.jsxs("select",{className:"form-input",value:C.stakeholderGroup,onChange:k=>b(h.id,"stakeholderGroup",k.target.value),children:[o.jsx("option",{value:"",disabled:!0,children:"Select stakeholder group..."}),Vw.map(k=>o.jsx("option",{value:k,children:k.charAt(0).toUpperCase()+k.slice(1)},k))]})]}),o.jsxs("div",{className:"field-row",children:[o.jsxs("div",{className:"field-header",children:[o.jsx("label",{className:"form-label",children:"Recommended Disclosure Frequency"}),o.jsx(En,{content:"How often should SMEs report on this indicator?"})]}),o.jsxs("select",{className:"form-input",value:C.frequencyOfDisclosure,onChange:k=>b(h.id,"frequencyOfDisclosure",k.target.value),children:[o.jsx("option",{value:"",disabled:!0,children:"Select frequency..."}),qw.map(k=>o.jsx("option",{value:k,children:k.charAt(0).toUpperCase()+k.slice(1)},k))]})]}),o.jsxs("div",{className:"field-row",children:[o.jsxs("div",{className:"field-header",children:[o.jsx("label",{className:"form-label",children:"Estimated Cost to Collect"}),o.jsx(En,{content:"What is the estimated effort/cost for an SME to collect and report this data?"})]}),o.jsxs("select",{className:"form-input",value:C.estimatedCostToCollect,onChange:k=>b(h.id,"estimatedCostToCollect",k.target.value),children:[o.jsx("option",{value:"",disabled:!0,children:"Select cost estimate..."}),Hw.map(k=>o.jsx("option",{value:k,children:k.replace("_"," ").replace(/\b\w/g,I=>I.toUpperCase())},k))]})]}),o.jsxs("div",{className:"field-row",children:[o.jsx("label",{className:"form-label",children:"Additional Notes"}),o.jsx("textarea",{className:"form-input",rows:3,placeholder:"Any additional comments or suggestions...",value:C.notes,onChange:k=>b(h.id,"notes",k.target.value)})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"var(--space-6)"},children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{const k=d.findIndex(I=>I.id===h.id);k>0&&v(d[k-1])},disabled:d.findIndex(k=>k.id===h.id)===0,children:" Previous"}),d.findIndex(k=>k.id===h.id)<d.length-1?o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{const k=d.findIndex(I=>I.id===h.id);v(d[k+1])},children:"Next Indicator "}):o.jsx("button",{type:"button",className:"btn btn-primary",onClick:E,disabled:x||$<d.length,children:x?o.jsx("span",{className:"loading-spinner",style:{width:20,height:20}}):`Submit All Reviews (${$}/${d.length})`})]})]})]}):o.jsx("div",{className:"text-center p-8",children:o.jsx("p",{className:"text-secondary",children:"Select an indicator to begin reviewing"})})})]})}function Gw(){const{user:t}=We(),{showToast:e}=xr(),[r,n]=S.useState(!0),[s,i]=S.useState([]),[a,l]=S.useState(null),[u,c]=S.useState("all");S.useEffect(()=>{d()},[u]),S.useEffect(()=>{t!=null&&t.id&&f()},[t==null?void 0:t.id]);const d=async()=>{n(!0);try{const w=await new Go(Jo).getLeaderboard();i(w)}catch(y){console.error("Failed to load leaderboard:",y),e("Failed to load leaderboard","error")}finally{n(!1)}},f=async()=>{if(t!=null&&t.id)try{const w=await new Go(Jo).getChampionRanking(t.id);l(w)}catch(y){console.error("Failed to load user ranking:",y)}};if(r)return o.jsx(mn,{});const h=s.slice(0,3),v=s.slice(3);return o.jsx("main",{style:{paddingTop:"100px",minHeight:"100vh",background:"var(--gray-50)"},children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{children:"Champion Leaderboard"}),o.jsx("p",{className:"text-secondary",style:{maxWidth:"600px",margin:"var(--space-4) auto"},children:"See who's leading the sustainability movement. Earn credits by submitting quality reviews."})]}),a&&o.jsx("div",{className:"widget mb-6",style:{background:"linear-gradient(135deg, var(--primary-600), var(--primary-700))"},children:o.jsx("div",{className:"widget-body",style:{color:"white"},children:o.jsxs("div",{className:"flex-between",children:[o.jsxs("div",{children:[o.jsx("h3",{style:{color:"white",marginBottom:"var(--space-2)"},children:"Your Position"}),o.jsx("p",{style:{color:"var(--primary-100)",margin:0},children:"Keep contributing to climb the leaderboard!"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"stat-value",style:{fontSize:"var(--text-5xl)",color:"white"},children:["#",a.rank]}),o.jsxs("div",{style:{color:"var(--primary-200)"},children:[a.score," credits"]})]})]})})}),o.jsxs("div",{className:"flex-between mb-6",children:[o.jsx("div",{className:"flex",style:{gap:"var(--space-2)",background:"white",padding:"var(--space-2)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow)"},children:["all","30days","7days"].map(y=>o.jsx("button",{className:`btn ${u===y?"btn-primary":"btn-ghost"}`,onClick:()=>c(y),children:y==="all"?"All Time":y==="30days"?"30 Days":"This Week"},y))}),o.jsxs("div",{className:"text-secondary",children:[s.length," Champions"]})]}),h.length>=3&&o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex-center",style:{gap:"var(--space-4)",flexWrap:"wrap"},children:[o.jsx(Da,{entry:h[1],position:2}),o.jsx(Da,{entry:h[0],position:1}),o.jsx(Da,{entry:h[2],position:3})]})}),o.jsx(qt,{children:o.jsx(Ht,{style:{padding:0},children:o.jsxs("ul",{className:"leaderboard",children:[v.map(y=>o.jsxs("li",{className:`leaderboard-item ${(t==null?void 0:t.id)===y.championId?"highlight":""}`,children:[o.jsx("div",{className:"leaderboard-rank",children:y.rank}),o.jsx("div",{className:"leaderboard-avatar",children:y.championName.charAt(0).toUpperCase()}),o.jsxs("div",{className:"leaderboard-info",children:[o.jsx("div",{className:"leaderboard-name",children:y.championName}),o.jsx("div",{className:"leaderboard-company",children:y.company||"Independent"})]}),o.jsx("div",{className:"leaderboard-stats",children:o.jsxs("div",{className:"leaderboard-reviews",children:[y.indicatorsReviewed," reviews"]})}),o.jsxs("div",{className:"leaderboard-credits",children:[o.jsx("span",{className:"credits-value",children:y.score}),o.jsx("span",{className:"credits-label",children:"credits"})]})]},y.id)),s.length===0&&o.jsx("li",{className:"text-center p-8 text-secondary",children:"No champions on the leaderboard yet. Be the first!"})]})})})]})})}function Da({entry:t,position:e}){const n={1:{order:0,width:"240px",transform:"scale(1.1)",zIndex:1,boxShadow:"var(--shadow-xl)",padding:"var(--space-8)",rankSize:{width:64,height:64,fontSize:"var(--text-2xl)"},avatarSize:"avatar-xl",creditsSize:"var(--text-3xl)",rankBg:"linear-gradient(135deg, #ffd700, #ffb700)",rankColor:"#7c5600"},2:{order:1,width:"200px",transform:"none",zIndex:0,boxShadow:"var(--shadow)",padding:"var(--space-6)",rankSize:{width:48,height:48,fontSize:"var(--text-xl)"},avatarSize:"avatar-lg",creditsSize:"var(--text-2xl)",rankBg:"linear-gradient(135deg, #c0c0c0, #a0a0a0)",rankColor:"#505050"},3:{order:2,width:"200px",transform:"none",zIndex:0,boxShadow:"var(--shadow)",padding:"var(--space-6)",rankSize:{width:48,height:48,fontSize:"var(--text-xl)"},avatarSize:"avatar-lg",creditsSize:"var(--text-2xl)",rankBg:"linear-gradient(135deg, #cd7f32, #b87333)",rankColor:"#4a2800"}}[e];return o.jsxs("div",{className:"card text-center",style:{order:n.order,width:n.width,transform:n.transform,zIndex:n.zIndex,boxShadow:n.boxShadow,padding:n.padding},children:[o.jsx("div",{className:"leaderboard-rank",style:{width:n.rankSize.width,height:n.rankSize.height,fontSize:n.rankSize.fontSize,margin:"0 auto var(--space-4)",background:n.rankBg,color:n.rankColor,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},children:e===1?o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})}):e}),o.jsx("div",{className:`avatar ${n.avatarSize}`,style:{margin:"0 auto var(--space-3)"},children:t.championName.charAt(0).toUpperCase()}),o.jsx("h4",{style:{marginBottom:"var(--space-1)"},children:t.championName}),o.jsx("p",{className:"text-secondary",style:{fontSize:"var(--text-sm)"},children:t.company||"Independent"}),o.jsx("div",{className:"stat-value text-gradient",style:{fontSize:n.creditsSize,marginTop:"var(--space-3)"},children:t.score}),o.jsx("div",{className:"text-muted",style:{fontSize:"var(--text-xs)"},children:"credits"})]})}const Jw=[{value:"agriculture",label:"Agriculture, Forestry & Fishing"},{value:"automotive",label:"Automotive & Transport"},{value:"banking",label:"Banking & Financial Services"},{value:"construction",label:"Construction & Real Estate"},{value:"energy",label:"Energy & Utilities"},{value:"healthcare",label:"Healthcare & Pharmaceuticals"},{value:"it",label:"Information Technology"},{value:"manufacturing",label:"Manufacturing"},{value:"retail",label:"Retail & E-commerce"},{value:"other",label:"Other"}];function Qw(){const{user:t,refreshUser:e}=We(),{showToast:r}=xr(),[n,s]=S.useState(!0),[i,a]=S.useState(!1),[l,u]=S.useState({name:"",company:"",job_title:"",sector:"",mobile_number:"",linkedin_url:"",website:"",esg_contributions:""});S.useEffect(()=>{t&&(u({name:t.name||"",company:t.company||"",job_title:t.job_title||"",sector:t.sector||"",mobile_number:t.mobile_number||"",linkedin_url:t.linkedin_url||"",website:t.website||"",esg_contributions:t.esg_contributions||""}),s(!1))},[t]);const c=f=>{const{name:h,value:v}=f.target;u(y=>({...y,[h]:v}))},d=async f=>{f.preventDefault(),a(!0);try{r("Profile updated successfully!","success"),e&&await e()}catch(h){console.error("Failed to update profile:",h),r("Failed to update profile","error")}finally{a(!1)}};return n?o.jsx(mn,{}):o.jsxs("div",{className:"dashboard-container",children:[o.jsx("h1",{className:"mb-6",children:"Profile Settings"}),o.jsxs("div",{className:"profile-grid",style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"var(--space-6)"},children:[o.jsxs(qt,{children:[o.jsx(Zr,{title:"Personal Information"}),o.jsx(Ht,{children:o.jsxs("form",{onSubmit:d,children:[o.jsxs("div",{className:"form-row",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-4)"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"name",children:"Full Name"}),o.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:l.name,onChange:c})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"email",children:"Email"}),o.jsx("input",{type:"email",id:"email",className:"form-input",value:(t==null?void 0:t.email)||"",disabled:!0}),o.jsx("span",{className:"form-helper",children:"Email cannot be changed"})]})]}),o.jsxs("div",{className:"form-row",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-4)"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"company",children:"Company"}),o.jsx("input",{type:"text",id:"company",name:"company",className:"form-input",value:l.company,onChange:c})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"job_title",children:"Job Title"}),o.jsx("input",{type:"text",id:"job_title",name:"job_title",className:"form-input",value:l.job_title,onChange:c})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"sector",children:"Sector"}),o.jsxs("select",{id:"sector",name:"sector",className:"form-input",value:l.sector,onChange:c,children:[o.jsx("option",{value:"",disabled:!0,children:"Select sector..."}),Jw.map(f=>o.jsx("option",{value:f.value,children:f.label},f.value))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"mobile_number",children:"Mobile Number"}),o.jsx("input",{type:"tel",id:"mobile_number",name:"mobile_number",className:"form-input",value:l.mobile_number,onChange:c})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"linkedin_url",children:"LinkedIn Profile"}),o.jsx("input",{type:"url",id:"linkedin_url",name:"linkedin_url",className:"form-input",placeholder:"https://linkedin.com/in/yourprofile",value:l.linkedin_url,onChange:c})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"website",children:"Professional Website"}),o.jsx("input",{type:"url",id:"website",name:"website",className:"form-input",placeholder:"https://yourwebsite.com",value:l.website,onChange:c})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",htmlFor:"esg_contributions",children:"ESG Contributions"}),o.jsx("textarea",{id:"esg_contributions",name:"esg_contributions",className:"form-input",rows:4,placeholder:"Describe your key ESG contributions and expertise...",value:l.esg_contributions,onChange:c})]}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?o.jsx("span",{className:"loading-spinner",style:{width:20,height:20}}):"Save Changes"})]})})]}),o.jsxs("div",{children:[o.jsxs(qt,{className:"mb-4",children:[o.jsx(Zr,{title:"Your Stats"}),o.jsxs(Ht,{children:[o.jsxs("div",{className:"profile-stat-item",children:[o.jsx("span",{className:"profile-stat-label",children:"STIF Credits"}),o.jsx("span",{className:"profile-stat-value",children:(t==null?void 0:t.contribution_score)||0})]}),o.jsxs("div",{className:"profile-stat-item",children:[o.jsx("span",{className:"profile-stat-label",children:"Panels Reviewed"}),o.jsx("span",{className:"profile-stat-value",children:(t==null?void 0:t.panels_completed)||0})]}),o.jsxs("div",{className:"profile-stat-item",children:[o.jsx("span",{className:"profile-stat-label",children:"Indicators Reviewed"}),o.jsx("span",{className:"profile-stat-value",children:(t==null?void 0:t.indicators_reviewed)||0})]}),o.jsxs("div",{className:"profile-stat-item",children:[o.jsx("span",{className:"profile-stat-label",children:"Member Since"}),o.jsx("span",{className:"profile-stat-value",children:t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"})]})]})]}),o.jsxs(qt,{children:[o.jsx(Zr,{title:"Account"}),o.jsxs(Ht,{children:[o.jsx("button",{type:"button",className:"btn btn-secondary w-full mb-3",onClick:()=>r("Password reset email sent!","info"),children:"Change Password"}),o.jsx("button",{type:"button",className:"btn btn-ghost w-full",style:{color:"var(--error)"},children:"Delete Account"})]})]})]})]})]})}function Yw(){var x,g,m;const{user:t}=We(),{showToast:e}=xr(),[r,n]=S.useState(!0),[s,i]=S.useState([]),[a,l]=S.useState("pending"),[u,c]=S.useState(null),[d,f]=S.useState(!1);S.useEffect(()=>{h()},[a]);const h=async()=>{n(!0);try{const p=await qr.getAdminSubmissions(a==="all"?void 0:a);i(p)}catch(p){console.error("Failed to load submissions:",p),e("Failed to load submissions","error")}finally{n(!1)}},v=async p=>{f(!0);try{const _=await qr.getSubmissionWithReviews(p.id);c(_)}catch(_){console.error("Failed to load submission details:",_),e("Failed to load details","error")}finally{f(!1)}},y=async p=>{try{await qr.updateSubmissionStatus(p,"approved"),e("Submission approved!","success"),h(),c(null)}catch(_){console.error("Failed to approve submission:",_),e("Failed to approve submission","error")}},w=async p=>{try{await qr.updateSubmissionStatus(p,"rejected"),e("Submission rejected","info"),h(),c(null)}catch(_){console.error("Failed to reject submission:",_),e("Failed to reject submission","error")}};return t!=null&&t.is_admin?r?o.jsx(mn,{}):o.jsxs("div",{className:"dashboard-container",children:[o.jsxs("div",{className:"flex-between mb-6",children:[o.jsx("h1",{children:"Admin Review"}),o.jsxs("div",{className:"text-secondary",children:[s.length," submissions"]})]}),o.jsx("div",{className:"flex mb-6",style:{gap:"var(--space-2)"},children:["all","pending","approved","rejected"].map(p=>o.jsx("button",{className:`btn ${a===p?"btn-primary":"btn-ghost"}`,onClick:()=>l(p),children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),o.jsx(qt,{children:o.jsx(Ht,{style:{padding:0},children:s.length===0?o.jsx("p",{className:"text-center text-secondary p-8",children:"No submissions found"}):o.jsxs("table",{className:"admin-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Panel"}),o.jsx("th",{children:"Champion"}),o.jsx("th",{children:"Submitted"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:s.map(p=>{var _;return o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:((_=p.panels)==null?void 0:_.name)||"Unknown Panel"})}),o.jsx("td",{children:p.champion_id}),o.jsx("td",{children:p.submitted_at?new Date(p.submitted_at).toLocaleDateString():"N/A"}),o.jsx("td",{children:o.jsx("span",{className:`badge badge-${p.status||"pending"}`,children:p.status||"pending"})}),o.jsx("td",{children:o.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>v(p),children:"View Details"})})]},p.id)})})]})})}),o.jsx(Yl,{isOpen:!!u||d,onClose:()=>c(null),title:"Submission Details",size:"xl",children:d?o.jsx("div",{className:"text-center p-8",children:o.jsx("div",{className:"loading-spinner"})}):u?o.jsxs("div",{children:[o.jsxs("div",{className:"submission-meta mb-6",style:{background:"var(--gray-50)",padding:"var(--space-4)",borderRadius:"var(--radius-lg)"},children:[o.jsxs("div",{className:"flex-between",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Panel:"})," ",(x=u.panels)==null?void 0:x.name]}),o.jsx("div",{children:o.jsx("span",{className:`badge badge-${u.status||"pending"}`,children:u.status||"pending"})})]}),o.jsxs("div",{className:"mt-2 text-secondary text-sm",children:["Submitted: ",u.submitted_at?new Date(u.submitted_at).toLocaleString():"N/A"]})]}),o.jsxs("h4",{className:"mb-4",children:["Indicator Reviews (",((g=u.indicatorReviews)==null?void 0:g.length)||0,")"]}),o.jsx("div",{className:"indicator-reviews-list",style:{maxHeight:"400px",overflowY:"auto"},children:(m=u.indicatorReviews)==null?void 0:m.map(p=>{var _;return o.jsxs("div",{className:"indicator-review-item",style:{padding:"var(--space-4)",borderBottom:"1px solid var(--gray-100)"},children:[o.jsxs("div",{className:"flex-between mb-2",children:[o.jsx("strong",{children:((_=p.indicators)==null?void 0:_.name)||"Indicator"}),o.jsx("span",{className:`badge badge-${p.review_status==="important"?"primary":"secondary"}`,children:p.review_status})]}),o.jsxs("div",{className:"review-details",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"var(--space-2)",fontSize:"var(--text-sm)",color:"var(--gray-600)"},children:[p.impact_level&&o.jsxs("div",{children:[o.jsx("strong",{children:"Impact:"})," ",p.impact_level]}),p.stakeholder_group&&o.jsxs("div",{children:[o.jsx("strong",{children:"Stakeholder:"})," ",p.stakeholder_group]}),p.frequency_of_disclosure&&o.jsxs("div",{children:[o.jsx("strong",{children:"Frequency:"})," ",p.frequency_of_disclosure]}),p.estimated_cost_to_collect&&o.jsxs("div",{children:[o.jsx("strong",{children:"Cost:"})," ",p.estimated_cost_to_collect]})]}),p.notes&&o.jsxs("div",{className:"mt-2 text-secondary text-sm",children:[o.jsx("strong",{children:"Notes:"})," ",p.notes]})]},p.id)})}),u.status==="pending"&&o.jsxs("div",{className:"modal-actions mt-6",style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-3)",borderTop:"1px solid var(--gray-100)",paddingTop:"var(--space-4)"},children:[o.jsx("button",{className:"btn btn-ghost",style:{color:"var(--error)"},onClick:()=>w(u.id),children:"Reject"}),o.jsx("button",{className:"btn btn-primary",onClick:()=>y(u.id),children:"Approve Submission"})]})]}):null})]}):o.jsxs("div",{className:"dashboard-container text-center p-12",children:[o.jsx("h1",{children:"Access Denied"}),o.jsx("p",{className:"text-secondary",children:"You do not have permission to access this page."})]})}function Xw(){return o.jsxs("main",{style:{paddingTop:"100px"},children:[o.jsx("section",{style:{padding:"var(--space-16) 0",background:"var(--gray-50)"},children:o.jsxs("div",{className:"container text-center",children:[o.jsx("h1",{children:"About STIF"}),o.jsx("p",{className:"text-secondary",style:{maxWidth:"700px",margin:"var(--space-4) auto"},children:"The Sustainability Technology and Innovation Forum is dedicated to making ESG reporting accessible and meaningful for small and medium enterprises worldwide."})]})}),o.jsx("section",{className:"container",style:{padding:"var(--space-16) 0"},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-12)",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("h2",{children:"Our Mission"}),o.jsx("p",{className:"text-secondary",style:{marginBottom:"var(--space-4)"},children:"We believe that sustainability reporting shouldn't be reserved for large corporations. SMEs represent over 90% of businesses globally and are critical to achieving global sustainability goals."}),o.jsx("p",{className:"text-secondary",children:"Our mission is to create a practical, expert-validated baseline of ESG indicators that SMEs can use to measure and improve their sustainability performance."})]}),o.jsxs("div",{className:"feature-card",style:{padding:"var(--space-8)"},children:[o.jsx("div",{className:"stat-value text-gradient",style:{fontSize:"var(--text-5xl)"},children:"90%+"}),o.jsx("p",{className:"text-secondary mt-2",children:"of global businesses are SMEs"})]})]})}),o.jsx("section",{style:{background:"var(--primary-50)",padding:"var(--space-16) 0"},children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"text-center mb-8",children:"How Champions Make a Difference"}),o.jsxs("div",{className:"features-grid",children:[o.jsxs("div",{className:"feature-card",children:[o.jsx("h3",{children:"Expert Validation"}),o.jsx("p",{className:"text-secondary",children:"Champions review and validate ESG indicators, ensuring they are relevant, practical, and impactful for SMEs."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("h3",{children:"Train Our AI"}),o.jsx("p",{className:"text-secondary",children:"Your expert reviews help train the STIF Intelligence Engine to provide smarter, context-aware recommendations."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("h3",{children:"Shape Standards"}),o.jsx("p",{className:"text-secondary",children:"The collective wisdom of champions directly influences which indicators become part of the global SME ESG baseline."})]})]})]})}),o.jsxs("section",{className:"container text-center",style:{padding:"var(--space-16) 0"},children:[o.jsx("h2",{children:"Ready to Make an Impact?"}),o.jsx("p",{className:"text-secondary",style:{maxWidth:"600px",margin:"var(--space-4) auto var(--space-6)"},children:"Join our community of sustainability champions and help shape the future of ESG reporting."}),o.jsx(B,{to:"/champion-register",className:"btn btn-primary btn-lg",children:"Become a Champion"})]})]})}function Zw(){return o.jsx("main",{className:"flex-center",style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-8)"},children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{style:{fontSize:"var(--text-6xl)",color:"var(--gray-300)"},children:"404"}),o.jsx("h2",{style:{marginBottom:"var(--space-4)"},children:"Page Not Found"}),o.jsx("p",{className:"text-secondary",style:{marginBottom:"var(--space-6)"},children:"The page you're looking for doesn't exist or has been moved."}),o.jsx(B,{to:"/",className:"btn btn-primary",children:"Go Home"})]})})}function e_(){return o.jsxs(tv,{children:[o.jsxs(ke,{element:o.jsx(Mc,{}),children:[o.jsx(ke,{path:"/",element:o.jsx(Ew,{})}),o.jsx(ke,{path:"/about",element:o.jsx(Xw,{})}),o.jsx(ke,{path:"/ranking",element:o.jsx(Gw,{})})]}),o.jsxs(ke,{element:o.jsx(jw,{}),children:[o.jsx(ke,{path:"/champion-login",element:o.jsx(Nw,{})}),o.jsx(ke,{path:"/champion-register",element:o.jsx(Pw,{})})]}),o.jsxs(ke,{element:o.jsx(rw,{children:o.jsx(Mc,{showSidebar:!0})}),children:[o.jsx(ke,{path:"/champion-dashboard",element:o.jsx(Lw,{})}),o.jsx(ke,{path:"/champion-panels",element:o.jsx(Fw,{})}),o.jsx(ke,{path:"/champion-indicators",element:o.jsx(Kw,{})}),o.jsx(ke,{path:"/champion-profile",element:o.jsx(Qw,{})}),o.jsx(ke,{path:"/admin-review",element:o.jsx(Yw,{})})]}),o.jsx(ke,{path:"*",element:o.jsx(Zw,{})})]})}function t_(){return o.jsx(uv,{children:o.jsx(tw,{children:o.jsx(e_,{})})})}Ba.createRoot(document.getElementById("root")).render(o.jsx(Zc.StrictMode,{children:o.jsx(t_,{})}));
//# sourceMappingURL=index-DXwoZGUp.js.map
